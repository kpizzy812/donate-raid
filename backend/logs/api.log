2025-06-12 at 12:24:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 12:24:17 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 12:24:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 12:24:17 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 12:24:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 12:24:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 12:24:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 12:24:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 12:24:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 12:24:17 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 12:24:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 12:24:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 12:30:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 12:30:50 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 12:30:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 12:30:50 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 12:30:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 12:30:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 12:30:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 12:30:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 12:30:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 12:30:51 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 12:30:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 12:30:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 12:57:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 12:57:44 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 12:57:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 12:57:44 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 12:57:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 12:57:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 12:57:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 12:57:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 12:57:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 12:57:45 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 12:57:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 12:57:45 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 12:58:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles
2025-06-12 at 12:58:41 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles
2025-06-12 at 12:58:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles
2025-06-12 at 12:58:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/
2025-06-12 at 12:58:41 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles
2025-06-12 at 12:58:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/
2025-06-12 at 12:58:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/
2025-06-12 at 12:58:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/
2025-06-12 at 12:58:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-12 at 12:58:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-12 at 12:59:12 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/auth/request-link
2025-06-12 at 12:59:12 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/request-link
2025-06-12 at 12:59:12 | INFO | main:18 - 📥 POST http://localhost:8000/api/auth/request-link
2025-06-12 at 12:59:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/request-link
2025-06-12 at 13:00:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/auth/verify?token=2bf7d294-4af5-4849-87ae-eb7953a0883a
2025-06-12 at 13:00:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/verify?token=2bf7d294-4af5-4849-87ae-eb7953a0883a
2025-06-12 at 13:00:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/auth/verify?token=2bf7d294-4af5-4849-87ae-eb7953a0883a
2025-06-12 at 13:00:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/verify?token=2bf7d294-4af5-4849-87ae-eb7953a0883a
2025-06-12 at 13:00:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 13:00:08 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 13:00:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 13:00:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 13:00:08 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 13:00:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 13:00:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 13:00:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 13:00:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 13:00:09 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 13:00:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 13:00:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 13:00:09 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 13:00:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 13:00:09 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 13:00:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 13:00:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 13:00:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 13:00:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 13:00:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 13:00:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 13:00:09 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 13:00:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 13:00:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 13:00:15 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 13:00:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 13:00:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 13:00:15 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 13:00:15 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 13:00:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 13:00:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 13:00:15 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 13:00:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 13:00:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 13:00:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 13:00:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 13:00:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 13:00:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 13:00:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 13:00:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 13:00:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 13:00:15 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 13:00:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 13:00:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 13:16:55 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 13:16:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 13:16:55 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 13:16:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 13:16:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 13:16:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 13:16:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 13:16:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 13:16:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 13:16:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 13:16:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 13:16:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 13:16:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 13:16:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 13:16:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 13:16:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 13:16:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 13:16:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 13:16:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 13:16:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 13:16:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 13:16:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 13:16:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 13:16:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 13:16:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 13:16:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 13:16:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 13:16:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 13:16:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 13:16:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 13:16:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 13:16:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 13:16:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 13:16:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 13:16:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 13:16:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 13:18:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 13:18:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 13:18:54 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 13:18:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 13:18:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 13:18:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 13:18:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 13:18:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 13:18:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 13:18:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 13:18:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 13:18:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 13:18:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 13:18:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 13:18:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 13:18:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 13:19:11 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-12 at 13:19:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-12 at 13:19:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-12 at 13:19:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-12 at 13:19:21 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-12 at 13:19:21 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-12 at 13:19:25 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles
2025-06-12 at 13:19:25 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles
2025-06-12 at 13:19:25 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles
2025-06-12 at 13:19:25 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles
2025-06-12 at 13:19:25 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles
2025-06-12 at 13:19:25 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles
2025-06-12 at 13:19:25 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles
2025-06-12 at 13:19:25 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles
2025-06-12 at 13:19:25 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles/
2025-06-12 at 13:19:25 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles/
2025-06-12 at 13:19:25 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/
2025-06-12 at 13:19:25 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/
2025-06-12 at 13:19:25 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/
2025-06-12 at 13:19:25 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/
2025-06-12 at 13:19:25 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/
2025-06-12 at 13:19:25 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/
2025-06-12 at 13:19:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 13:19:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 13:19:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 13:19:30 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/my
2025-06-12 at 13:19:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/my
2025-06-12 at 13:19:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 13:19:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/my
2025-06-12 at 13:19:30 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/my
2025-06-12 at 13:19:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/my
2025-06-12 at 13:19:30 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/my
2025-06-12 at 13:19:51 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/me
2025-06-12 at 13:19:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-12 at 13:19:51 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/manual/me
2025-06-12 at 13:19:51 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/manual/me
2025-06-12 at 13:19:51 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/me
2025-06-12 at 13:19:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-12 at 13:19:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-12 at 13:19:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-12 at 13:19:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-12 at 13:19:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-12 at 13:19:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-12 at 13:19:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-12 at 13:19:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-12 at 13:19:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-12 at 13:19:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-12 at 13:19:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-12 at 13:20:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 13:20:32 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 13:20:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 13:20:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 13:20:32 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 13:20:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 13:20:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 13:20:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 13:20:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 13:20:32 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 13:20:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 13:20:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 13:32:13 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 13:32:13 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 13:32:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 13:32:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 13:32:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 13:32:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 13:32:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 13:32:14 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/my
2025-06-12 at 13:32:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/my
2025-06-12 at 13:32:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/my
2025-06-12 at 13:32:14 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/my
2025-06-12 at 13:32:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 13:32:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/my
2025-06-12 at 13:32:14 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/my
2025-06-12 at 14:10:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 14:10:13 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 14:10:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 14:10:13 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 14:10:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 14:10:13 | ERROR | main:22 - ❌ Exception during request: Mapper 'Mapper[Game(games)]' has no property 'faqs'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2522, in get_property
    return self._props[key]
           │    │      └ 'faqs'
           │    └ {'products': <_RelationshipDeclared at 0x7fb3d70e2490; products>, 'id': <ColumnProperty at 0x7fb3d70dd140; id>, 'name': <Colu...
           └ <Mapper at 0x7fb3d70f80d0; Game>

KeyError: 'faqs'


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7fb3da862200>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fb3da9337e0>
           └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fb3da932d40>
    └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fb3d9c59210>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
    │    └ <function subprocess_started at 0x7fb3d9ac6de0>
    └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fb3d99fa450>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fb3d9ac5bc0>
           │       │   └ <uvicorn.server.Server object at 0x7fb3d99fa450>
           │       └ <function run at 0x7fb3da2e3c40>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fb3d9967d30>
           │      └ <function Runner.run at 0x7fb3da33b1a0>
           └ <asyncio.runners.Runner object at 0x7fb3d9a0c090>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fb3d95801e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fb3d9a0c090>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb3d34cbd50>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d2dc5c...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d2d...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb3d948c690>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb3d34cbd50>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d2dc5c...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d2d...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d2dc5c...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d2d...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb3d2e7b650>
          └ <fastapi.applications.FastAPI object at 0x7fb3d948c690>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fb3d2ab4fe0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d2d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb3d2d9d610>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb3d2e7b650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fb3d2ab4f40>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fb3d2ec2cd0>
                     │    └ <function log_requests at 0x7fb3d2b66d40>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb3d2d9d610>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fb3d2ec2cd0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fb3d2ab4f40>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ InvalidRequestError("Mapper 'Mapper[Game(games)]' has no property 'faqs'.  If this property was indicated from other mappers ...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fb3d2ab4e00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2ab60c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb3d2d9d610>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (M...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fb3d2ab4e00>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2ab60c0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7fb3d2b67420>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2ab60c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fb3d2ec3fd0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2ab60c0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fb3d63efc50>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fb3d41efa10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fb3d2ec3fd0>
          └ <function wrap_app_handling_exceptions at 0x7fb3d864a020>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d2ab4b80>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2ab60c0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fb3d41efa10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d2ab4b80>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2ab60c0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fb3d41efa10>>
          └ <fastapi.routing.APIRouter object at 0x7fb3d41efa10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d2ab4b80>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2ab60c0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │     └ <function Route.handle at 0x7fb3d864b600>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d2ab4b80>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2ab60c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fb3d2b65940>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d2ab4b80>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2ab60c0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fb3d2a96110>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fb3d2ab4c20>
          └ <function wrap_app_handling_exceptions at 0x7fb3d864a020>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d2ab5080>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2ab60c0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fb3d2ab4c20>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fb3d2a96110>
                     └ <function get_request_handler.<locals>.app at 0x7fb3d2b656c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fb3d8669440>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fb3d2d8b250>, 'q': ''}
                 │                 │         └ <function list_games at 0x7fb3d86f0220>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation')], header_params=[], cooki...
                 └ <function run_in_threadpool at 0x7fb3d8bbd940>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function list_games at 0x7fb3d86f0220>, db=<sqlalchemy.orm.session.Session object at 0x7fb3d2d8b250>, q='')
                 │     │         └ <function run_sync at 0x7fb3d9b5a520>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fb3d9b236a0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=InvalidRequestError("Mapper 'Mapper[Game(games)]' has no property 'faqs'.  If this property was in...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/games.py", line 24, in list_games
    query = db.query(Game).options(joinedload(Game.products))
            │  │     │             │          │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7fb3d70fc040>
            │  │     │             │          └ <class 'app.models.game.Game'>
            │  │     │             └ <function joinedload at 0x7fb3d7906f20>
            │  │     └ <class 'app.models.game.Game'>
            │  └ <function Session.query at 0x7fb3d7845760>
            └ <sqlalchemy.orm.session.Session object at 0x7fb3d2d8b250>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           │    │          │         │       └ {}
           │    │          │         └ <sqlalchemy.orm.session.Session object at 0x7fb3d2d8b250>
           │    │          └ (<class 'app.models.game.Game'>,)
           │    └ <class 'sqlalchemy.orm.query.Query'>
           └ <sqlalchemy.orm.session.Session object at 0x7fb3d2d8b250>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    │    │             └ (<class 'app.models.game.Game'>,)
    │    └ <function Query._set_entities at 0x7fb3d7967560>
    └ <sqlalchemy.orm.query.Query object at 0x7fb3d34d7190>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 288, in _set_entities
    self._raw_columns = [
    └ <sqlalchemy.orm.query.Query object at 0x7fb3d34d7190>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 289, in <listcomp>
    coercions.expect(
    │         └ <function expect at 0x7fb3d7f5e8e0>
    └ <module 'sqlalchemy.sql.coercions' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/coercions.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
    │    └ <sqlalchemy.util.langhelpers.HasMemoized.memoized_attribute object at 0x7fb3d79682d0>
    └ <Mapper at 0x7fb3d70f80d0; Game>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
    │   │        │    │                    │    │    └ <Mapper at 0x7fb3d70f80d0; Game>
    │   │        │    │                    │    └ <function Mapper._post_inspect at 0x7fb3d79637e0>
    │   │        │    │                    └ <sqlalchemy.util.langhelpers.HasMemoized.memoized_attribute object at 0x7fb3d79682d0>
    │   │        │    └ '_post_inspect'
    │   │        └ <sqlalchemy.util.langhelpers.HasMemoized.memoized_attribute object at 0x7fb3d79682d0>
    │   └ <attribute '__dict__' of 'Mapper' objects>
    └ <Mapper at 0x7fb3d70f80d0; Game>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    │    └ <function Mapper._check_configure at 0x7fb3d7962a20>
    └ <Mapper at 0x7fb3d70f80d0; Game>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    │                      │    └ <sqlalchemy.orm.decl_api.registry object at 0x7fb3da581410>
    │                      └ <Mapper at 0x7fb3d70f80d0; Game>
    └ <function _configure_registries at 0x7fb3d79667a0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
    │                        │           └ True
    │                        └ set()
    └ <function _do_configure_registries at 0x7fb3d79668e0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
    │      └ <function Mapper._post_configure_properties at 0x7fb3d79628e0>
    └ <Mapper at 0x7fb3d6fa5890; GameFAQ>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2418, in _post_configure_properties
    prop.init()
    │    └ <function MapperProperty.init at 0x7fb3d7a23240>
    └ <_RelationshipDeclared at 0x7fb3d71877f0; game>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/interfaces.py", line 589, in init
    self.do_init()
    │    └ <function RelationshipProperty.do_init at 0x7fb3d795d1c0>
    └ <_RelationshipDeclared at 0x7fb3d71877f0; game>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 1661, in do_init
    self._generate_backref()
    │    └ <function RelationshipProperty._generate_backref at 0x7fb3d795dbc0>
    └ <_RelationshipDeclared at 0x7fb3d71877f0; game>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 2145, in _generate_backref
    self._add_reverse_property(self.back_populates)
    │    │                     │    └ 'faqs'
    │    │                     └ <_RelationshipDeclared at 0x7fb3d71877f0; game>
    │    └ <function RelationshipProperty._add_reverse_property at 0x7fb3d795cfe0>
    └ <_RelationshipDeclared at 0x7fb3d71877f0; game>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 1592, in _add_reverse_property
    other = self.mapper.get_property(key, _configure_mappers=False)
            │    │      │            └ 'faqs'
            │    │      └ <function Mapper.get_property at 0x7fb3d79631a0>
            │    └ <Mapper at 0x7fb3d70f80d0; Game>
            └ <_RelationshipDeclared at 0x7fb3d71877f0; game>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2524, in get_property
    raise sa_exc.InvalidRequestError(
          │      └ <class 'sqlalchemy.exc.InvalidRequestError'>
          └ <module 'sqlalchemy.exc' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.InvalidRequestError: Mapper 'Mapper[Game(games)]' has no property 'faqs'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2025-06-12 at 14:10:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 14:10:13 | ERROR | main:22 - ❌ Exception during request: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[GameFAQ(game_faqs)]'. Original exception was: Mapper 'Mapper[Game(games)]' has no property 'faqs'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7fb3d99dd8a0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7fb3da862200>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fb3da9337e0>
           └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fb3da932d40>
    └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fb3d9c59210>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
    │    └ <function subprocess_started at 0x7fb3d9ac6de0>
    └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fb3d99fa450>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fb3d9ac5bc0>
           │       │   └ <uvicorn.server.Server object at 0x7fb3d99fa450>
           │       └ <function run at 0x7fb3da2e3c40>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fb3d9967d30>
           │      └ <function Runner.run at 0x7fb3da33b1a0>
           └ <asyncio.runners.Runner object at 0x7fb3d9a0c090>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fb3d95801e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fb3d9a0c090>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb3d34cbd50>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d294d4...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d29...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb3d948c690>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb3d34cbd50>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d294d4...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d29...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d294d4...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d29...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb3d2e7b650>
          └ <fastapi.applications.FastAPI object at 0x7fb3d948c690>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fb3d2be7a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d29...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb3d2d9d610>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb3d2e7b650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fb3d2be7c40>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fb3d957b810>
                     │    └ <function log_requests at 0x7fb3d2b66d40>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb3d2d9d610>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fb3d957b810>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fb3d2be7c40>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ InvalidRequestError("One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggerin...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fb3d2957ba0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2957b00>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb3d2d9d610>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (M...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fb3d2957ba0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2957b00>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7fb3d2b67420>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2957b00>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fb3d2ec3fd0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2957b00>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fb3d1d4bd10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fb3d41efa10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fb3d2ec3fd0>
          └ <function wrap_app_handling_exceptions at 0x7fb3d864a020>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d2957e20>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2957b00>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fb3d41efa10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d2957e20>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2957b00>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fb3d41efa10>>
          └ <fastapi.routing.APIRouter object at 0x7fb3d41efa10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d2957e20>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2957b00>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │     └ <function Route.handle at 0x7fb3d864b600>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d2957e20>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2957b00>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fb3d2b65940>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d2957e20>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2957b00>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fb3d1d4bc10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fb3d2957ec0>
          └ <function wrap_app_handling_exceptions at 0x7fb3d864a020>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d1d7c040>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2957b00>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fb3d2957ec0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fb3d1d4bc10>
                     └ <function get_request_handler.<locals>.app at 0x7fb3d2b656c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fb3d8669440>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fb3d2d75f50>, 'q': ''}
                 │                 │         └ <function list_games at 0x7fb3d86f0220>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation')], header_params=[], cooki...
                 └ <function run_in_threadpool at 0x7fb3d8bbd940>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function list_games at 0x7fb3d86f0220>, db=<sqlalchemy.orm.session.Session object at 0x7fb3d2d75f50>, q='')
                 │     │         └ <function run_sync at 0x7fb3d9b5a520>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fb3d9b236a0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=InvalidRequestError("One or more mappers failed to initialize - can't proceed with initialization ...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/games.py", line 24, in list_games
    query = db.query(Game).options(joinedload(Game.products))
            │  │     │             │          │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7fb3d70fc040>
            │  │     │             │          └ <class 'app.models.game.Game'>
            │  │     │             └ <function joinedload at 0x7fb3d7906f20>
            │  │     └ <class 'app.models.game.Game'>
            │  └ <function Session.query at 0x7fb3d7845760>
            └ <sqlalchemy.orm.session.Session object at 0x7fb3d2d75f50>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           │    │          │         │       └ {}
           │    │          │         └ <sqlalchemy.orm.session.Session object at 0x7fb3d2d75f50>
           │    │          └ (<class 'app.models.game.Game'>,)
           │    └ <class 'sqlalchemy.orm.query.Query'>
           └ <sqlalchemy.orm.session.Session object at 0x7fb3d2d75f50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    │    │             └ (<class 'app.models.game.Game'>,)
    │    └ <function Query._set_entities at 0x7fb3d7967560>
    └ <sqlalchemy.orm.query.Query object at 0x7fb3d34ca1d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 288, in _set_entities
    self._raw_columns = [
    └ <sqlalchemy.orm.query.Query object at 0x7fb3d34ca1d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 289, in <listcomp>
    coercions.expect(
    │         └ <function expect at 0x7fb3d7f5e8e0>
    └ <module 'sqlalchemy.sql.coercions' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/coercions.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
    │    └ <sqlalchemy.util.langhelpers.HasMemoized.memoized_attribute object at 0x7fb3d79682d0>
    └ <Mapper at 0x7fb3d70f80d0; Game>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
    │   │        │    │                    │    │    └ <Mapper at 0x7fb3d70f80d0; Game>
    │   │        │    │                    │    └ <function Mapper._post_inspect at 0x7fb3d79637e0>
    │   │        │    │                    └ <sqlalchemy.util.langhelpers.HasMemoized.memoized_attribute object at 0x7fb3d79682d0>
    │   │        │    └ '_post_inspect'
    │   │        └ <sqlalchemy.util.langhelpers.HasMemoized.memoized_attribute object at 0x7fb3d79682d0>
    │   └ <attribute '__dict__' of 'Mapper' objects>
    └ <Mapper at 0x7fb3d70f80d0; Game>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    │    └ <function Mapper._check_configure at 0x7fb3d7962a20>
    └ <Mapper at 0x7fb3d70f80d0; Game>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    │                      │    └ <sqlalchemy.orm.decl_api.registry object at 0x7fb3da581410>
    │                      └ <Mapper at 0x7fb3d70f80d0; Game>
    └ <function _configure_registries at 0x7fb3d79667a0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
    │                        │           └ True
    │                        └ set()
    └ <function _do_configure_registries at 0x7fb3d79668e0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4251, in _do_configure_registries
    raise e
          └ InvalidRequestError("One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggerin...

sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[GameFAQ(game_faqs)]'. Original exception was: Mapper 'Mapper[Game(games)]' has no property 'faqs'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2025-06-12 at 14:10:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 14:10:13 | ERROR | main:22 - ❌ Exception during request: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[GameFAQ(game_faqs)]'. Original exception was: Mapper 'Mapper[Game(games)]' has no property 'faqs'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7fb3d99dd8a0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7fb3da862200>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fb3da9337e0>
           └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fb3da932d40>
    └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fb3d9c59210>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
    │    └ <function subprocess_started at 0x7fb3d9ac6de0>
    └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fb3d99fa450>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fb3d9ac5bc0>
           │       │   └ <uvicorn.server.Server object at 0x7fb3d99fa450>
           │       └ <function run at 0x7fb3da2e3c40>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fb3d9967d30>
           │      └ <function Runner.run at 0x7fb3da33b1a0>
           └ <asyncio.runners.Runner object at 0x7fb3d9a0c090>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fb3d95801e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fb3d9a0c090>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb3d34cbd50>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d1d867...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d1d...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb3d948c690>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb3d34cbd50>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d1d867...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d1d...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d1d867...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d1d...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb3d2e7b650>
          └ <fastapi.applications.FastAPI object at 0x7fb3d948c690>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fb3d1d7c400>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d1d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb3d2d9d610>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb3d2e7b650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fb3d1d7c360>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fb3d1d86410>
                     │    └ <function log_requests at 0x7fb3d2b66d40>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb3d2d9d610>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fb3d1d86410>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fb3d1d7c360>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ InvalidRequestError("One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggerin...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fb3d1d7c540>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d1d7c0e0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb3d2d9d610>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (M...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fb3d1d7c540>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d1d7c0e0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7fb3d2b67420>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d1d7c0e0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fb3d2ec3fd0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d1d7c0e0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fb3d1d86fd0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fb3d41efa10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fb3d2ec3fd0>
          └ <function wrap_app_handling_exceptions at 0x7fb3d864a020>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d1d7c7c0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d1d7c0e0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fb3d41efa10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d1d7c7c0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d1d7c0e0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fb3d41efa10>>
          └ <fastapi.routing.APIRouter object at 0x7fb3d41efa10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d1d7c7c0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d1d7c0e0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │     └ <function Route.handle at 0x7fb3d864b600>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d1d7c7c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d1d7c0e0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fb3d2b65940>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d1d7c7c0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d1d7c0e0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fb3d1d86e90>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fb3d1d7c860>
          └ <function wrap_app_handling_exceptions at 0x7fb3d864a020>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d1d7c9a0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d1d7c0e0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fb3d1d7c860>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fb3d1d86e90>
                     └ <function get_request_handler.<locals>.app at 0x7fb3d2b656c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fb3d8669440>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fb3d2ec38d0>, 'q': ''}
                 │                 │         └ <function list_games at 0x7fb3d86f0220>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation')], header_params=[], cooki...
                 └ <function run_in_threadpool at 0x7fb3d8bbd940>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function list_games at 0x7fb3d86f0220>, db=<sqlalchemy.orm.session.Session object at 0x7fb3d2ec38d0>, q='')
                 │     │         └ <function run_sync at 0x7fb3d9b5a520>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fb3d9b236a0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=InvalidRequestError("One or more mappers failed to initialize - can't proceed with initialization ...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/games.py", line 24, in list_games
    query = db.query(Game).options(joinedload(Game.products))
            │  │     │             │          │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7fb3d70fc040>
            │  │     │             │          └ <class 'app.models.game.Game'>
            │  │     │             └ <function joinedload at 0x7fb3d7906f20>
            │  │     └ <class 'app.models.game.Game'>
            │  └ <function Session.query at 0x7fb3d7845760>
            └ <sqlalchemy.orm.session.Session object at 0x7fb3d2ec38d0>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           │    │          │         │       └ {}
           │    │          │         └ <sqlalchemy.orm.session.Session object at 0x7fb3d2ec38d0>
           │    │          └ (<class 'app.models.game.Game'>,)
           │    └ <class 'sqlalchemy.orm.query.Query'>
           └ <sqlalchemy.orm.session.Session object at 0x7fb3d2ec38d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    │    │             └ (<class 'app.models.game.Game'>,)
    │    └ <function Query._set_entities at 0x7fb3d7967560>
    └ <sqlalchemy.orm.query.Query object at 0x7fb3d1d87810>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 288, in _set_entities
    self._raw_columns = [
    └ <sqlalchemy.orm.query.Query object at 0x7fb3d1d87810>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 289, in <listcomp>
    coercions.expect(
    │         └ <function expect at 0x7fb3d7f5e8e0>
    └ <module 'sqlalchemy.sql.coercions' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/coercions.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
    │    └ <sqlalchemy.util.langhelpers.HasMemoized.memoized_attribute object at 0x7fb3d79682d0>
    └ <Mapper at 0x7fb3d70f80d0; Game>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
    │   │        │    │                    │    │    └ <Mapper at 0x7fb3d70f80d0; Game>
    │   │        │    │                    │    └ <function Mapper._post_inspect at 0x7fb3d79637e0>
    │   │        │    │                    └ <sqlalchemy.util.langhelpers.HasMemoized.memoized_attribute object at 0x7fb3d79682d0>
    │   │        │    └ '_post_inspect'
    │   │        └ <sqlalchemy.util.langhelpers.HasMemoized.memoized_attribute object at 0x7fb3d79682d0>
    │   └ <attribute '__dict__' of 'Mapper' objects>
    └ <Mapper at 0x7fb3d70f80d0; Game>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    │    └ <function Mapper._check_configure at 0x7fb3d7962a20>
    └ <Mapper at 0x7fb3d70f80d0; Game>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    │                      │    └ <sqlalchemy.orm.decl_api.registry object at 0x7fb3da581410>
    │                      └ <Mapper at 0x7fb3d70f80d0; Game>
    └ <function _configure_registries at 0x7fb3d79667a0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
    │                        │           └ True
    │                        └ set()
    └ <function _do_configure_registries at 0x7fb3d79668e0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4251, in _do_configure_registries
    raise e
          └ InvalidRequestError("One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggerin...

sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[GameFAQ(game_faqs)]'. Original exception was: Mapper 'Mapper[Game(games)]' has no property 'faqs'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2025-06-12 at 14:10:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 14:10:13 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 14:10:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 14:10:13 | ERROR | main:22 - ❌ Exception during request: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[GameFAQ(game_faqs)]'. Original exception was: Mapper 'Mapper[Game(games)]' has no property 'faqs'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7fb3d99dd8a0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7fb3da862200>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fb3da9337e0>
           └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fb3da932d40>
    └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fb3d9c59210>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
    │    └ <function subprocess_started at 0x7fb3d9ac6de0>
    └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fb3d99fa450>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fb3d9ac5bc0>
           │       │   └ <uvicorn.server.Server object at 0x7fb3d99fa450>
           │       └ <function run at 0x7fb3da2e3c40>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fb3d9967d30>
           │      └ <function Runner.run at 0x7fb3da33b1a0>
           └ <asyncio.runners.Runner object at 0x7fb3d9a0c090>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fb3d95801e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fb3d9a0c090>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb3d34cbd50>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d1d840...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d1d...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb3d948c690>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb3d34cbd50>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d1d840...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d1d...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d1d840...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d1d...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb3d2e7b650>
          └ <fastapi.applications.FastAPI object at 0x7fb3d948c690>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fb3d2957a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d1d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb3d2d9d610>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb3d2e7b650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fb3d2957ba0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fb3d1d84210>
                     │    └ <function log_requests at 0x7fb3d2b66d40>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb3d2d9d610>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fb3d1d84210>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fb3d2957ba0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ InvalidRequestError("One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggerin...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fb3d2957d80>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2957ec0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb3d2d9d610>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (M...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fb3d2957d80>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2957ec0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7fb3d2b67420>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2957ec0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fb3d2ec3fd0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2957ec0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fb3d1d4be50>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fb3d41efa10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fb3d2ec3fd0>
          └ <function wrap_app_handling_exceptions at 0x7fb3d864a020>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d1d7c040>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2957ec0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fb3d41efa10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d1d7c040>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2957ec0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fb3d41efa10>>
          └ <fastapi.routing.APIRouter object at 0x7fb3d41efa10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d1d7c040>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2957ec0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │     └ <function Route.handle at 0x7fb3d864b600>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d1d7c040>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2957ec0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fb3d2b65940>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d1d7c040>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2957ec0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fb3d1d4bf50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fb3d1d7c2c0>
          └ <function wrap_app_handling_exceptions at 0x7fb3d864a020>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d1d7c680>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d2957ec0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fb3d1d7c2c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fb3d1d4bf50>
                     └ <function get_request_handler.<locals>.app at 0x7fb3d2b656c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fb3d8669440>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fb3d1d87710>, 'q': ''}
                 │                 │         └ <function list_games at 0x7fb3d86f0220>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation')], header_params=[], cooki...
                 └ <function run_in_threadpool at 0x7fb3d8bbd940>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function list_games at 0x7fb3d86f0220>, db=<sqlalchemy.orm.session.Session object at 0x7fb3d1d87710>, q='')
                 │     │         └ <function run_sync at 0x7fb3d9b5a520>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fb3d9b236a0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=InvalidRequestError("One or more mappers failed to initialize - can't proceed with initialization ...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/games.py", line 24, in list_games
    query = db.query(Game).options(joinedload(Game.products))
            │  │     │             │          │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7fb3d70fc040>
            │  │     │             │          └ <class 'app.models.game.Game'>
            │  │     │             └ <function joinedload at 0x7fb3d7906f20>
            │  │     └ <class 'app.models.game.Game'>
            │  └ <function Session.query at 0x7fb3d7845760>
            └ <sqlalchemy.orm.session.Session object at 0x7fb3d1d87710>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           │    │          │         │       └ {}
           │    │          │         └ <sqlalchemy.orm.session.Session object at 0x7fb3d1d87710>
           │    │          └ (<class 'app.models.game.Game'>,)
           │    └ <class 'sqlalchemy.orm.query.Query'>
           └ <sqlalchemy.orm.session.Session object at 0x7fb3d1d87710>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    │    │             └ (<class 'app.models.game.Game'>,)
    │    └ <function Query._set_entities at 0x7fb3d7967560>
    └ <sqlalchemy.orm.query.Query object at 0x7fb3d1d90fd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 288, in _set_entities
    self._raw_columns = [
    └ <sqlalchemy.orm.query.Query object at 0x7fb3d1d90fd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 289, in <listcomp>
    coercions.expect(
    │         └ <function expect at 0x7fb3d7f5e8e0>
    └ <module 'sqlalchemy.sql.coercions' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/coercions.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
    │    └ <sqlalchemy.util.langhelpers.HasMemoized.memoized_attribute object at 0x7fb3d79682d0>
    └ <Mapper at 0x7fb3d70f80d0; Game>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
    │   │        │    │                    │    │    └ <Mapper at 0x7fb3d70f80d0; Game>
    │   │        │    │                    │    └ <function Mapper._post_inspect at 0x7fb3d79637e0>
    │   │        │    │                    └ <sqlalchemy.util.langhelpers.HasMemoized.memoized_attribute object at 0x7fb3d79682d0>
    │   │        │    └ '_post_inspect'
    │   │        └ <sqlalchemy.util.langhelpers.HasMemoized.memoized_attribute object at 0x7fb3d79682d0>
    │   └ <attribute '__dict__' of 'Mapper' objects>
    └ <Mapper at 0x7fb3d70f80d0; Game>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    │    └ <function Mapper._check_configure at 0x7fb3d7962a20>
    └ <Mapper at 0x7fb3d70f80d0; Game>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    │                      │    └ <sqlalchemy.orm.decl_api.registry object at 0x7fb3da581410>
    │                      └ <Mapper at 0x7fb3d70f80d0; Game>
    └ <function _configure_registries at 0x7fb3d79667a0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
    │                        │           └ True
    │                        └ set()
    └ <function _do_configure_registries at 0x7fb3d79668e0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4251, in _do_configure_registries
    raise e
          └ InvalidRequestError("One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggerin...

sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[GameFAQ(game_faqs)]'. Original exception was: Mapper 'Mapper[Game(games)]' has no property 'faqs'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2025-06-12 at 14:10:26 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/auth/request-link
2025-06-12 at 14:10:26 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/request-link
2025-06-12 at 14:10:26 | INFO | main:18 - 📥 POST http://localhost:8000/api/auth/request-link
2025-06-12 at 14:10:26 | ERROR | main:22 - ❌ Exception during request: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[GameFAQ(game_faqs)]'. Original exception was: Mapper 'Mapper[Game(games)]' has no property 'faqs'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7fb3d99dd8a0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7fb3da862200>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fb3da9337e0>
           └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fb3da932d40>
    └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fb3d9c59210>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
    │    └ <function subprocess_started at 0x7fb3d9ac6de0>
    └ <SpawnProcess name='SpawnProcess-5' parent=8 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fb3d99fa450>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fb3d9ac5bc0>
           │       │   └ <uvicorn.server.Server object at 0x7fb3d99fa450>
           │       └ <function run at 0x7fb3da2e3c40>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fb3d9967d30>
           │      └ <function Runner.run at 0x7fb3da33b1a0>
           └ <asyncio.runners.Runner object at 0x7fb3d9a0c090>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fb3d95801e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fb3d9a0c090>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb3d34cbd50>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d1d929...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d1d...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb3d948c690>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb3d34cbd50>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d1d929...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d1d...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d1d929...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d1d...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb3d2e7b650>
          └ <fastapi.applications.FastAPI object at 0x7fb3d948c690>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fb3d1d7cea0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb3d1d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb3d2d9d610>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb3d2e7b650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fb3d1d7d260>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fb3d1d92fd0>
                     │    └ <function log_requests at 0x7fb3d2b66d40>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb3d2d9d610>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fb3d1d92fd0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fb3d1d7d260>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ InvalidRequestError("One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggerin...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fb3d1d7d080>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d1d7d1c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb3d2d9d610>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '30', 'sec-ch-ua-platform': '"macOS"', 'user...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fb3d1d7d080>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d1d7d1c0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7fb3d2b67420>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d1d7d1c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fb3d2ec3fd0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fb3d52f2010>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d1d7d1c0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fb3d1d93690>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fb3d41efa10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fb3d2ec3fd0>
          └ <function wrap_app_handling_exceptions at 0x7fb3d864a020>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d1d7d580>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d1d7d1c0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fb3d41efa10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d1d7d580>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d1d7d1c0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fb3d41efa10>>
          └ <fastapi.routing.APIRouter object at 0x7fb3d41efa10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d1d7d580>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d1d7d1c0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │     └ <function Route.handle at 0x7fb3d864b600>
          └ APIRoute(path='/api/auth/request-link', name='request_login_link', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d1d7d580>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d1d7d1c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fb3d2be5120>
          └ APIRoute(path='/api/auth/request-link', name='request_login_link', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d1d7d580>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d1d7d1c0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fb3d1d93650>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fb3d1d7d620>
          └ <function wrap_app_handling_exceptions at 0x7fb3d864a020>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb3d1d7d760>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb3d1d7d1c0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fb3d1d7d620>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fb3d1d93650>
                     └ <function get_request_handler.<locals>.app at 0x7fb3d2be4fe0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fb3d8669440>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fb3d1d914d0>, 'data': EmailRequest(email='kvpelvne@gmail.com')}
                 │                 │         └ <function request_login_link at 0x7fb3d63df920>
                 │                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...
                 └ <function run_in_threadpool at 0x7fb3d8bbd940>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function request_login_link at 0x7fb3d63df920>, db=<sqlalchemy.orm.session.Session object at 0x7fb3d1d914d...
                 │     │         └ <function run_sync at 0x7fb3d9b5a520>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fb3d9b236a0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=InvalidRequestError("One or more mappers failed to initialize - can't proceed with initialization ...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/auth.py", line 23, in request_login_link
    user = db.query(User).filter_by(email=data.email).first()
           │  │     │                     │    └ 'kvpelvne@gmail.com'
           │  │     │                     └ EmailRequest(email='kvpelvne@gmail.com')
           │  │     └ <class 'app.models.user.User'>
           │  └ <function Session.query at 0x7fb3d7845760>
           └ <sqlalchemy.orm.session.Session object at 0x7fb3d1d914d0>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           │    │          │         │       └ {}
           │    │          │         └ <sqlalchemy.orm.session.Session object at 0x7fb3d1d914d0>
           │    │          └ (<class 'app.models.user.User'>,)
           │    └ <class 'sqlalchemy.orm.query.Query'>
           └ <sqlalchemy.orm.session.Session object at 0x7fb3d1d914d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    │    │             └ (<class 'app.models.user.User'>,)
    │    └ <function Query._set_entities at 0x7fb3d7967560>
    └ <sqlalchemy.orm.query.Query object at 0x7fb3d2eb4dd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 288, in _set_entities
    self._raw_columns = [
    └ <sqlalchemy.orm.query.Query object at 0x7fb3d2eb4dd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 289, in <listcomp>
    coercions.expect(
    │         └ <function expect at 0x7fb3d7f5e8e0>
    └ <module 'sqlalchemy.sql.coercions' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/coercions.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
    │    └ <sqlalchemy.util.langhelpers.HasMemoized.memoized_attribute object at 0x7fb3d79682d0>
    └ <Mapper at 0x7fb3d7130e50; User>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
    │   │        │    │                    │    │    └ <Mapper at 0x7fb3d7130e50; User>
    │   │        │    │                    │    └ <function Mapper._post_inspect at 0x7fb3d79637e0>
    │   │        │    │                    └ <sqlalchemy.util.langhelpers.HasMemoized.memoized_attribute object at 0x7fb3d79682d0>
    │   │        │    └ '_post_inspect'
    │   │        └ <sqlalchemy.util.langhelpers.HasMemoized.memoized_attribute object at 0x7fb3d79682d0>
    │   └ <attribute '__dict__' of 'Mapper' objects>
    └ <Mapper at 0x7fb3d7130e50; User>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    │    └ <function Mapper._check_configure at 0x7fb3d7962a20>
    └ <Mapper at 0x7fb3d7130e50; User>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    │                      │    └ <sqlalchemy.orm.decl_api.registry object at 0x7fb3da581410>
    │                      └ <Mapper at 0x7fb3d7130e50; User>
    └ <function _configure_registries at 0x7fb3d79667a0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
    │                        │           └ True
    │                        └ set()
    └ <function _do_configure_registries at 0x7fb3d79668e0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4251, in _do_configure_registries
    raise e
          └ InvalidRequestError("One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggerin...

sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[GameFAQ(game_faqs)]'. Original exception was: Mapper 'Mapper[Game(games)]' has no property 'faqs'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2025-06-12 at 14:32:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 14:32:49 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 14:32:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 14:32:49 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 14:32:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 14:32:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 14:32:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 14:32:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 14:32:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 14:32:50 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 14:32:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 14:32:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 14:32:57 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/auth/request-link
2025-06-12 at 14:32:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/request-link
2025-06-12 at 14:32:57 | INFO | main:18 - 📥 POST http://localhost:8000/api/auth/request-link
2025-06-12 at 14:33:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/request-link
2025-06-12 at 14:33:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/auth/verify?token=25e3f5c3-d8d0-4c0c-8c38-315539848829
2025-06-12 at 14:33:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/verify?token=25e3f5c3-d8d0-4c0c-8c38-315539848829
2025-06-12 at 14:33:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/auth/verify?token=25e3f5c3-d8d0-4c0c-8c38-315539848829
2025-06-12 at 14:33:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/verify?token=25e3f5c3-d8d0-4c0c-8c38-315539848829
2025-06-12 at 14:33:47 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 14:33:47 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 14:33:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 14:33:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 14:33:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 14:33:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 14:33:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 14:33:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 14:33:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 14:33:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 14:33:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 14:33:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 14:33:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 14:33:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 14:33:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 14:33:47 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 14:33:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 14:33:47 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 14:33:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 14:33:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 14:33:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 14:33:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 14:33:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 14:33:48 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 14:33:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 14:33:48 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 14:33:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 14:33:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 14:33:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 14:33:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 14:33:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 14:33:48 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 14:33:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 14:33:48 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 14:33:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 14:33:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 14:33:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 14:33:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 14:33:55 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-12 at 14:33:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-12 at 14:33:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-12 at 14:33:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-12 at 14:33:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-12 at 14:33:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-12 at 14:34:04 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles
2025-06-12 at 14:34:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles
2025-06-12 at 14:34:04 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles
2025-06-12 at 14:34:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles
2025-06-12 at 14:34:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles
2025-06-12 at 14:34:04 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles
2025-06-12 at 14:34:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles
2025-06-12 at 14:34:04 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles/
2025-06-12 at 14:34:04 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles
2025-06-12 at 14:34:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/
2025-06-12 at 14:34:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/
2025-06-12 at 14:34:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/
2025-06-12 at 14:34:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/
2025-06-12 at 14:34:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/
2025-06-12 at 14:43:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 14:43:02 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 14:43:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 14:43:02 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 14:43:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 14:43:02 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 14:43:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 14:43:02 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 14:43:11 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games
2025-06-12 at 14:43:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games
2025-06-12 at 14:43:11 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games
2025-06-12 at 14:43:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games
2025-06-12 at 14:43:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-12 at 14:43:11 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-12 at 14:43:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-12 at 14:43:11 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games/
2025-06-12 at 14:43:11 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-12 at 14:43:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 14:43:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 14:43:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 14:43:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 14:43:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 14:53:52 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games
2025-06-12 at 14:53:52 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games
2025-06-12 at 14:53:52 | INFO | main:18 - 📥 POST http://localhost:8000/api/admin/games
2025-06-12 at 14:53:52 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-12 at 14:53:52 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games/
2025-06-12 at 14:53:52 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 14:53:52 | INFO | main:18 - 📥 POST http://localhost:8000/api/admin/games/
2025-06-12 at 14:53:52 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 14:53:52 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-12 at 14:53:52 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-12 at 14:53:52 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-12 at 14:53:52 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-12 at 14:53:52 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 14:53:52 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 14:53:52 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 14:53:52 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 14:53:57 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/products
2025-06-12 at 14:53:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products
2025-06-12 at 14:53:57 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/products
2025-06-12 at 14:53:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products
2025-06-12 at 14:53:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 14:53:57 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 14:53:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 14:53:57 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/products/
2025-06-12 at 14:53:57 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 14:53:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 14:53:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 14:53:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 14:53:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 14:53:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 14:54:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-12 at 14:54:13 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-12 at 14:54:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-12 at 14:54:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 14:54:13 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-12 at 14:54:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 14:54:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 14:54:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 14:56:30 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/products
2025-06-12 at 14:56:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products
2025-06-12 at 14:56:30 | INFO | main:18 - 📥 POST http://localhost:8000/api/admin/products
2025-06-12 at 14:56:30 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 14:56:30 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/products/
2025-06-12 at 14:56:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 14:56:30 | INFO | main:18 - 📥 POST http://localhost:8000/api/admin/products/
2025-06-12 at 14:56:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 14:56:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 14:56:30 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 14:56:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 14:56:30 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 14:56:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 14:56:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 14:56:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 14:56:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 14:56:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 14:56:35 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 14:56:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 14:56:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 14:56:35 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 14:56:35 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 14:56:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 14:56:35 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 14:56:36 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 14:56:36 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 14:56:36 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 14:56:36 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 14:56:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-12 at 14:56:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 14:56:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-12 at 14:56:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 14:57:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 14:57:07 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 14:57:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 14:57:07 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 14:57:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 14:57:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 14:57:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 14:57:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 14:57:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 14:57:07 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 14:57:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 14:57:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 17:04:39 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 17:04:39 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 17:04:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 17:04:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 17:04:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 17:04:40 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-12 at 17:04:40 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-12 at 17:04:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-12 at 17:04:40 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 17:04:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 17:04:40 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 17:04:40 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-12 at 17:04:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 17:04:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 17:04:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 17:04:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 17:04:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-12 at 17:04:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-12 at 18:06:30 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 18:06:30 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 18:06:30 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:06:30 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 18:06:30 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 18:06:30 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:06:30 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:06:30 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:06:30 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 18:06:30 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:06:30 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 18:06:30 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:06:30 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 18:06:30 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:06:30 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 18:06:30 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:06:33 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 18:06:33 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 18:06:33 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 18:06:33 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 18:06:33 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 18:06:33 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 18:06:33 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 18:06:33 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 18:06:33 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 18:06:33 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 18:06:33 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 18:06:33 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 18:06:36 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/api/games/1
2025-06-12 at 18:06:36 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/api/games/1
2025-06-12 at 18:06:36 | INFO | main:38 - 📤 200 http://localhost:8000/api/api/games/1
2025-06-12 at 18:06:36 | INFO | main:38 - 📤 200 http://localhost:8000/api/api/games/1
2025-06-12 at 18:06:36 | INFO | main:32 - 📥 GET http://localhost:8000/api/api/games/1
2025-06-12 at 18:06:36 | INFO | main:38 - 📤 404 http://localhost:8000/api/api/games/1
2025-06-12 at 18:06:37 | INFO | main:32 - 📥 GET http://localhost:8000/api/api/games/1
2025-06-12 at 18:06:37 | INFO | main:38 - 📤 404 http://localhost:8000/api/api/games/1
2025-06-12 at 18:19:31 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 18:19:31 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 18:19:31 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 18:19:31 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:19:31 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 18:19:31 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:19:31 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 18:19:31 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 18:19:31 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 18:19:31 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 18:19:31 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:19:31 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 18:19:31 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:19:31 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 18:19:31 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 18:19:31 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 18:19:31 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 18:19:31 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 18:19:31 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 18:19:31 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 18:19:40 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/games/1
2025-06-12 at 18:19:40 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/games/1
2025-06-12 at 18:19:40 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 18:19:40 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 18:19:40 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/1
2025-06-12 at 18:19:40 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 18:19:40 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/1
2025-06-12 at 18:19:40 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 18:21:25 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 18:21:25 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 18:21:25 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 18:21:25 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 18:21:25 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 18:21:26 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 18:21:26 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 18:21:26 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 18:21:26 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 18:21:26 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 18:21:26 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 18:21:26 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 18:21:27 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/1
2025-06-12 at 18:21:27 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 18:21:27 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/1
2025-06-12 at 18:21:27 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 18:21:43 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 18:21:43 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:21:43 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 18:21:43 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:21:43 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 18:21:43 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:21:43 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 18:21:43 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:21:48 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/products
2025-06-12 at 18:21:48 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/products
2025-06-12 at 18:21:48 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products
2025-06-12 at 18:21:48 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products
2025-06-12 at 18:21:48 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 18:21:48 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 18:21:48 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 18:21:48 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 18:21:48 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/products/
2025-06-12 at 18:21:48 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/products/
2025-06-12 at 18:21:48 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 18:21:48 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 18:21:48 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 18:21:48 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 18:21:48 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 18:21:48 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 18:21:50 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/games/
2025-06-12 at 18:21:50 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 18:21:50 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/products/1
2025-06-12 at 18:21:50 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/games/
2025-06-12 at 18:21:50 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/1
2025-06-12 at 18:21:50 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/products/1
2025-06-12 at 18:21:50 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 18:21:50 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 18:21:50 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/1
2025-06-12 at 18:21:50 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/1
2025-06-12 at 18:21:50 | INFO | main:38 - 📤 405 http://localhost:8000/api/admin/products/1
2025-06-12 at 18:21:50 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 18:21:50 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 18:21:50 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 18:21:51 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/1
2025-06-12 at 18:21:51 | INFO | main:38 - 📤 405 http://localhost:8000/api/admin/products/1
2025-06-12 at 18:22:00 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 18:22:00 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 18:22:00 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 18:22:00 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 18:22:00 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 18:22:00 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 18:22:00 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 18:22:00 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 18:22:02 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 18:22:02 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/1
2025-06-12 at 18:22:02 | INFO | main:38 - 📤 405 http://localhost:8000/api/admin/products/1
2025-06-12 at 18:22:02 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/1
2025-06-12 at 18:22:02 | INFO | main:38 - 📤 405 http://localhost:8000/api/admin/products/1
2025-06-12 at 18:22:02 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 18:22:02 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 18:22:02 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 18:22:06 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 18:22:06 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 18:22:06 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 18:22:06 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 18:22:06 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 18:22:06 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 18:22:06 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 18:22:06 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 18:25:00 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 18:25:00 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/1
2025-06-12 at 18:25:00 | INFO | main:38 - 📤 405 http://localhost:8000/api/admin/products/1
2025-06-12 at 18:25:00 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/1
2025-06-12 at 18:25:00 | INFO | main:38 - 📤 405 http://localhost:8000/api/admin/products/1
2025-06-12 at 18:25:00 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 18:25:00 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 18:25:00 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 18:25:12 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 18:25:12 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 18:25:12 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 18:25:12 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 18:25:12 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 18:25:12 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 18:25:12 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 18:25:12 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 18:25:26 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/games
2025-06-12 at 18:25:26 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/games
2025-06-12 at 18:25:26 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games
2025-06-12 at 18:25:26 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games
2025-06-12 at 18:25:26 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games
2025-06-12 at 18:25:26 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/games
2025-06-12 at 18:25:26 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games
2025-06-12 at 18:25:26 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/games
2025-06-12 at 18:25:26 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 18:25:26 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 18:25:26 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 18:25:26 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 18:25:28 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/games/1
2025-06-12 at 18:25:28 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/1
2025-06-12 at 18:25:28 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/games/1
2025-06-12 at 18:25:28 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/1
2025-06-12 at 18:25:28 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/1
2025-06-12 at 18:25:28 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/1
2025-06-12 at 18:25:28 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/1
2025-06-12 at 18:25:28 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/1
2025-06-12 at 18:47:54 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 18:47:54 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 18:47:54 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 18:47:54 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:47:54 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 18:47:54 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:47:54 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:47:54 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:47:54 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 18:47:55 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:47:55 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 18:47:55 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:47:55 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 18:47:55 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 18:47:55 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 18:47:55 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 20:53:06 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 20:53:06 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 20:53:06 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 20:53:06 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 20:53:06 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 20:53:06 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 20:53:06 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 20:53:06 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 20:53:06 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 20:53:06 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 20:53:06 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 20:53:06 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 20:53:06 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 20:53:06 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 20:53:06 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 20:53:06 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 21:03:52 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:03:52 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:03:52 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:03:52 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:03:52 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:03:52 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:03:52 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:03:52 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:03:52 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:03:52 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:03:52 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:03:52 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:03:54 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/api/games/1
2025-06-12 at 21:03:54 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/api/games/1
2025-06-12 at 21:03:54 | INFO | main:38 - 📤 200 http://localhost:8000/api/api/games/1
2025-06-12 at 21:03:54 | INFO | main:38 - 📤 200 http://localhost:8000/api/api/games/1
2025-06-12 at 21:03:54 | INFO | main:32 - 📥 GET http://localhost:8000/api/api/games/1
2025-06-12 at 21:03:54 | INFO | main:38 - 📤 404 http://localhost:8000/api/api/games/1
2025-06-12 at 21:03:54 | INFO | main:32 - 📥 GET http://localhost:8000/api/api/games/1
2025-06-12 at 21:03:54 | INFO | main:38 - 📤 404 http://localhost:8000/api/api/games/1
2025-06-12 at 21:03:56 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:03:56 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:03:56 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:03:56 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:03:56 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:03:56 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:03:56 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:03:56 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:03:57 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:03:57 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:03:57 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:03:57 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:03:58 | INFO | main:32 - 📥 GET http://localhost:8000/api/api/games/1
2025-06-12 at 21:03:58 | INFO | main:38 - 📤 404 http://localhost:8000/api/api/games/1
2025-06-12 at 21:03:58 | INFO | main:32 - 📥 GET http://localhost:8000/api/api/games/1
2025-06-12 at 21:03:58 | INFO | main:38 - 📤 404 http://localhost:8000/api/api/games/1
2025-06-12 at 21:03:59 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:03:59 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:03:59 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:03:59 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:03:59 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:03:59 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:03:59 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:03:59 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:04:00 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:04:00 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:04:00 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:04:00 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:04:14 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/games/1
2025-06-12 at 21:04:14 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 21:04:14 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/games/1
2025-06-12 at 21:04:14 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 21:04:14 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/1
2025-06-12 at 21:04:14 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 21:04:14 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/1
2025-06-12 at 21:04:14 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 21:04:36 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:04:36 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:04:36 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:04:36 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:04:36 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:04:36 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:04:36 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:04:36 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:04:36 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:04:36 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:04:36 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:04:36 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:04:39 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/orders/me
2025-06-12 at 21:04:39 | INFO | main:38 - 📤 200 http://localhost:8000/api/orders/me
2025-06-12 at 21:04:39 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/orders/manual/me
2025-06-12 at 21:04:39 | INFO | main:38 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-12 at 21:04:39 | INFO | main:32 - 📥 GET http://localhost:8000/api/orders/me
2025-06-12 at 21:04:39 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/orders/me
2025-06-12 at 21:04:39 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/orders/manual/me
2025-06-12 at 21:04:39 | INFO | main:32 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-12 at 21:04:39 | INFO | main:38 - 📤 200 http://localhost:8000/api/orders/me
2025-06-12 at 21:04:39 | INFO | main:38 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-12 at 21:04:39 | INFO | main:38 - 📤 200 http://localhost:8000/api/orders/me
2025-06-12 at 21:04:39 | INFO | main:32 - 📥 GET http://localhost:8000/api/orders/me
2025-06-12 at 21:04:39 | INFO | main:38 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-12 at 21:04:39 | INFO | main:38 - 📤 200 http://localhost:8000/api/orders/me
2025-06-12 at 21:04:39 | INFO | main:32 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-12 at 21:04:39 | INFO | main:38 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-12 at 21:04:42 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:04:42 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:04:42 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:04:42 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:04:42 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:04:42 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:04:42 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:04:42 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:04:43 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:04:43 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:04:43 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:04:43 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:04:43 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/1
2025-06-12 at 21:04:43 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 21:04:43 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/1
2025-06-12 at 21:04:43 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 21:04:48 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:04:48 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:04:48 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:04:48 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:04:48 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:04:48 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:04:48 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:04:48 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:04:49 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:04:49 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:04:49 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:04:49 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:04:51 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/1
2025-06-12 at 21:04:51 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 21:04:51 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/1
2025-06-12 at 21:04:51 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 21:26:08 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/api/games/1
2025-06-12 at 21:26:08 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/api/games/1
2025-06-12 at 21:26:08 | INFO | main:38 - 📤 200 http://localhost:8000/api/api/games/1
2025-06-12 at 21:26:08 | INFO | main:38 - 📤 200 http://localhost:8000/api/api/games/1
2025-06-12 at 21:26:08 | INFO | main:32 - 📥 GET http://localhost:8000/api/api/games/1
2025-06-12 at 21:26:08 | INFO | main:38 - 📤 404 http://localhost:8000/api/api/games/1
2025-06-12 at 21:26:08 | INFO | main:32 - 📥 GET http://localhost:8000/api/api/games/1
2025-06-12 at 21:26:08 | INFO | main:38 - 📤 404 http://localhost:8000/api/api/games/1
2025-06-12 at 21:26:27 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:26:27 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:26:27 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:26:27 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:26:27 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:26:27 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:26:27 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:26:27 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:26:27 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:26:27 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:26:27 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:26:27 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:26:28 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/games/1
2025-06-12 at 21:26:28 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 21:26:28 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/games/1
2025-06-12 at 21:26:28 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 21:26:28 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/1
2025-06-12 at 21:26:28 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 21:26:28 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/1
2025-06-12 at 21:26:28 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 21:28:08 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 21:28:08 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 21:28:08 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 21:28:08 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 21:28:08 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 21:28:08 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 21:28:08 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 21:28:08 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 21:28:08 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 21:28:08 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 21:28:08 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 21:28:08 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 21:28:08 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 21:28:08 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 21:28:08 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 21:28:08 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 21:28:13 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/games
2025-06-12 at 21:28:13 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/games
2025-06-12 at 21:28:13 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games
2025-06-12 at 21:28:13 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games
2025-06-12 at 21:28:13 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games
2025-06-12 at 21:28:13 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/games
2025-06-12 at 21:28:13 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games
2025-06-12 at 21:28:13 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/games
2025-06-12 at 21:28:13 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/games/
2025-06-12 at 21:28:13 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/games/
2025-06-12 at 21:28:13 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 21:28:13 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 21:28:13 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 21:28:13 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 21:28:13 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 21:28:13 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 21:28:16 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/games/1
2025-06-12 at 21:28:16 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/1
2025-06-12 at 21:28:16 | INFO | main:32 - 📥 DELETE http://localhost:8000/api/admin/games/1
2025-06-12 at 21:28:16 | ERROR | main:36 - ❌ Exception during request: (psycopg2.errors.NotNullViolation) null value in column "game_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (1, null, Battle Pass, 1000.00, 2500.00, 1.00, 1.00, item, Дота плюс, Делаем, t, auto, 0, [{"name": "player_id", "label": "Player ID", "type": "number", "...,  1 покупка на 1 аккаунт, warning, Battle Pass, null).

[SQL: UPDATE products SET game_id=%(game_id)s WHERE products.id = %(products_id)s]
[parameters: {'game_id': None, 'products_id': 1}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f300f3a6fc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f300efa77d0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f3009b3e590>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'game_id': None, 'products_id': 1}
    │      │       └ 'UPDATE products SET game_id=%(game_id)s WHERE products.id = %(products_id)s'
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f3009b045e0; closed: -1>

psycopg2.errors.NotNullViolation: null value in column "game_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (1, null, Battle Pass, 1000.00, 2500.00, 1.00, 1.00, item, Дота плюс, Делаем, t, auto, 0, [{"name": "player_id", "label": "Player ID", "type": "number", "...,  1 покупка на 1 аккаунт, warning, Battle Pass, null).



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f30120da200>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f30121ab7e0>
           └ <SpawnProcess name='SpawnProcess-10' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f30121aad40>
    └ <SpawnProcess name='SpawnProcess-10' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f301146cd90>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-10' parent=8 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-10' parent=8 started>
    │    └ <function subprocess_started at 0x7f30112dede0>
    └ <SpawnProcess name='SpawnProcess-10' parent=8 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f3011275f90>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f30112ddbc0>
           │       │   └ <uvicorn.server.Server object at 0x7f3011275f90>
           │       └ <function run at 0x7f3011b53c40>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f30111e3d30>
           │      └ <function Runner.run at 0x7f3011bab1a0>
           └ <asyncio.runners.Runner object at 0x7f3011274e90>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f3010dfc1e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f3011274e90>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f300a37a050>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f3009b9a9...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f3009b...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f3011e98810>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f300a37a050>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f3009b9a9...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f3009b...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f3009b9a9...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f3009b...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f3009d58150>
          └ <fastapi.applications.FastAPI object at 0x7f3011e98810>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f3009cd7ec0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f3009b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f300a443310>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f3009d58150>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f3009cd7c40>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f3009b9b890>
                     │    └ <function log_requests at 0x7f300a1cc220>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f300a443310>

> File "/app/app/main.py", line 34, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f3009b9b890>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f3009cd7c40>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ IntegrityError('(psycopg2.errors.NotNullViolation) null value in column "game_id" of relation "products" violates not-null co...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f3009ce7ba0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f3009ce51c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f3009db6090>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f300a443310>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'authorization': 'Bearer eyJh...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f3009ce7ba0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f3009ce51c0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f300a14fce0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f3009db6090>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f3009db6090>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f3009ce51c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f3009d52f90>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f3009db6090>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f3009db6090>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f3009ce51c0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f3009b87c10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f300a400210>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f3009d52f90>
          └ <function wrap_app_handling_exceptions at 0x7f300fe891c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f3009c12840>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f3009ce51c0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f300a400210>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f3009c12840>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f3009ce51c0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f300a400210>>
          └ <fastapi.routing.APIRouter object at 0x7f300a400210>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f3009c12840>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f3009ce51c0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │     └ <function Route.handle at 0x7f300fe8a7a0>
          └ APIRoute(path='/api/admin/games/{game_id}', name='delete_game', methods=['DELETE'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f3009c12840>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f3009ce51c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f300a1cfb00>
          └ APIRoute(path='/api/admin/games/{game_id}', name='delete_game', methods=['DELETE'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f3009c12840>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f3009ce51c0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f3009b87ed0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f3009c12de0>
          └ <function wrap_app_handling_exceptions at 0x7f300fe891c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f3009c12200>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f3009ce51c0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f3009c12de0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f3009b87ed0>
                     └ <function get_request_handler.<locals>.app at 0x7f300a1cf920>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f300fea85e0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f3009b9b610>, 'admin': <app.models.user.User object at 0x7f300a4418d0>, '...
                 │                 │         └ <function delete_game at 0x7f300a214b80>
                 │                 └ Dependant(path_params=[ModelField(field_info=Path(PydanticUndefined), name='game_id', mode='validation')], query_params=[], h...
                 └ <function run_in_threadpool at 0x7f301047d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function delete_game at 0x7f300a214b80>, db=<sqlalchemy.orm.session.Session object at 0x7f3009b9b610>, adm...
                 │     │         └ <function run_sync at 0x7f301136e520>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f301133b6a0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=IntegrityError('(psycopg2.errors.NotNullViolation) null value in column "game_id" of relation "pro...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/admin/games.py", line 44, in delete_game
    db.commit()
    │  └ <function Session.commit at 0x7f300f0776a0>
    └ <sqlalchemy.orm.session.Session object at 0x7f3009b9b610>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x7f300f076660>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f3009b70640>
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f3009b70640>
                └ <function SessionTransaction.commit at 0x7f300f0765c0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x7f300f076480>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f3009b70640>
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f3009b70640>
                └ <function SessionTransaction._prepare_impl at 0x7f300f0763e0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x7f300f0865c0>
    │    └ <sqlalchemy.orm.session.Session object at 0x7f3009b9b610>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f3009b70640>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x7f300f0867a0>
    └ <sqlalchemy.orm.session.Session object at 0x7f3009b9b610>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x7f3009bcd300>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(psycopg2.errors.NotNullViolation) null value in column "game_id" of relation "products" violates not-null co...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x7f300f05f060>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f3009c19a10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f3009c19a10>
    │   └ <function SaveUpdateAll.execute at 0x7f300f05fba0>
    └ SaveUpdateAll(Mapper[Product(products)])
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x7f300f1ae840>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py'>
    │    └ <module 'sqlalchemy.util.preloaded' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/preloaded.py'>
    └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
    └ <function _emit_update_statements at 0x7f300f049ee0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        │          └ <function Connection.execute at 0x7f300f4e7600>
        └ <sqlalchemy.engine.base.Connection object at 0x7f3009b3e590>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Update object at 0x7f3009bcc510>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f300f4e7920>
           └ <sqlalchemy.engine.base.Connection object at 0x7f3009b3e590>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f300f4e7b00>
          └ <sqlalchemy.engine.base.Connection object at 0x7f3009b3e590>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7f300f4e7ba0>
           └ <sqlalchemy.engine.base.Connection object at 0x7f3009b3e590>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f300f4e7e20>
    └ <sqlalchemy.engine.base.Connection object at 0x7f3009b3e590>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ NotNullViolation('null value in column "game_id" of relation "products" violates not-null constraint\nDETAIL:  Failing row co...
          │                    │              └ (<class 'psycopg2.errors.NotNullViolation'>, NotNullViolation('null value in column "game_id" of relation "products" violates...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(psycopg2.errors.NotNullViolation) null value in column "game_id" of relation "products" violates not-null co...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f300f3a6fc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f300efa77d0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f3009b3e590>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'game_id': None, 'products_id': 1}
    │      │       └ 'UPDATE products SET game_id=%(game_id)s WHERE products.id = %(products_id)s'
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f3009b045e0; closed: -1>

sqlalchemy.exc.IntegrityError: (psycopg2.errors.NotNullViolation) null value in column "game_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (1, null, Battle Pass, 1000.00, 2500.00, 1.00, 1.00, item, Дота плюс, Делаем, t, auto, 0, [{"name": "player_id", "label": "Player ID", "type": "number", "...,  1 покупка на 1 аккаунт, warning, Battle Pass, null).

[SQL: UPDATE products SET game_id=%(game_id)s WHERE products.id = %(products_id)s]
[parameters: {'game_id': None, 'products_id': 1}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-06-12 at 21:29:31 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/games
2025-06-12 at 21:29:31 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games
2025-06-12 at 21:29:31 | INFO | main:32 - 📥 POST http://localhost:8000/api/admin/games
2025-06-12 at 21:29:31 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/games
2025-06-12 at 21:29:31 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/games/
2025-06-12 at 21:29:31 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 21:29:31 | INFO | main:32 - 📥 POST http://localhost:8000/api/admin/games/
2025-06-12 at 21:29:31 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 21:29:31 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games
2025-06-12 at 21:29:31 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/games
2025-06-12 at 21:29:31 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games
2025-06-12 at 21:29:31 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/games
2025-06-12 at 21:29:31 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 21:29:31 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 21:29:31 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 21:29:31 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 21:29:35 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/products
2025-06-12 at 21:29:35 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products
2025-06-12 at 21:29:35 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/products
2025-06-12 at 21:29:35 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 21:29:35 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products
2025-06-12 at 21:29:35 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 21:29:35 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 21:29:35 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 21:29:35 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/products/
2025-06-12 at 21:29:35 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 21:29:35 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/products/
2025-06-12 at 21:29:35 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 21:29:35 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 21:29:35 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 21:29:35 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 21:29:35 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 21:29:39 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 21:29:39 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 21:29:39 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 21:29:39 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 21:30:44 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/upload/admin/image
2025-06-12 at 21:30:44 | INFO | main:38 - 📤 200 http://localhost:8000/api/upload/admin/image
2025-06-12 at 21:30:44 | INFO | main:32 - 📥 POST http://localhost:8000/api/upload/admin/image
2025-06-12 at 21:30:44 | INFO | main:38 - 📤 200 http://localhost:8000/api/upload/admin/image
2025-06-12 at 21:31:20 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/products/
2025-06-12 at 21:31:20 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 21:31:20 | INFO | main:32 - 📥 POST http://localhost:8000/api/admin/products/
2025-06-12 at 21:31:20 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 21:31:23 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 21:31:23 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 21:31:23 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 21:31:23 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 21:31:23 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 21:31:23 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 21:31:23 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 21:31:23 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 21:31:26 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:31:26 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:31:26 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:31:26 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:31:26 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:31:26 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:31:26 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:31:26 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:31:26 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:31:26 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:31:26 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:31:26 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:31:29 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/games/2
2025-06-12 at 21:31:29 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/2
2025-06-12 at 21:31:29 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/games/2
2025-06-12 at 21:31:29 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/2
2025-06-12 at 21:31:29 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/2
2025-06-12 at 21:31:29 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/2
2025-06-12 at 21:31:29 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/2
2025-06-12 at 21:31:29 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/2
2025-06-12 at 21:54:45 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 21:54:45 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 21:54:45 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 21:54:45 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 21:54:45 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 21:54:45 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 21:54:45 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 21:54:45 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 21:54:46 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:54:46 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:54:46 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:54:46 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:54:46 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:54:46 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:54:46 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:54:46 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 21:54:47 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 21:54:47 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 21:54:47 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 21:54:47 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:10:05 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/games/2
2025-06-12 at 22:10:05 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/games/2
2025-06-12 at 22:10:05 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/2
2025-06-12 at 22:10:05 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/2
2025-06-12 at 22:10:05 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/2
2025-06-12 at 22:10:05 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/2
2025-06-12 at 22:10:05 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/2
2025-06-12 at 22:10:05 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/2
2025-06-12 at 22:10:13 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:10:13 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:10:13 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:10:13 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:10:13 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:10:13 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:10:13 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:10:13 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:10:13 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:10:13 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:10:13 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:10:13 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:10:14 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/games/1
2025-06-12 at 22:10:14 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 22:10:14 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/games/1
2025-06-12 at 22:10:14 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 22:10:14 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/1
2025-06-12 at 22:10:14 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 22:10:14 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/1
2025-06-12 at 22:10:14 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/1
2025-06-12 at 22:10:34 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:10:34 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:10:34 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:10:34 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:10:34 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:10:34 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:10:34 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:10:34 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:10:34 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:10:34 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:10:34 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:10:34 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:13:15 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:13:15 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:13:15 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:13:15 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:13:15 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:13:15 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:13:15 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:13:15 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:13:16 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:13:16 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:13:16 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:13:16 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:13:19 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 22:13:19 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 22:13:19 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:13:19 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:13:19 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:13:19 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:13:19 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:13:19 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:13:20 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/orders/my
2025-06-12 at 22:13:20 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/orders/my
2025-06-12 at 22:13:20 | INFO | main:38 - 📤 200 http://localhost:8000/api/orders/my
2025-06-12 at 22:13:20 | INFO | main:38 - 📤 200 http://localhost:8000/api/orders/my
2025-06-12 at 22:13:20 | INFO | main:32 - 📥 GET http://localhost:8000/api/orders/my
2025-06-12 at 22:13:20 | INFO | main:38 - 📤 422 http://localhost:8000/api/orders/my
2025-06-12 at 22:13:20 | INFO | main:32 - 📥 GET http://localhost:8000/api/orders/my
2025-06-12 at 22:13:20 | INFO | main:38 - 📤 422 http://localhost:8000/api/orders/my
2025-06-12 at 22:13:44 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/articles
2025-06-12 at 22:13:44 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles
2025-06-12 at 22:13:44 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/articles
2025-06-12 at 22:13:44 | INFO | main:32 - 📥 GET http://localhost:8000/api/articles
2025-06-12 at 22:13:44 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles
2025-06-12 at 22:13:44 | INFO | main:38 - 📤 307 http://localhost:8000/api/articles
2025-06-12 at 22:13:44 | INFO | main:32 - 📥 GET http://localhost:8000/api/articles
2025-06-12 at 22:13:44 | INFO | main:38 - 📤 307 http://localhost:8000/api/articles
2025-06-12 at 22:13:44 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/articles/
2025-06-12 at 22:13:44 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles/
2025-06-12 at 22:13:44 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/articles/
2025-06-12 at 22:13:44 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles/
2025-06-12 at 22:13:44 | INFO | main:32 - 📥 GET http://localhost:8000/api/articles/
2025-06-12 at 22:13:44 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles/
2025-06-12 at 22:13:44 | INFO | main:32 - 📥 GET http://localhost:8000/api/articles/
2025-06-12 at 22:13:44 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles/
2025-06-12 at 22:13:47 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/articles?category=%D0%9D%D0%BE%D0%B2%D0%BE%D1%81%D1%82%D0%B8
2025-06-12 at 22:13:47 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles?category=%D0%9D%D0%BE%D0%B2%D0%BE%D1%81%D1%82%D0%B8
2025-06-12 at 22:13:47 | INFO | main:32 - 📥 GET http://localhost:8000/api/articles?category=%D0%9D%D0%BE%D0%B2%D0%BE%D1%81%D1%82%D0%B8
2025-06-12 at 22:13:47 | INFO | main:38 - 📤 307 http://localhost:8000/api/articles?category=%D0%9D%D0%BE%D0%B2%D0%BE%D1%81%D1%82%D0%B8
2025-06-12 at 22:13:47 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/articles/?category=%D0%9D%D0%BE%D0%B2%D0%BE%D1%81%D1%82%D0%B8
2025-06-12 at 22:13:47 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles/?category=%D0%9D%D0%BE%D0%B2%D0%BE%D1%81%D1%82%D0%B8
2025-06-12 at 22:13:47 | INFO | main:32 - 📥 GET http://localhost:8000/api/articles/?category=%D0%9D%D0%BE%D0%B2%D0%BE%D1%81%D1%82%D0%B8
2025-06-12 at 22:13:47 | ERROR | main:36 - ❌ Exception during request: type object 'Article' has no attribute 'category'
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7f7e9bf898a0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f7e9ce1a200>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f7e9ceeb7e0>
           └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f7e9ceead40>
    └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f7e9cbf0810>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
    │    └ <function subprocess_started at 0x7f7e9c03ede0>
    └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f7e9bfa5f50>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f7e9c03dbc0>
           │       │   └ <uvicorn.server.Server object at 0x7f7e9bfa5f50>
           │       └ <function run at 0x7f7e9c33fc40>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f7e9bf13d30>
           │      └ <function Runner.run at 0x7f7e9c3971a0>
           └ <asyncio.runners.Runner object at 0x7f7e9bfa4e50>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f7e9bb501e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f7e9bfa4e50>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7e95157d10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e94975b...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e949...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f7e9518d390>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7e95157d10>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e94975b...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e949...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e94975b...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e949...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7e951a9150>
          └ <fastapi.applications.FastAPI object at 0x7f7e9518d390>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f7e94ae4400>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e949...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7e951a9150>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f7e94ae6200>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f7e94981b50>
                     │    └ <function log_requests at 0x7f7e94f479c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>

> File "/app/app/main.py", line 34, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f7e94981b50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f7e94ae6200>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ AttributeError("type object 'Article' has no attribute 'category'")
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f7e94a1a840>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e94ae49a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'authorization': 'Bearer eyJh...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f7e94a1a840>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e94ae49a0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f7e94f474c0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e94ae49a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f7e9590e910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e94ae49a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f7e94981dd0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f7e9590e910>
          └ <function wrap_app_handling_exceptions at 0x7f7e9abb91c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e94910d60>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e94ae49a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e94910d60>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e94ae49a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f7e9590ca50>>
          └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e94910d60>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e94ae49a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │     └ <function Route.handle at 0x7f7e9abba7a0>
          └ APIRoute(path='/api/articles/', name='get_articles', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e94910d60>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e94ae49a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f7e94b028e0>
          └ APIRoute(path='/api/articles/', name='get_articles', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e94910d60>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e94ae49a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f7e94981e50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f7e949107c0>
          └ <function wrap_app_handling_exceptions at 0x7f7e9abb91c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e94965940>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e94ae49a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f7e949107c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f7e94981e50>
                     └ <function get_request_handler.<locals>.app at 0x7f7e94b02a20>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f7e9abd85e0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f7e95017950>, 'q': '', 'category': 'Новости', 'game_id': None}
                 │                 │         └ <function get_articles at 0x7f7e95246ac0>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation'), ModelField(field_info=Qu...
                 └ <function run_in_threadpool at 0x7f7e9b1b98a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function get_articles at 0x7f7e95246ac0>, db=<sqlalchemy.orm.session.Session object at 0x7f7e95017950>, q=...
                 │     │         └ <function run_sync at 0x7f7e9c0ce520>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f7e9c09b6a0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("type object 'Article' has no attribute 'category'")>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/blog/article.py", line 22, in get_articles
    query = query.filter(Article.category == category)
            │     │      │                   └ 'Новости'
            │     │      └ <class 'app.models.blog.article.Article'>
            │     └ <function Query.filter at 0x7f7e99fd1580>
            └ <sqlalchemy.orm.query.Query object at 0x7f7e949827d0>

AttributeError: type object 'Article' has no attribute 'category'
2025-06-12 at 22:13:48 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/articles?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-12 at 22:13:48 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-12 at 22:13:48 | INFO | main:32 - 📥 GET http://localhost:8000/api/articles?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-12 at 22:13:48 | INFO | main:38 - 📤 307 http://localhost:8000/api/articles?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-12 at 22:13:48 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/articles/?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-12 at 22:13:48 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles/?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-12 at 22:13:48 | INFO | main:32 - 📥 GET http://localhost:8000/api/articles/?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-12 at 22:13:48 | ERROR | main:36 - ❌ Exception during request: type object 'Article' has no attribute 'category'
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7f7e9bf898a0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f7e9ce1a200>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f7e9ceeb7e0>
           └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f7e9ceead40>
    └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f7e9cbf0810>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
    │    └ <function subprocess_started at 0x7f7e9c03ede0>
    └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f7e9bfa5f50>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f7e9c03dbc0>
           │       │   └ <uvicorn.server.Server object at 0x7f7e9bfa5f50>
           │       └ <function run at 0x7f7e9c33fc40>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f7e9bf13d30>
           │      └ <function Runner.run at 0x7f7e9c3971a0>
           └ <asyncio.runners.Runner object at 0x7f7e9bfa4e50>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f7e9bb501e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f7e9bfa4e50>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7e95157d10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93dfb6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93d...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f7e9518d390>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7e95157d10>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93dfb6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93d...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93dfb6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93d...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7e951a9150>
          └ <fastapi.applications.FastAPI object at 0x7f7e9518d390>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f7e93d328e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7e951a9150>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f7e93d32480>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f7e93dfba90>
                     │    └ <function log_requests at 0x7f7e94f479c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>

> File "/app/app/main.py", line 34, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f7e93dfba90>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f7e93d32480>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ AttributeError("type object 'Article' has no attribute 'category'")
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f7e93d322a0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32700>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'authorization': 'Bearer eyJh...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f7e93d322a0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32700>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f7e94f474c0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32700>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f7e9590e910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32700>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f7e93c38250>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f7e9590e910>
          └ <function wrap_app_handling_exceptions at 0x7f7e9abb91c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d32200>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32700>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d32200>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32700>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f7e9590ca50>>
          └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d32200>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32700>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │     └ <function Route.handle at 0x7f7e9abba7a0>
          └ APIRoute(path='/api/articles/', name='get_articles', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d32200>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32700>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f7e94b028e0>
          └ APIRoute(path='/api/articles/', name='get_articles', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d32200>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32700>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f7e93c381d0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f7e93d32a20>
          └ <function wrap_app_handling_exceptions at 0x7f7e9abb91c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d32b60>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32700>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f7e93d32a20>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f7e93c381d0>
                     └ <function get_request_handler.<locals>.app at 0x7f7e94b02a20>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f7e9abd85e0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f7e94982950>, 'q': '', 'category': 'Гайды', 'game_id': None}
                 │                 │         └ <function get_articles at 0x7f7e95246ac0>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation'), ModelField(field_info=Qu...
                 └ <function run_in_threadpool at 0x7f7e9b1b98a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function get_articles at 0x7f7e95246ac0>, db=<sqlalchemy.orm.session.Session object at 0x7f7e94982950>, q=...
                 │     │         └ <function run_sync at 0x7f7e9c0ce520>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f7e9c09b6a0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("type object 'Article' has no attribute 'category'")>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/blog/article.py", line 22, in get_articles
    query = query.filter(Article.category == category)
            │     │      │                   └ 'Гайды'
            │     │      └ <class 'app.models.blog.article.Article'>
            │     └ <function Query.filter at 0x7f7e99fd1580>
            └ <sqlalchemy.orm.query.Query object at 0x7f7e93c38a50>

AttributeError: type object 'Article' has no attribute 'category'
2025-06-12 at 22:13:48 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/articles?category=%D0%9F%D1%80%D0%BE%D0%BC%D0%BE%D0%BA%D0%BE%D0%B4%D1%8B
2025-06-12 at 22:13:48 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles?category=%D0%9F%D1%80%D0%BE%D0%BC%D0%BE%D0%BA%D0%BE%D0%B4%D1%8B
2025-06-12 at 22:13:48 | INFO | main:32 - 📥 GET http://localhost:8000/api/articles?category=%D0%9F%D1%80%D0%BE%D0%BC%D0%BE%D0%BA%D0%BE%D0%B4%D1%8B
2025-06-12 at 22:13:48 | INFO | main:38 - 📤 307 http://localhost:8000/api/articles?category=%D0%9F%D1%80%D0%BE%D0%BC%D0%BE%D0%BA%D0%BE%D0%B4%D1%8B
2025-06-12 at 22:13:48 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/articles/?category=%D0%9F%D1%80%D0%BE%D0%BC%D0%BE%D0%BA%D0%BE%D0%B4%D1%8B
2025-06-12 at 22:13:48 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles/?category=%D0%9F%D1%80%D0%BE%D0%BC%D0%BE%D0%BA%D0%BE%D0%B4%D1%8B
2025-06-12 at 22:13:48 | INFO | main:32 - 📥 GET http://localhost:8000/api/articles/?category=%D0%9F%D1%80%D0%BE%D0%BC%D0%BE%D0%BA%D0%BE%D0%B4%D1%8B
2025-06-12 at 22:13:48 | ERROR | main:36 - ❌ Exception during request: type object 'Article' has no attribute 'category'
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7f7e9bf898a0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f7e9ce1a200>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f7e9ceeb7e0>
           └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f7e9ceead40>
    └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f7e9cbf0810>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
    │    └ <function subprocess_started at 0x7f7e9c03ede0>
    └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f7e9bfa5f50>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f7e9c03dbc0>
           │       │   └ <uvicorn.server.Server object at 0x7f7e9bfa5f50>
           │       └ <function run at 0x7f7e9c33fc40>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f7e9bf13d30>
           │      └ <function Runner.run at 0x7f7e9c3971a0>
           └ <asyncio.runners.Runner object at 0x7f7e9bfa4e50>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f7e9bb501e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f7e9bfa4e50>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7e95157d10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93c3ae...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93c...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f7e9518d390>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7e95157d10>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93c3ae...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93c...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93c3ae...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93c...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7e951a9150>
          └ <fastapi.applications.FastAPI object at 0x7f7e9518d390>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f7e93d331a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93c...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7e951a9150>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f7e93d33240>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f7e93c3a890>
                     │    └ <function log_requests at 0x7f7e94f479c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>

> File "/app/app/main.py", line 34, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f7e93c3a890>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f7e93d33240>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ AttributeError("type object 'Article' has no attribute 'category'")
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f7e93d32fc0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32f20>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'authorization': 'Bearer eyJh...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f7e93d32fc0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32f20>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f7e94f474c0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32f20>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f7e9590e910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32f20>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f7e93c3b810>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f7e9590e910>
          └ <function wrap_app_handling_exceptions at 0x7f7e9abb91c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d33740>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32f20>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d33740>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32f20>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f7e9590ca50>>
          └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d33740>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32f20>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │     └ <function Route.handle at 0x7f7e9abba7a0>
          └ APIRoute(path='/api/articles/', name='get_articles', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d33740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32f20>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f7e94b028e0>
          └ APIRoute(path='/api/articles/', name='get_articles', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d33740>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32f20>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f7e93c3ad10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f7e93d337e0>
          └ <function wrap_app_handling_exceptions at 0x7f7e9abb91c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d33920>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32f20>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f7e93d337e0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f7e93c3ad10>
                     └ <function get_request_handler.<locals>.app at 0x7f7e94b02a20>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f7e9abd85e0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f7e93c38b50>, 'q': '', 'category': 'Промокоды', 'game_id': None}
                 │                 │         └ <function get_articles at 0x7f7e95246ac0>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation'), ModelField(field_info=Qu...
                 └ <function run_in_threadpool at 0x7f7e9b1b98a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function get_articles at 0x7f7e95246ac0>, db=<sqlalchemy.orm.session.Session object at 0x7f7e93c38b50>, q=...
                 │     │         └ <function run_sync at 0x7f7e9c0ce520>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f7e9c09b6a0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("type object 'Article' has no attribute 'category'")>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/blog/article.py", line 22, in get_articles
    query = query.filter(Article.category == category)
            │     │      │                   └ 'Промокоды'
            │     │      └ <class 'app.models.blog.article.Article'>
            │     └ <function Query.filter at 0x7f7e99fd1580>
            └ <sqlalchemy.orm.query.Query object at 0x7f7e93c48550>

AttributeError: type object 'Article' has no attribute 'category'
2025-06-12 at 22:13:49 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/articles?category=%D0%9E%D0%B1%D0%B7%D0%BE%D1%80%D1%8B
2025-06-12 at 22:13:49 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles?category=%D0%9E%D0%B1%D0%B7%D0%BE%D1%80%D1%8B
2025-06-12 at 22:13:49 | INFO | main:32 - 📥 GET http://localhost:8000/api/articles?category=%D0%9E%D0%B1%D0%B7%D0%BE%D1%80%D1%8B
2025-06-12 at 22:13:49 | INFO | main:38 - 📤 307 http://localhost:8000/api/articles?category=%D0%9E%D0%B1%D0%B7%D0%BE%D1%80%D1%8B
2025-06-12 at 22:13:49 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/articles/?category=%D0%9E%D0%B1%D0%B7%D0%BE%D1%80%D1%8B
2025-06-12 at 22:13:49 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles/?category=%D0%9E%D0%B1%D0%B7%D0%BE%D1%80%D1%8B
2025-06-12 at 22:13:49 | INFO | main:32 - 📥 GET http://localhost:8000/api/articles/?category=%D0%9E%D0%B1%D0%B7%D0%BE%D1%80%D1%8B
2025-06-12 at 22:13:49 | ERROR | main:36 - ❌ Exception during request: type object 'Article' has no attribute 'category'
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7f7e9bf898a0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f7e9ce1a200>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f7e9ceeb7e0>
           └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f7e9ceead40>
    └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f7e9cbf0810>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
    │    └ <function subprocess_started at 0x7f7e9c03ede0>
    └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f7e9bfa5f50>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f7e9c03dbc0>
           │       │   └ <uvicorn.server.Server object at 0x7f7e9bfa5f50>
           │       └ <function run at 0x7f7e9c33fc40>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f7e9bf13d30>
           │      └ <function Runner.run at 0x7f7e9c3971a0>
           └ <asyncio.runners.Runner object at 0x7f7e9bfa4e50>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f7e9bb501e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f7e9bfa4e50>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7e95157d10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93c399...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93c...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f7e9518d390>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7e95157d10>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93c399...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93c...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93c399...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93c...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7e951a9150>
          └ <fastapi.applications.FastAPI object at 0x7f7e9518d390>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f7e93d33f60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93c...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7e951a9150>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f7e93d32fc0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f7e93c3b310>
                     │    └ <function log_requests at 0x7f7e94f479c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>

> File "/app/app/main.py", line 34, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f7e93c3b310>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f7e93d32fc0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ AttributeError("type object 'Article' has no attribute 'category'")
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f7e93d339c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d33ec0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'authorization': 'Bearer eyJh...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f7e93d339c0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d33ec0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f7e94f474c0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d33ec0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f7e9590e910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d33ec0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f7e93c3ab10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f7e9590e910>
          └ <function wrap_app_handling_exceptions at 0x7f7e9abb91c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d33740>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d33ec0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d33740>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d33ec0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f7e9590ca50>>
          └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d33740>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d33ec0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │     └ <function Route.handle at 0x7f7e9abba7a0>
          └ APIRoute(path='/api/articles/', name='get_articles', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d33740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d33ec0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f7e94b028e0>
          └ APIRoute(path='/api/articles/', name='get_articles', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d33740>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d33ec0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f7e93c39710>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f7e93d337e0>
          └ <function wrap_app_handling_exceptions at 0x7f7e9abb91c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d33880>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d33ec0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f7e93d337e0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f7e93c39710>
                     └ <function get_request_handler.<locals>.app at 0x7f7e94b02a20>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f7e9abd85e0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f7e93c38710>, 'q': '', 'category': 'Обзоры', 'game_id': None}
                 │                 │         └ <function get_articles at 0x7f7e95246ac0>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation'), ModelField(field_info=Qu...
                 └ <function run_in_threadpool at 0x7f7e9b1b98a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function get_articles at 0x7f7e95246ac0>, db=<sqlalchemy.orm.session.Session object at 0x7f7e93c38710>, q=...
                 │     │         └ <function run_sync at 0x7f7e9c0ce520>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f7e9c09b6a0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("type object 'Article' has no attribute 'category'")>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/blog/article.py", line 22, in get_articles
    query = query.filter(Article.category == category)
            │     │      │                   └ 'Обзоры'
            │     │      └ <class 'app.models.blog.article.Article'>
            │     └ <function Query.filter at 0x7f7e99fd1580>
            └ <sqlalchemy.orm.query.Query object at 0x7f7e93c38c50>

AttributeError: type object 'Article' has no attribute 'category'
2025-06-12 at 22:13:49 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/articles?category=%D0%9F%D0%9A+%D0%98%D0%B3%D1%80%D1%8B
2025-06-12 at 22:13:49 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles?category=%D0%9F%D0%9A+%D0%98%D0%B3%D1%80%D1%8B
2025-06-12 at 22:13:49 | INFO | main:32 - 📥 GET http://localhost:8000/api/articles?category=%D0%9F%D0%9A+%D0%98%D0%B3%D1%80%D1%8B
2025-06-12 at 22:13:49 | INFO | main:38 - 📤 307 http://localhost:8000/api/articles?category=%D0%9F%D0%9A+%D0%98%D0%B3%D1%80%D1%8B
2025-06-12 at 22:13:49 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/articles/?category=%D0%9F%D0%9A+%D0%98%D0%B3%D1%80%D1%8B
2025-06-12 at 22:13:49 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles/?category=%D0%9F%D0%9A+%D0%98%D0%B3%D1%80%D1%8B
2025-06-12 at 22:13:49 | INFO | main:32 - 📥 GET http://localhost:8000/api/articles/?category=%D0%9F%D0%9A+%D0%98%D0%B3%D1%80%D1%8B
2025-06-12 at 22:13:49 | ERROR | main:36 - ❌ Exception during request: type object 'Article' has no attribute 'category'
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7f7e9bf898a0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f7e9ce1a200>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f7e9ceeb7e0>
           └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f7e9ceead40>
    └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f7e9cbf0810>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
    │    └ <function subprocess_started at 0x7f7e9c03ede0>
    └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f7e9bfa5f50>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f7e9c03dbc0>
           │       │   └ <uvicorn.server.Server object at 0x7f7e9bfa5f50>
           │       └ <function run at 0x7f7e9c33fc40>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f7e9bf13d30>
           │      └ <function Runner.run at 0x7f7e9c3971a0>
           └ <asyncio.runners.Runner object at 0x7f7e9bfa4e50>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f7e9bb501e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f7e9bfa4e50>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7e95157d10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93dfb6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93d...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f7e9518d390>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7e95157d10>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93dfb6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93d...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93dfb6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93d...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7e951a9150>
          └ <fastapi.applications.FastAPI object at 0x7f7e9518d390>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f7e93d32660>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7e951a9150>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f7e93d327a0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f7e93dfb590>
                     │    └ <function log_requests at 0x7f7e94f479c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>

> File "/app/app/main.py", line 34, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f7e93dfb590>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f7e93d327a0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ AttributeError("type object 'Article' has no attribute 'category'")
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f7e93d322a0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d334c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'authorization': 'Bearer eyJh...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f7e93d322a0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d334c0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f7e94f474c0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d334c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f7e9590e910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d334c0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f7e93c48750>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f7e9590e910>
          └ <function wrap_app_handling_exceptions at 0x7f7e9abb91c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d33ba0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d334c0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d33ba0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d334c0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f7e9590ca50>>
          └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d33ba0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d334c0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │     └ <function Route.handle at 0x7f7e9abba7a0>
          └ APIRoute(path='/api/articles/', name='get_articles', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d33ba0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d334c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f7e94b028e0>
          └ APIRoute(path='/api/articles/', name='get_articles', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d33ba0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d334c0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f7e93c48b90>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f7e93d33380>
          └ <function wrap_app_handling_exceptions at 0x7f7e9abb91c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93d33100>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d334c0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f7e93d33380>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f7e93c48b90>
                     └ <function get_request_handler.<locals>.app at 0x7f7e94b02a20>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f7e9abd85e0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f7e93c38590>, 'q': '', 'category': 'ПК Игры', 'game_id': None}
                 │                 │         └ <function get_articles at 0x7f7e95246ac0>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation'), ModelField(field_info=Qu...
                 └ <function run_in_threadpool at 0x7f7e9b1b98a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function get_articles at 0x7f7e95246ac0>, db=<sqlalchemy.orm.session.Session object at 0x7f7e93c38590>, q=...
                 │     │         └ <function run_sync at 0x7f7e9c0ce520>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f7e9c09b6a0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("type object 'Article' has no attribute 'category'")>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/blog/article.py", line 22, in get_articles
    query = query.filter(Article.category == category)
            │     │      │                   └ 'ПК Игры'
            │     │      └ <class 'app.models.blog.article.Article'>
            │     └ <function Query.filter at 0x7f7e99fd1580>
            └ <sqlalchemy.orm.query.Query object at 0x7f7e93c4a3d0>

AttributeError: type object 'Article' has no attribute 'category'
2025-06-12 at 22:13:50 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/articles?category=%D0%9C%D0%BE%D0%B1%D0%B8%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5+%D0%B8%D0%B3%D1%80%D1%8B
2025-06-12 at 22:13:50 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles?category=%D0%9C%D0%BE%D0%B1%D0%B8%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5+%D0%B8%D0%B3%D1%80%D1%8B
2025-06-12 at 22:13:50 | INFO | main:32 - 📥 GET http://localhost:8000/api/articles?category=%D0%9C%D0%BE%D0%B1%D0%B8%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5+%D0%B8%D0%B3%D1%80%D1%8B
2025-06-12 at 22:13:50 | INFO | main:38 - 📤 307 http://localhost:8000/api/articles?category=%D0%9C%D0%BE%D0%B1%D0%B8%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5+%D0%B8%D0%B3%D1%80%D1%8B
2025-06-12 at 22:13:50 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/articles/?category=%D0%9C%D0%BE%D0%B1%D0%B8%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5+%D0%B8%D0%B3%D1%80%D1%8B
2025-06-12 at 22:13:50 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles/?category=%D0%9C%D0%BE%D0%B1%D0%B8%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5+%D0%B8%D0%B3%D1%80%D1%8B
2025-06-12 at 22:13:50 | INFO | main:32 - 📥 GET http://localhost:8000/api/articles/?category=%D0%9C%D0%BE%D0%B1%D0%B8%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5+%D0%B8%D0%B3%D1%80%D1%8B
2025-06-12 at 22:13:50 | ERROR | main:36 - ❌ Exception during request: type object 'Article' has no attribute 'category'
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7f7e9bf898a0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f7e9ce1a200>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f7e9ceeb7e0>
           └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f7e9ceead40>
    └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f7e9cbf0810>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
    │    └ <function subprocess_started at 0x7f7e9c03ede0>
    └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f7e9bfa5f50>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f7e9c03dbc0>
           │       │   └ <uvicorn.server.Server object at 0x7f7e9bfa5f50>
           │       └ <function run at 0x7f7e9c33fc40>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f7e9bf13d30>
           │      └ <function Runner.run at 0x7f7e9c3971a0>
           └ <asyncio.runners.Runner object at 0x7f7e9bfa4e50>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f7e9bb501e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f7e9bfa4e50>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7e95157d10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93c4b6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93c...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f7e9518d390>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7e95157d10>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93c4b6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93c...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93c4b6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93c...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7e951a9150>
          └ <fastapi.applications.FastAPI object at 0x7f7e9518d390>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f7e93d325c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93c...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7e951a9150>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f7e93d323e0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f7e93c4b690>
                     │    └ <function log_requests at 0x7f7e94f479c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>

> File "/app/app/main.py", line 34, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f7e93c4b690>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f7e93d323e0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ AttributeError("type object 'Article' has no attribute 'category'")
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f7e93d32de0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32e80>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'authorization': 'Bearer eyJh...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f7e93d32de0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32e80>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f7e94f474c0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32e80>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f7e9590e910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32e80>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f7e93c4bbd0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f7e9590e910>
          └ <function wrap_app_handling_exceptions at 0x7f7e9abb91c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93c40220>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32e80>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93c40220>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32e80>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f7e9590ca50>>
          └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93c40220>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32e80>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │     └ <function Route.handle at 0x7f7e9abba7a0>
          └ APIRoute(path='/api/articles/', name='get_articles', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93c40220>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32e80>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f7e94b028e0>
          └ APIRoute(path='/api/articles/', name='get_articles', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93c40220>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32e80>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f7e93c4bb10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f7e93c402c0>
          └ <function wrap_app_handling_exceptions at 0x7f7e9abb91c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93c40400>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93d32e80>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f7e93c402c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f7e93c4bb10>
                     └ <function get_request_handler.<locals>.app at 0x7f7e94b02a20>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f7e9abd85e0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f7e93c48510>, 'q': '', 'category': 'Мобильные игры', 'game_id': None}
                 │                 │         └ <function get_articles at 0x7f7e95246ac0>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation'), ModelField(field_info=Qu...
                 └ <function run_in_threadpool at 0x7f7e9b1b98a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function get_articles at 0x7f7e95246ac0>, db=<sqlalchemy.orm.session.Session object at 0x7f7e93c48510>, q=...
                 │     │         └ <function run_sync at 0x7f7e9c0ce520>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f7e9c09b6a0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("type object 'Article' has no attribute 'category'")>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/blog/article.py", line 22, in get_articles
    query = query.filter(Article.category == category)
            │     │      │                   └ 'Мобильные игры'
            │     │      └ <class 'app.models.blog.article.Article'>
            │     └ <function Query.filter at 0x7f7e99fd1580>
            └ <sqlalchemy.orm.query.Query object at 0x7f7e93c60b50>

AttributeError: type object 'Article' has no attribute 'category'
2025-06-12 at 22:13:58 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/support/my-messages
2025-06-12 at 22:13:58 | INFO | main:38 - 📤 200 http://localhost:8000/api/support/my-messages
2025-06-12 at 22:13:58 | INFO | main:32 - 📥 GET http://localhost:8000/api/support/my-messages
2025-06-12 at 22:13:58 | INFO | main:38 - 📤 404 http://localhost:8000/api/support/my-messages
2025-06-12 at 22:14:06 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/support/send-message
2025-06-12 at 22:14:06 | INFO | main:38 - 📤 200 http://localhost:8000/api/support/send-message
2025-06-12 at 22:14:06 | INFO | main:32 - 📥 POST http://localhost:8000/api/support/send-message
2025-06-12 at 22:14:06 | INFO | main:38 - 📤 404 http://localhost:8000/api/support/send-message
2025-06-12 at 22:14:12 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:14:12 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:14:12 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:14:12 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:14:12 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:14:12 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:14:12 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:14:12 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:14:12 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:14:12 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:14:12 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:14:12 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:14:14 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/2
2025-06-12 at 22:14:14 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/2
2025-06-12 at 22:14:14 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/2
2025-06-12 at 22:14:14 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/2
2025-06-12 at 22:14:20 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:14:20 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:14:20 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:14:20 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:14:20 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:14:20 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:14:20 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:14:20 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:14:20 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:14:20 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:14:20 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:14:20 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:14:34 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:14:34 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:14:34 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:14:34 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:15:12 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:15:12 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:15:12 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:15:12 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:15:14 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:15:14 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:15:14 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:15:14 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:15:14 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:15:14 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:15:14 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:15:14 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:15:14 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:15:14 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:15:14 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:15:14 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:15:17 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/2
2025-06-12 at 22:15:17 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/2
2025-06-12 at 22:15:17 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/2
2025-06-12 at 22:15:17 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/2
2025-06-12 at 22:15:20 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:15:20 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:15:20 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:15:20 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:15:20 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:15:20 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:15:20 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:15:20 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:15:20 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:15:20 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:15:20 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:15:20 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:16:27 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:16:27 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:16:27 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:16:27 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:16:27 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:16:27 | INFO | main:38 - 📤 404 http://localhost:8000/api/users/me
2025-06-12 at 22:16:27 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:16:27 | INFO | main:38 - 📤 404 http://localhost:8000/api/users/me
2025-06-12 at 22:16:27 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:16:27 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:16:27 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:16:27 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:16:27 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:16:27 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:16:27 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:16:27 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:16:33 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/auth/request-link
2025-06-12 at 22:16:33 | INFO | main:38 - 📤 200 http://localhost:8000/api/auth/request-link
2025-06-12 at 22:16:33 | INFO | main:32 - 📥 POST http://localhost:8000/api/auth/request-link
2025-06-12 at 22:16:35 | INFO | main:38 - 📤 200 http://localhost:8000/api/auth/request-link
2025-06-12 at 22:17:04 | INFO | main:32 - 📥 GET http://localhost:8000/api/auth/verify?token=cd5e02c8-d5d4-4423-bd9c-ffc9da64447e
2025-06-12 at 22:17:04 | INFO | main:38 - 📤 200 http://localhost:8000/api/auth/verify?token=cd5e02c8-d5d4-4423-bd9c-ffc9da64447e
2025-06-12 at 22:17:04 | INFO | main:32 - 📥 GET http://localhost:8000/api/auth/verify?token=cd5e02c8-d5d4-4423-bd9c-ffc9da64447e
2025-06-12 at 22:17:04 | INFO | main:38 - 📤 400 http://localhost:8000/api/auth/verify?token=cd5e02c8-d5d4-4423-bd9c-ffc9da64447e
2025-06-12 at 22:17:05 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:17:05 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:17:05 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:17:05 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:17:05 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:17:05 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:17:05 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:17:05 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:17:05 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:17:05 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:17:05 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:17:05 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:17:05 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:17:05 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:17:06 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:17:06 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:17:06 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:17:06 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:17:06 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:17:06 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:17:06 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:17:06 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:17:06 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:17:06 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:17:06 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:17:06 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:17:06 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:17:06 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:17:06 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:17:06 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:17:11 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:17:11 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:17:11 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:17:11 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:17:11 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:17:11 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:17:11 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:17:11 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:17:11 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:17:11 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:17:11 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:17:11 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:17:11 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:17:11 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:17:11 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:17:11 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:17:45 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:17:45 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:17:45 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:17:45 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:17:45 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:17:45 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:17:45 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:17:45 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:17:52 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/games
2025-06-12 at 22:17:52 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/games
2025-06-12 at 22:17:52 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games
2025-06-12 at 22:17:52 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games
2025-06-12 at 22:17:52 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games
2025-06-12 at 22:17:52 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/games
2025-06-12 at 22:17:52 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games
2025-06-12 at 22:17:52 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/games/
2025-06-12 at 22:17:52 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/games
2025-06-12 at 22:17:52 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:17:52 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 22:17:52 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:17:52 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 22:17:52 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:20:35 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/upload/image
2025-06-12 at 22:20:35 | INFO | main:38 - 📤 200 http://localhost:8000/api/upload/image
2025-06-12 at 22:20:35 | INFO | main:32 - 📥 POST http://localhost:8000/api/upload/image
2025-06-12 at 22:20:35 | INFO | main:38 - 📤 200 http://localhost:8000/api/upload/image
2025-06-12 at 22:21:33 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/games/
2025-06-12 at 22:21:33 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:21:33 | INFO | main:32 - 📥 POST http://localhost:8000/api/admin/games/
2025-06-12 at 22:21:33 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:21:35 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games
2025-06-12 at 22:21:35 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/games
2025-06-12 at 22:21:35 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games
2025-06-12 at 22:21:35 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/games
2025-06-12 at 22:21:35 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 22:21:35 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:21:35 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 22:21:35 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:21:43 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:21:43 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:21:44 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:21:44 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:21:44 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:21:44 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:21:44 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:21:44 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:21:44 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:21:44 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:21:44 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:21:44 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:21:44 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:21:44 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:21:44 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:21:44 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:21:48 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/games/3
2025-06-12 at 22:21:48 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/games/3
2025-06-12 at 22:21:48 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:21:48 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:21:48 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:21:48 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:21:48 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:21:48 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:22:07 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/products
2025-06-12 at 22:22:07 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/products
2025-06-12 at 22:22:07 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products
2025-06-12 at 22:22:07 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products
2025-06-12 at 22:22:07 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 22:22:07 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 22:22:07 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 22:22:07 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 22:22:07 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/products/
2025-06-12 at 22:22:07 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 22:22:07 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/products/
2025-06-12 at 22:22:07 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 22:22:07 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 22:22:07 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 22:22:07 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 22:22:07 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 22:22:09 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 22:22:09 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:22:09 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 22:22:09 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:22:38 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/upload/admin/image
2025-06-12 at 22:22:38 | INFO | main:38 - 📤 200 http://localhost:8000/api/upload/admin/image
2025-06-12 at 22:22:38 | INFO | main:32 - 📥 POST http://localhost:8000/api/upload/admin/image
2025-06-12 at 22:22:38 | INFO | main:38 - 📤 200 http://localhost:8000/api/upload/admin/image
2025-06-12 at 22:23:53 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/products/
2025-06-12 at 22:23:53 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 22:23:53 | INFO | main:32 - 📥 POST http://localhost:8000/api/admin/products/
2025-06-12 at 22:23:53 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 22:23:54 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 22:23:54 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 22:23:54 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 22:23:54 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 22:23:54 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 22:23:54 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 22:23:54 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 22:23:54 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 22:23:57 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:23:57 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:23:57 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:23:57 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:23:57 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:23:57 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:23:57 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:23:57 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:23:58 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:23:58 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:23:58 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:23:58 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:23:58 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:23:58 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:23:58 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:23:58 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:24:10 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:24:10 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:24:10 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:24:10 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:24:10 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:24:10 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:24:10 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:24:10 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:24:10 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:24:10 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:24:10 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:24:10 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:24:15 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:24:15 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:24:15 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:24:15 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:24:15 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:24:15 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:24:15 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:24:15 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:24:16 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:24:16 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:24:16 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:24:16 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:24:18 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:24:18 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:24:18 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:24:18 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:24:25 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 22:24:25 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/products/3/
2025-06-12 at 22:24:25 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/3/
2025-06-12 at 22:24:25 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/products/3/
2025-06-12 at 22:24:25 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/3/
2025-06-12 at 22:24:25 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/3/
2025-06-12 at 22:24:25 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products/3/
2025-06-12 at 22:24:25 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/3/
2025-06-12 at 22:24:25 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products/3/
2025-06-12 at 22:24:25 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/products/3
2025-06-12 at 22:24:25 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/3
2025-06-12 at 22:24:25 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:24:25 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/products/3
2025-06-12 at 22:24:25 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/3
2025-06-12 at 22:24:25 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 22:24:25 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:24:25 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/3
2025-06-12 at 22:24:25 | INFO | main:38 - 📤 405 http://localhost:8000/api/admin/products/3
2025-06-12 at 22:24:25 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/3
2025-06-12 at 22:24:25 | INFO | main:38 - 📤 405 http://localhost:8000/api/admin/products/3
2025-06-12 at 22:24:28 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 22:24:28 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 22:24:28 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 22:24:28 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 22:24:28 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 22:24:28 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 22:24:28 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 22:24:28 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 22:24:32 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games
2025-06-12 at 22:24:32 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/games
2025-06-12 at 22:24:32 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games
2025-06-12 at 22:24:32 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/games
2025-06-12 at 22:24:32 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 22:24:32 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:24:32 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 22:24:32 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:24:35 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/games/3
2025-06-12 at 22:24:35 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/3
2025-06-12 at 22:24:35 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/games/3
2025-06-12 at 22:24:35 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/3
2025-06-12 at 22:24:35 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/3
2025-06-12 at 22:24:35 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/3
2025-06-12 at 22:24:35 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/3
2025-06-12 at 22:24:35 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/3
2025-06-12 at 22:25:03 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/games/3
2025-06-12 at 22:25:03 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/3
2025-06-12 at 22:25:03 | INFO | main:32 - 📥 PUT http://localhost:8000/api/admin/games/3
2025-06-12 at 22:25:03 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/3
2025-06-12 at 22:25:03 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games
2025-06-12 at 22:25:03 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/games
2025-06-12 at 22:25:03 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games
2025-06-12 at 22:25:03 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 22:25:03 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/games
2025-06-12 at 22:25:03 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:25:03 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 22:25:03 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:25:07 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:25:07 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:25:07 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:25:07 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:25:07 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:25:07 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:25:07 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:25:07 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:25:07 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:25:07 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:25:07 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:25:07 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:25:08 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:25:08 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:25:08 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:25:08 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:25:39 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 22:25:39 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:25:39 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 22:25:39 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 22:25:39 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 22:25:39 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:25:39 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:25:39 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:25:39 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:25:39 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:25:39 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:25:39 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:25:39 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:25:39 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:25:39 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:25:39 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:25:44 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 22:25:44 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 22:25:44 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 22:25:44 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 22:25:44 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 22:25:44 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 22:25:45 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 22:25:45 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 22:25:46 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 22:25:46 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:25:46 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 22:25:46 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:26:21 | INFO | main:32 - 📥 POST http://localhost:8000/api/upload/admin/image
2025-06-12 at 22:26:21 | INFO | main:38 - 📤 200 http://localhost:8000/api/upload/admin/image
2025-06-12 at 22:26:48 | INFO | main:32 - 📥 POST http://localhost:8000/api/admin/products/
2025-06-12 at 22:26:48 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 22:26:50 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 22:26:50 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 22:26:50 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products
2025-06-12 at 22:26:50 | INFO | main:38 - 📤 307 http://localhost:8000/api/admin/products
2025-06-12 at 22:26:50 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 22:26:50 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 22:26:50 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-12 at 22:26:50 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-12 at 22:26:59 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:26:59 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:26:59 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:26:59 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:26:59 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:26:59 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:26:59 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:26:59 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:27:38 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:27:38 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:27:38 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:27:38 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:27:38 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:27:38 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:27:38 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:27:38 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:27:38 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:27:38 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:27:38 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:27:38 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:30:25 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 22:30:25 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:30:25 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 22:30:25 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:31:30 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:31:30 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:31:30 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:31:30 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:33:35 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:33:35 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/games/3
2025-06-12 at 22:33:35 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/games/3
2025-06-12 at 22:33:35 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:33:35 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:33:35 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:33:35 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:33:35 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:33:35 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:33:35 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:33:35 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:33:35 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:33:51 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:33:51 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:33:51 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:33:51 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:34:01 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:34:01 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:34:01 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:34:01 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:34:01 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:34:01 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:34:01 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:34:01 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:34:42 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:34:42 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:34:42 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:34:42 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:34:42 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:34:42 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:34:42 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:34:42 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:34:42 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/games/
2025-06-12 at 22:34:42 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/admin/games/
2025-06-12 at 22:34:42 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:34:42 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:34:42 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:34:42 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 22:34:42 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:34:42 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:34:42 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:34:42 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:34:42 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:34:42 | INFO | main:32 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-12 at 22:34:42 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:34:42 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:34:42 | INFO | main:38 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-12 at 22:34:42 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:35:51 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:35:51 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:35:51 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:35:51 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:35:51 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:35:51 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:35:51 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:35:51 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:35:51 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:35:51 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:35:51 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:35:51 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:35:52 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:35:52 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:35:52 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:35:52 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:36:25 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/orders
2025-06-12 at 22:36:25 | INFO | main:38 - 📤 200 http://localhost:8000/api/orders
2025-06-12 at 22:36:25 | INFO | main:32 - 📥 POST http://localhost:8000/api/orders
2025-06-12 at 22:36:25 | INFO | main:38 - 📤 307 http://localhost:8000/api/orders
2025-06-12 at 22:36:25 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/orders/
2025-06-12 at 22:36:25 | INFO | main:38 - 📤 200 http://localhost:8000/api/orders/
2025-06-12 at 22:36:25 | INFO | main:32 - 📥 POST http://localhost:8000/api/orders/
2025-06-12 at 22:36:25 | ERROR | main:36 - ❌ Exception during request: (psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "orders_game_id_fkey"
DETAIL:  Key (game_id)=(1) is not present in table "games".

[SQL: INSERT INTO orders (user_id, game_id, product_id, manual_game_name, amount, currency, status, payment_method, transaction_id, payment_url, auto_processed, comment, created_at, updated_at) VALUES (%(user_id)s, %(game_id)s, %(product_id)s, %(manual_game_name)s, %(amount)s, %(currency)s, %(status)s, %(payment_method)s, %(transaction_id)s, %(payment_url)s, %(auto_processed)s, %(comment)s, %(created_at)s, %(updated_at)s) RETURNING orders.id]
[parameters: {'user_id': 2, 'game_id': 1, 'product_id': 4, 'manual_game_name': None, 'amount': Decimal('1000.00'), 'currency': 'RUB', 'status': 'pending', 'payment_method': 'auto', 'transaction_id': None, 'payment_url': None, 'auto_processed': True, 'comment': '{}', 'created_at': datetime.datetime(2025, 6, 12, 22, 36, 25, 431463), 'updated_at': datetime.datetime(2025, 6, 12, 22, 36, 25, 431465)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f7e9a18efc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f7e99db6190>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7e93a7e450>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'user_id': 2, 'game_id': 1, 'product_id': 4, 'manual_game_name': None, 'amount': Decimal('1000.00'), 'currency': 'RUB', 'sta...
    │      │       └ 'INSERT INTO orders (user_id, game_id, product_id, manual_game_name, amount, currency, status, payment_method, transaction_id...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f7e94bdb3d0; closed: -1>

psycopg2.errors.ForeignKeyViolation: insert or update on table "orders" violates foreign key constraint "orders_game_id_fkey"
DETAIL:  Key (game_id)=(1) is not present in table "games".



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f7e9ce1a200>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f7e9ceeb7e0>
           └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f7e9ceead40>
    └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f7e9cbf0810>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
    │    └ <function subprocess_started at 0x7f7e9c03ede0>
    └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f7e9bfa5f50>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f7e9c03dbc0>
           │       │   └ <uvicorn.server.Server object at 0x7f7e9bfa5f50>
           │       └ <function run at 0x7f7e9c33fc40>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f7e9bf13d30>
           │      └ <function Runner.run at 0x7f7e9c3971a0>
           └ <asyncio.runners.Runner object at 0x7f7e9bfa4e50>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f7e9bb501e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f7e9bfa4e50>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7e95157d10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93a8b6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93a...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f7e9518d390>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7e95157d10>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93a8b6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93a...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93a8b6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93a...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7e951a9150>
          └ <fastapi.applications.FastAPI object at 0x7f7e9518d390>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f7e93ae9d00>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e93a...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7e951a9150>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f7e93aeae80>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f7e93a8ad10>
                     │    └ <function log_requests at 0x7f7e94f479c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>

> File "/app/app/main.py", line 34, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f7e93a8ad10>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f7e93aeae80>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "ord...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f7e93ae8040>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93aea020>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '103', 'sec-ch-ua-platform': '"macOS"', 'aut...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f7e93ae8040>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93aea020>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f7e94f474c0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93aea020>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f7e9590e910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93aea020>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f7e93a7dad0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f7e9590e910>
          └ <function wrap_app_handling_exceptions at 0x7f7e9abb91c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93ae8fe0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93aea020>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93ae8fe0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93aea020>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f7e9590ca50>>
          └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93ae8fe0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93aea020>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │     └ <function Route.handle at 0x7f7e9abba7a0>
          └ APIRoute(path='/api/orders/', name='create_order', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93ae8fe0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93aea020>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f7e94f47e20>
          └ APIRoute(path='/api/orders/', name='create_order', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93ae8fe0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93aea020>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f7e93a7cf50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f7e93ae9a80>
          └ <function wrap_app_handling_exceptions at 0x7f7e9abb91c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93aebf60>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93aea020>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f7e93ae9a80>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f7e93a7cf50>
                     └ <function get_request_handler.<locals>.app at 0x7f7e94f47ec0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f7e9abd85e0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f7e93a8bd90>, 'current_user': <app.models.user.User object at 0x7f7e93a7e...
                 │                 │         └ <function create_order at 0x7f7e976544a0>
                 │                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...
                 └ <function run_in_threadpool at 0x7f7e9b1b98a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function create_order at 0x7f7e976544a0>, db=<sqlalchemy.orm.session.Session object at 0x7f7e93a8bd90>, cu...
                 │     │         └ <function run_sync at 0x7f7e9c0ce520>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f7e9c09b6a0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates ...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/orders.py", line 77, in create_order
    db.commit()
    │  └ <function Session.commit at 0x7f7e99e5f6a0>
    └ <sqlalchemy.orm.session.Session object at 0x7f7e93a8bd90>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x7f7e99e5e660>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f7e93ae6080>
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f7e93ae6080>
                └ <function SessionTransaction.commit at 0x7f7e99e5e5c0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x7f7e99e5e480>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f7e93ae6080>
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f7e93ae6080>
                └ <function SessionTransaction._prepare_impl at 0x7f7e99e5e3e0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x7f7e99e6e5c0>
    │    └ <sqlalchemy.orm.session.Session object at 0x7f7e93a8bd90>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f7e93ae6080>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x7f7e99e6e7a0>
    └ <sqlalchemy.orm.session.Session object at 0x7f7e93a8bd90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x7f7e93b01f80>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "ord...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x7f7e99e47060>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f7e95172190>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f7e95172190>
    │   └ <function SaveUpdateAll.execute at 0x7f7e99e47ba0>
    └ SaveUpdateAll(Mapper[Order(orders)])
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x7f7e99f96840>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py'>
    │    └ <module 'sqlalchemy.util.preloaded' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/preloaded.py'>
    └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x7f7e99e31f80>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0x7f7e9a2cf600>
             └ <sqlalchemy.engine.base.Connection object at 0x7f7e93a7e450>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7f7e93bd7e90>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f7e9a2cf920>
           └ <sqlalchemy.engine.base.Connection object at 0x7f7e93a7e450>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f7e9a2cfb00>
          └ <sqlalchemy.engine.base.Connection object at 0x7f7e93a7e450>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7f7e9a2cfba0>
           └ <sqlalchemy.engine.base.Connection object at 0x7f7e93a7e450>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f7e9a2cfe20>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7e93a7e450>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ ForeignKeyViolation('insert or update on table "orders" violates foreign key constraint "orders_game_id_fkey"\nDETAIL:  Key (...
          │                    │              └ (<class 'psycopg2.errors.ForeignKeyViolation'>, ForeignKeyViolation('insert or update on table "orders" violates foreign key ...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "ord...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f7e9a18efc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f7e99db6190>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7e93a7e450>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'user_id': 2, 'game_id': 1, 'product_id': 4, 'manual_game_name': None, 'amount': Decimal('1000.00'), 'currency': 'RUB', 'sta...
    │      │       └ 'INSERT INTO orders (user_id, game_id, product_id, manual_game_name, amount, currency, status, payment_method, transaction_id...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f7e94bdb3d0; closed: -1>

sqlalchemy.exc.IntegrityError: (psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "orders_game_id_fkey"
DETAIL:  Key (game_id)=(1) is not present in table "games".

[SQL: INSERT INTO orders (user_id, game_id, product_id, manual_game_name, amount, currency, status, payment_method, transaction_id, payment_url, auto_processed, comment, created_at, updated_at) VALUES (%(user_id)s, %(game_id)s, %(product_id)s, %(manual_game_name)s, %(amount)s, %(currency)s, %(status)s, %(payment_method)s, %(transaction_id)s, %(payment_url)s, %(auto_processed)s, %(comment)s, %(created_at)s, %(updated_at)s) RETURNING orders.id]
[parameters: {'user_id': 2, 'game_id': 1, 'product_id': 4, 'manual_game_name': None, 'amount': Decimal('1000.00'), 'currency': 'RUB', 'status': 'pending', 'payment_method': 'auto', 'transaction_id': None, 'payment_url': None, 'auto_processed': True, 'comment': '{}', 'created_at': datetime.datetime(2025, 6, 12, 22, 36, 25, 431463), 'updated_at': datetime.datetime(2025, 6, 12, 22, 36, 25, 431465)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-06-12 at 22:36:30 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:36:30 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:36:30 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:36:30 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:36:30 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:36:30 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:36:30 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:36:30 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:36:30 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:36:30 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:36:30 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:36:30 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:39:02 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:39:02 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:39:02 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:39:02 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:39:42 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:39:42 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:39:42 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:39:42 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:39:42 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:39:42 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:39:42 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:39:42 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:39:42 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:39:42 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:39:42 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:39:42 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:40:34 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/api/payment-terms/
2025-06-12 at 22:40:34 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/api/payment-terms/
2025-06-12 at 22:40:34 | INFO | main:38 - 📤 200 http://localhost:8000/api/api/payment-terms/
2025-06-12 at 22:40:34 | INFO | main:38 - 📤 200 http://localhost:8000/api/api/payment-terms/
2025-06-12 at 22:40:34 | INFO | main:32 - 📥 GET http://localhost:8000/api/api/payment-terms/
2025-06-12 at 22:40:34 | INFO | main:38 - 📤 404 http://localhost:8000/api/api/payment-terms/
2025-06-12 at 22:40:34 | INFO | main:32 - 📥 GET http://localhost:8000/api/api/payment-terms/
2025-06-12 at 22:40:34 | INFO | main:38 - 📤 404 http://localhost:8000/api/api/payment-terms/
2025-06-12 at 22:40:59 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/orders/bulk
2025-06-12 at 22:40:59 | INFO | main:38 - 📤 200 http://localhost:8000/api/orders/bulk
2025-06-12 at 22:40:59 | INFO | main:32 - 📥 POST http://localhost:8000/api/orders/bulk
2025-06-12 at 22:40:59 | ERROR | main:36 - ❌ Exception during request: (psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "orders_game_id_fkey"
DETAIL:  Key (game_id)=(1) is not present in table "games".

[SQL: INSERT INTO orders (user_id, game_id, product_id, manual_game_name, amount, currency, status, payment_method, transaction_id, payment_url, auto_processed, comment, created_at, updated_at) VALUES (%(user_id)s, %(game_id)s, %(product_id)s, %(manual_game_name)s, %(amount)s, %(currency)s, %(status)s, %(payment_method)s, %(transaction_id)s, %(payment_url)s, %(auto_processed)s, %(comment)s, %(created_at)s, %(updated_at)s) RETURNING orders.id]
[parameters: {'user_id': 2, 'game_id': 1, 'product_id': 3, 'manual_game_name': None, 'amount': Decimal('10.00'), 'currency': 'RUB', 'status': 'pending', 'payment_method': 'manual', 'transaction_id': None, 'payment_url': None, 'auto_processed': True, 'comment': '[3] {}', 'created_at': datetime.datetime(2025, 6, 12, 22, 40, 59, 877265), 'updated_at': datetime.datetime(2025, 6, 12, 22, 40, 59, 877267)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f7e9a18efc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f7e99db6190>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7e938a57d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'user_id': 2, 'game_id': 1, 'product_id': 3, 'manual_game_name': None, 'amount': Decimal('10.00'), 'currency': 'RUB', 'statu...
    │      │       └ 'INSERT INTO orders (user_id, game_id, product_id, manual_game_name, amount, currency, status, payment_method, transaction_id...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f7e938c4130; closed: -1>

psycopg2.errors.ForeignKeyViolation: insert or update on table "orders" violates foreign key constraint "orders_game_id_fkey"
DETAIL:  Key (game_id)=(1) is not present in table "games".



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f7e9ce1a200>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f7e9ceeb7e0>
           └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f7e9ceead40>
    └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f7e9cbf0810>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
    │    └ <function subprocess_started at 0x7f7e9c03ede0>
    └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f7e9bfa5f50>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f7e9c03dbc0>
           │       │   └ <uvicorn.server.Server object at 0x7f7e9bfa5f50>
           │       └ <function run at 0x7f7e9c33fc40>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f7e9bf13d30>
           │      └ <function Runner.run at 0x7f7e9c3971a0>
           └ <asyncio.runners.Runner object at 0x7f7e9bfa4e50>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f7e9bb501e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f7e9bfa4e50>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7e95157d10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e938bf9...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e938...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f7e9518d390>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7e95157d10>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e938bf9...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e938...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e938bf9...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e938...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7e951a9150>
          └ <fastapi.applications.FastAPI object at 0x7f7e9518d390>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f7e93ae99e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e938...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7e951a9150>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f7e93aeb560>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f7e938bed50>
                     │    └ <function log_requests at 0x7f7e94f479c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>

> File "/app/app/main.py", line 34, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f7e938bed50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f7e93aeb560>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "ord...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f7e93aeade0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93ae91c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '115', 'sec-ch-ua-platform': '"macOS"', 'aut...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f7e93aeade0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93ae91c0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f7e94f474c0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93ae91c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f7e9590e910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93ae91c0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f7e938a7e10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f7e9590e910>
          └ <function wrap_app_handling_exceptions at 0x7f7e9abb91c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93b14860>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93ae91c0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93b14860>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93ae91c0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f7e9590ca50>>
          └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93b14860>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93ae91c0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │     └ <function Route.handle at 0x7f7e9abba7a0>
          └ APIRoute(path='/api/orders/bulk', name='create_bulk_order', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93b14860>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93ae91c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f7e950ba700>
          └ APIRoute(path='/api/orders/bulk', name='create_bulk_order', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93b14860>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93ae91c0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f7e938a7a50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f7e93b17b00>
          └ <function wrap_app_handling_exceptions at 0x7f7e9abb91c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93b153a0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93ae91c0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f7e93b17b00>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f7e938a7a50>
                     └ <function get_request_handler.<locals>.app at 0x7f7e950bb560>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f7e9abd85e0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f7e938bfa90>, 'current_user': <app.models.user.User object at 0x7f7e95017...
                 │                 │         └ <function create_bulk_order at 0x7f7e976553a0>
                 │                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...
                 └ <function run_in_threadpool at 0x7f7e9b1b98a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function create_bulk_order at 0x7f7e976553a0>, db=<sqlalchemy.orm.session.Session object at 0x7f7e938bfa90...
                 │     │         └ <function run_sync at 0x7f7e9c0ce520>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f7e9c09b6a0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates ...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/orders.py", line 248, in create_bulk_order
    db.commit()
    │  └ <function Session.commit at 0x7f7e99e5f6a0>
    └ <sqlalchemy.orm.session.Session object at 0x7f7e938bfa90>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x7f7e99e5e660>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f7e938afb60>
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f7e938afb60>
                └ <function SessionTransaction.commit at 0x7f7e99e5e5c0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x7f7e99e5e480>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f7e938afb60>
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f7e938afb60>
                └ <function SessionTransaction._prepare_impl at 0x7f7e99e5e3e0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x7f7e99e6e5c0>
    │    └ <sqlalchemy.orm.session.Session object at 0x7f7e938bfa90>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f7e938afb60>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x7f7e99e6e7a0>
    └ <sqlalchemy.orm.session.Session object at 0x7f7e938bfa90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x7f7e938cc880>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "ord...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x7f7e99e47060>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f7e938bcd10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f7e938bcd10>
    │   └ <function SaveUpdateAll.execute at 0x7f7e99e47ba0>
    └ SaveUpdateAll(Mapper[Order(orders)])
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x7f7e99f96840>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py'>
    │    └ <module 'sqlalchemy.util.preloaded' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/preloaded.py'>
    └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x7f7e99e31f80>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0x7f7e9a2cf600>
             └ <sqlalchemy.engine.base.Connection object at 0x7f7e938a57d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7f7e93bd7e90>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f7e9a2cf920>
           └ <sqlalchemy.engine.base.Connection object at 0x7f7e938a57d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f7e9a2cfb00>
          └ <sqlalchemy.engine.base.Connection object at 0x7f7e938a57d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7f7e9a2cfba0>
           └ <sqlalchemy.engine.base.Connection object at 0x7f7e938a57d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f7e9a2cfe20>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7e938a57d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ ForeignKeyViolation('insert or update on table "orders" violates foreign key constraint "orders_game_id_fkey"\nDETAIL:  Key (...
          │                    │              └ (<class 'psycopg2.errors.ForeignKeyViolation'>, ForeignKeyViolation('insert or update on table "orders" violates foreign key ...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "ord...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f7e9a18efc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f7e99db6190>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7e938a57d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'user_id': 2, 'game_id': 1, 'product_id': 3, 'manual_game_name': None, 'amount': Decimal('10.00'), 'currency': 'RUB', 'statu...
    │      │       └ 'INSERT INTO orders (user_id, game_id, product_id, manual_game_name, amount, currency, status, payment_method, transaction_id...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f7e938c4130; closed: -1>

sqlalchemy.exc.IntegrityError: (psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "orders_game_id_fkey"
DETAIL:  Key (game_id)=(1) is not present in table "games".

[SQL: INSERT INTO orders (user_id, game_id, product_id, manual_game_name, amount, currency, status, payment_method, transaction_id, payment_url, auto_processed, comment, created_at, updated_at) VALUES (%(user_id)s, %(game_id)s, %(product_id)s, %(manual_game_name)s, %(amount)s, %(currency)s, %(status)s, %(payment_method)s, %(transaction_id)s, %(payment_url)s, %(auto_processed)s, %(comment)s, %(created_at)s, %(updated_at)s) RETURNING orders.id]
[parameters: {'user_id': 2, 'game_id': 1, 'product_id': 3, 'manual_game_name': None, 'amount': Decimal('10.00'), 'currency': 'RUB', 'status': 'pending', 'payment_method': 'manual', 'transaction_id': None, 'payment_url': None, 'auto_processed': True, 'comment': '[3] {}', 'created_at': datetime.datetime(2025, 6, 12, 22, 40, 59, 877265), 'updated_at': datetime.datetime(2025, 6, 12, 22, 40, 59, 877267)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-06-12 at 22:41:02 | INFO | main:32 - 📥 POST http://localhost:8000/api/orders/bulk
2025-06-12 at 22:41:02 | ERROR | main:36 - ❌ Exception during request: (psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "orders_game_id_fkey"
DETAIL:  Key (game_id)=(1) is not present in table "games".

[SQL: INSERT INTO orders (user_id, game_id, product_id, manual_game_name, amount, currency, status, payment_method, transaction_id, payment_url, auto_processed, comment, created_at, updated_at) VALUES (%(user_id)s, %(game_id)s, %(product_id)s, %(manual_game_name)s, %(amount)s, %(currency)s, %(status)s, %(payment_method)s, %(transaction_id)s, %(payment_url)s, %(auto_processed)s, %(comment)s, %(created_at)s, %(updated_at)s) RETURNING orders.id]
[parameters: {'user_id': 2, 'game_id': 1, 'product_id': 3, 'manual_game_name': None, 'amount': Decimal('10.00'), 'currency': 'RUB', 'status': 'pending', 'payment_method': 'manual', 'transaction_id': None, 'payment_url': None, 'auto_processed': True, 'comment': '[3] {}', 'created_at': datetime.datetime(2025, 6, 12, 22, 41, 2, 269328), 'updated_at': datetime.datetime(2025, 6, 12, 22, 41, 2, 269332)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f7e9a18efc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f7e99db6190>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7e938ce250>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'user_id': 2, 'game_id': 1, 'product_id': 3, 'manual_game_name': None, 'amount': Decimal('10.00'), 'currency': 'RUB', 'statu...
    │      │       └ 'INSERT INTO orders (user_id, game_id, product_id, manual_game_name, amount, currency, status, payment_method, transaction_id...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f7e938c4040; closed: -1>

psycopg2.errors.ForeignKeyViolation: insert or update on table "orders" violates foreign key constraint "orders_game_id_fkey"
DETAIL:  Key (game_id)=(1) is not present in table "games".



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f7e9ce1a200>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f7e9ceeb7e0>
           └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f7e9ceead40>
    └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f7e9cbf0810>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
    │    └ <function subprocess_started at 0x7f7e9c03ede0>
    └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f7e9bfa5f50>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f7e9c03dbc0>
           │       │   └ <uvicorn.server.Server object at 0x7f7e9bfa5f50>
           │       └ <function run at 0x7f7e9c33fc40>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f7e9bf13d30>
           │      └ <function Runner.run at 0x7f7e9c3971a0>
           └ <asyncio.runners.Runner object at 0x7f7e9bfa4e50>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f7e9bb501e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f7e9bfa4e50>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7e95157d10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e938bc7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e938...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f7e9518d390>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7e95157d10>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e938bc7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e938...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e938bc7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e938...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7e951a9150>
          └ <fastapi.applications.FastAPI object at 0x7f7e9518d390>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f7e93c1af20>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e938...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7e951a9150>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f7e93c1b420>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f7e938bea50>
                     │    └ <function log_requests at 0x7f7e94f479c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>

> File "/app/app/main.py", line 34, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f7e938bea50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f7e93c1b420>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "ord...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f7e93c1a020>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93c1b060>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '115', 'sec-ch-ua-platform': '"macOS"', 'aut...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f7e93c1a020>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93c1b060>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f7e94f474c0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93c1b060>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f7e9590e910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93c1b060>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f7e938bcf50>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f7e9590e910>
          └ <function wrap_app_handling_exceptions at 0x7f7e9abb91c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93ae9440>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93c1b060>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93ae9440>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93c1b060>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f7e9590ca50>>
          └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93ae9440>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93c1b060>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │     └ <function Route.handle at 0x7f7e9abba7a0>
          └ APIRoute(path='/api/orders/bulk', name='create_bulk_order', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93ae9440>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93c1b060>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f7e950ba700>
          └ APIRoute(path='/api/orders/bulk', name='create_bulk_order', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93ae9440>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93c1b060>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f7e938bfc50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f7e93ae9bc0>
          └ <function wrap_app_handling_exceptions at 0x7f7e9abb91c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93ae9760>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93c1b060>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f7e93ae9bc0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f7e938bfc50>
                     └ <function get_request_handler.<locals>.app at 0x7f7e950bb560>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f7e9abd85e0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f7e938cd790>, 'current_user': <app.models.user.User object at 0x7f7e938ce...
                 │                 │         └ <function create_bulk_order at 0x7f7e976553a0>
                 │                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...
                 └ <function run_in_threadpool at 0x7f7e9b1b98a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function create_bulk_order at 0x7f7e976553a0>, db=<sqlalchemy.orm.session.Session object at 0x7f7e938cd790...
                 │     │         └ <function run_sync at 0x7f7e9c0ce520>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f7e9c09b6a0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates ...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/orders.py", line 248, in create_bulk_order
    db.commit()
    │  └ <function Session.commit at 0x7f7e99e5f6a0>
    └ <sqlalchemy.orm.session.Session object at 0x7f7e938cd790>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x7f7e99e5e660>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f7e938afca0>
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f7e938afca0>
                └ <function SessionTransaction.commit at 0x7f7e99e5e5c0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x7f7e99e5e480>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f7e938afca0>
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f7e938afca0>
                └ <function SessionTransaction._prepare_impl at 0x7f7e99e5e3e0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x7f7e99e6e5c0>
    │    └ <sqlalchemy.orm.session.Session object at 0x7f7e938cd790>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f7e938afca0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x7f7e99e6e7a0>
    └ <sqlalchemy.orm.session.Session object at 0x7f7e938cd790>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x7f7e938cdf00>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "ord...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x7f7e99e47060>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f7e938ced90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f7e938ced90>
    │   └ <function SaveUpdateAll.execute at 0x7f7e99e47ba0>
    └ SaveUpdateAll(Mapper[Order(orders)])
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x7f7e99f96840>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py'>
    │    └ <module 'sqlalchemy.util.preloaded' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/preloaded.py'>
    └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x7f7e99e31f80>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0x7f7e9a2cf600>
             └ <sqlalchemy.engine.base.Connection object at 0x7f7e938ce250>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7f7e93bd7e90>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f7e9a2cf920>
           └ <sqlalchemy.engine.base.Connection object at 0x7f7e938ce250>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f7e9a2cfb00>
          └ <sqlalchemy.engine.base.Connection object at 0x7f7e938ce250>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7f7e9a2cfba0>
           └ <sqlalchemy.engine.base.Connection object at 0x7f7e938ce250>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f7e9a2cfe20>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7e938ce250>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ ForeignKeyViolation('insert or update on table "orders" violates foreign key constraint "orders_game_id_fkey"\nDETAIL:  Key (...
          │                    │              └ (<class 'psycopg2.errors.ForeignKeyViolation'>, ForeignKeyViolation('insert or update on table "orders" violates foreign key ...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "ord...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f7e9a18efc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f7e99db6190>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7e938ce250>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'user_id': 2, 'game_id': 1, 'product_id': 3, 'manual_game_name': None, 'amount': Decimal('10.00'), 'currency': 'RUB', 'statu...
    │      │       └ 'INSERT INTO orders (user_id, game_id, product_id, manual_game_name, amount, currency, status, payment_method, transaction_id...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f7e938c4040; closed: -1>

sqlalchemy.exc.IntegrityError: (psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "orders_game_id_fkey"
DETAIL:  Key (game_id)=(1) is not present in table "games".

[SQL: INSERT INTO orders (user_id, game_id, product_id, manual_game_name, amount, currency, status, payment_method, transaction_id, payment_url, auto_processed, comment, created_at, updated_at) VALUES (%(user_id)s, %(game_id)s, %(product_id)s, %(manual_game_name)s, %(amount)s, %(currency)s, %(status)s, %(payment_method)s, %(transaction_id)s, %(payment_url)s, %(auto_processed)s, %(comment)s, %(created_at)s, %(updated_at)s) RETURNING orders.id]
[parameters: {'user_id': 2, 'game_id': 1, 'product_id': 3, 'manual_game_name': None, 'amount': Decimal('10.00'), 'currency': 'RUB', 'status': 'pending', 'payment_method': 'manual', 'transaction_id': None, 'payment_url': None, 'auto_processed': True, 'comment': '[3] {}', 'created_at': datetime.datetime(2025, 6, 12, 22, 41, 2, 269328), 'updated_at': datetime.datetime(2025, 6, 12, 22, 41, 2, 269332)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-06-12 at 22:41:03 | INFO | main:32 - 📥 POST http://localhost:8000/api/orders/bulk
2025-06-12 at 22:41:03 | ERROR | main:36 - ❌ Exception during request: (psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "orders_game_id_fkey"
DETAIL:  Key (game_id)=(1) is not present in table "games".

[SQL: INSERT INTO orders (user_id, game_id, product_id, manual_game_name, amount, currency, status, payment_method, transaction_id, payment_url, auto_processed, comment, created_at, updated_at) VALUES (%(user_id)s, %(game_id)s, %(product_id)s, %(manual_game_name)s, %(amount)s, %(currency)s, %(status)s, %(payment_method)s, %(transaction_id)s, %(payment_url)s, %(auto_processed)s, %(comment)s, %(created_at)s, %(updated_at)s) RETURNING orders.id]
[parameters: {'user_id': 2, 'game_id': 1, 'product_id': 3, 'manual_game_name': None, 'amount': Decimal('10.00'), 'currency': 'RUB', 'status': 'pending', 'payment_method': 'auto', 'transaction_id': None, 'payment_url': None, 'auto_processed': True, 'comment': '[3] {}', 'created_at': datetime.datetime(2025, 6, 12, 22, 41, 3, 658167), 'updated_at': datetime.datetime(2025, 6, 12, 22, 41, 3, 658170)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f7e9a18efc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f7e99db6190>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7e93a8d210>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'user_id': 2, 'game_id': 1, 'product_id': 3, 'manual_game_name': None, 'amount': Decimal('10.00'), 'currency': 'RUB', 'statu...
    │      │       └ 'INSERT INTO orders (user_id, game_id, product_id, manual_game_name, amount, currency, status, payment_method, transaction_id...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f7e93abed40; closed: -1>

psycopg2.errors.ForeignKeyViolation: insert or update on table "orders" violates foreign key constraint "orders_game_id_fkey"
DETAIL:  Key (game_id)=(1) is not present in table "games".



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f7e9ce1a200>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f7e9ceeb7e0>
           └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f7e9ceead40>
    └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f7e9cbf0810>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
    │    └ <function subprocess_started at 0x7f7e9c03ede0>
    └ <SpawnProcess name='SpawnProcess-16' parent=8 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f7e9bfa5f50>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f7e9c03dbc0>
           │       │   └ <uvicorn.server.Server object at 0x7f7e9bfa5f50>
           │       └ <function run at 0x7f7e9c33fc40>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f7e9bf13d30>
           │      └ <function Runner.run at 0x7f7e9c3971a0>
           └ <asyncio.runners.Runner object at 0x7f7e9bfa4e50>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f7e9bb501e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f7e9bfa4e50>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7e95157d10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e938d82...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e938...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f7e9518d390>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7e95157d10>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e938d82...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e938...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e938d82...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e938...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7e951a9150>
          └ <fastapi.applications.FastAPI object at 0x7f7e9518d390>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f7e93ad4180>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f7e938...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7e951a9150>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f7e93ad4360>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f7e938d9750>
                     │    └ <function log_requests at 0x7f7e94f479c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>

> File "/app/app/main.py", line 34, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f7e938d9750>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f7e93ad4360>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "ord...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f7e93ad4ae0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93ad44a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f7e95161d10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '113', 'sec-ch-ua-platform': '"macOS"', 'aut...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f7e93ad4ae0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93ad44a0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f7e94f474c0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93ad44a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f7e9590e910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f7e98733650>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93ad44a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f7e938d9c90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f7e9590e910>
          └ <function wrap_app_handling_exceptions at 0x7f7e9abb91c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93ad4fe0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93ad44a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93ad4fe0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93ad44a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f7e9590ca50>>
          └ <fastapi.routing.APIRouter object at 0x7f7e9590ca50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93ad4fe0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93ad44a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │     └ <function Route.handle at 0x7f7e9abba7a0>
          └ APIRoute(path='/api/orders/bulk', name='create_bulk_order', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93ad4fe0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93ad44a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f7e950ba700>
          └ APIRoute(path='/api/orders/bulk', name='create_bulk_order', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93ad4fe0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93ad44a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f7e938d9dd0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f7e93ad5080>
          └ <function wrap_app_handling_exceptions at 0x7f7e9abb91c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f7e93ad51c0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f7e93ad44a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f7e93ad5080>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f7e938d9dd0>
                     └ <function get_request_handler.<locals>.app at 0x7f7e950bb560>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f7e9abd85e0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f7e938cf150>, 'current_user': <app.models.user.User object at 0x7f7e938cf...
                 │                 │         └ <function create_bulk_order at 0x7f7e976553a0>
                 │                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...
                 └ <function run_in_threadpool at 0x7f7e9b1b98a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function create_bulk_order at 0x7f7e976553a0>, db=<sqlalchemy.orm.session.Session object at 0x7f7e938cf150...
                 │     │         └ <function run_sync at 0x7f7e9c0ce520>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f7e9c09b6a0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates ...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/orders.py", line 248, in create_bulk_order
    db.commit()
    │  └ <function Session.commit at 0x7f7e99e5f6a0>
    └ <sqlalchemy.orm.session.Session object at 0x7f7e938cf150>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x7f7e99e5e660>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f7e938b8500>
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f7e938b8500>
                └ <function SessionTransaction.commit at 0x7f7e99e5e5c0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x7f7e99e5e480>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f7e938b8500>
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f7e938b8500>
                └ <function SessionTransaction._prepare_impl at 0x7f7e99e5e3e0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x7f7e99e6e5c0>
    │    └ <sqlalchemy.orm.session.Session object at 0x7f7e938cf150>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f7e938b8500>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x7f7e99e6e7a0>
    └ <sqlalchemy.orm.session.Session object at 0x7f7e938cf150>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x7f7e938cdf80>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "ord...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x7f7e99e47060>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f7e938cd3d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f7e938cd3d0>
    │   └ <function SaveUpdateAll.execute at 0x7f7e99e47ba0>
    └ SaveUpdateAll(Mapper[Order(orders)])
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x7f7e99f96840>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py'>
    │    └ <module 'sqlalchemy.util.preloaded' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/preloaded.py'>
    └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x7f7e99e31f80>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0x7f7e9a2cf600>
             └ <sqlalchemy.engine.base.Connection object at 0x7f7e93a8d210>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7f7e93bd7e90>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f7e9a2cf920>
           └ <sqlalchemy.engine.base.Connection object at 0x7f7e93a8d210>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f7e9a2cfb00>
          └ <sqlalchemy.engine.base.Connection object at 0x7f7e93a8d210>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7f7e9a2cfba0>
           └ <sqlalchemy.engine.base.Connection object at 0x7f7e93a8d210>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f7e9a2cfe20>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7e93a8d210>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ ForeignKeyViolation('insert or update on table "orders" violates foreign key constraint "orders_game_id_fkey"\nDETAIL:  Key (...
          │                    │              └ (<class 'psycopg2.errors.ForeignKeyViolation'>, ForeignKeyViolation('insert or update on table "orders" violates foreign key ...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "ord...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f7e9a18efc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f7e99db6190>
    └ <sqlalchemy.engine.base.Connection object at 0x7f7e93a8d210>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'user_id': 2, 'game_id': 1, 'product_id': 3, 'manual_game_name': None, 'amount': Decimal('10.00'), 'currency': 'RUB', 'statu...
    │      │       └ 'INSERT INTO orders (user_id, game_id, product_id, manual_game_name, amount, currency, status, payment_method, transaction_id...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f7e93abed40; closed: -1>

sqlalchemy.exc.IntegrityError: (psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "orders_game_id_fkey"
DETAIL:  Key (game_id)=(1) is not present in table "games".

[SQL: INSERT INTO orders (user_id, game_id, product_id, manual_game_name, amount, currency, status, payment_method, transaction_id, payment_url, auto_processed, comment, created_at, updated_at) VALUES (%(user_id)s, %(game_id)s, %(product_id)s, %(manual_game_name)s, %(amount)s, %(currency)s, %(status)s, %(payment_method)s, %(transaction_id)s, %(payment_url)s, %(auto_processed)s, %(comment)s, %(created_at)s, %(updated_at)s) RETURNING orders.id]
[parameters: {'user_id': 2, 'game_id': 1, 'product_id': 3, 'manual_game_name': None, 'amount': Decimal('10.00'), 'currency': 'RUB', 'status': 'pending', 'payment_method': 'auto', 'transaction_id': None, 'payment_url': None, 'auto_processed': True, 'comment': '[3] {}', 'created_at': datetime.datetime(2025, 6, 12, 22, 41, 3, 658167), 'updated_at': datetime.datetime(2025, 6, 12, 22, 41, 3, 658170)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-06-12 at 22:41:09 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:41:09 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:41:09 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:41:09 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:41:09 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:41:09 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:41:09 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:41:09 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:41:10 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:41:10 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:41:10 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:41:10 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:41:28 | INFO | main:32 - 📥 GET http://localhost:8000/api/api/payment-terms/
2025-06-12 at 22:41:28 | INFO | main:38 - 📤 404 http://localhost:8000/api/api/payment-terms/
2025-06-12 at 22:41:28 | INFO | main:32 - 📥 GET http://localhost:8000/api/api/payment-terms/
2025-06-12 at 22:41:28 | INFO | main:38 - 📤 404 http://localhost:8000/api/api/payment-terms/
2025-06-12 at 22:41:57 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:41:57 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:41:57 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:41:57 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:41:57 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:41:57 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:41:57 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:41:57 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:41:57 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:41:57 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:41:57 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:41:57 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:41:58 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:41:58 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:41:58 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:41:58 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:42:30 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:42:30 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:42:31 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:42:31 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:42:31 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:42:31 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:42:31 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:42:31 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:42:31 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:42:31 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:42:31 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:42:31 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:42:31 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:42:31 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:42:31 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:42:31 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:42:52 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:42:52 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:42:52 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:42:52 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:42:52 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:42:52 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:42:52 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:42:52 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:42:53 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:42:53 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:42:53 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:42:53 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:42:57 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/articles
2025-06-12 at 22:42:57 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/articles
2025-06-12 at 22:42:57 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles
2025-06-12 at 22:42:57 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles
2025-06-12 at 22:42:57 | INFO | main:32 - 📥 GET http://localhost:8000/api/articles
2025-06-12 at 22:42:57 | INFO | main:38 - 📤 307 http://localhost:8000/api/articles
2025-06-12 at 22:42:57 | INFO | main:32 - 📥 GET http://localhost:8000/api/articles
2025-06-12 at 22:42:57 | INFO | main:38 - 📤 307 http://localhost:8000/api/articles
2025-06-12 at 22:42:57 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/articles/
2025-06-12 at 22:42:57 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/articles/
2025-06-12 at 22:42:57 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles/
2025-06-12 at 22:42:57 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles/
2025-06-12 at 22:42:57 | INFO | main:32 - 📥 GET http://localhost:8000/api/articles/
2025-06-12 at 22:42:57 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles/
2025-06-12 at 22:42:57 | INFO | main:32 - 📥 GET http://localhost:8000/api/articles/
2025-06-12 at 22:42:57 | INFO | main:38 - 📤 200 http://localhost:8000/api/articles/
2025-06-12 at 22:42:59 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:42:59 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:42:59 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:42:59 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:42:59 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:42:59 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:42:59 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:42:59 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:42:59 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:42:59 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:42:59 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:42:59 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:43:03 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:43:03 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:43:03 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:43:03 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:46:16 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/games/3
2025-06-12 at 22:46:16 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:46:16 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/games/3
2025-06-12 at 22:46:16 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:46:16 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:46:16 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:46:16 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:46:16 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:46:22 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 22:46:22 | INFO | main:32 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-12 at 22:46:22 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:46:22 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:46:22 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:46:22 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:46:22 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:46:22 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:46:22 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:46:22 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:46:22 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:46:22 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:46:46 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:46:46 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:46:46 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:46:46 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:46:46 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:46:46 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:46:46 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:46:46 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:46:46 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:46:46 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:46:46 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:46:46 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:46:47 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:46:47 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:46:47 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:46:47 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:47:07 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:47:07 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:47:07 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:47:07 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:07 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:47:07 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:07 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:07 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:07 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:47:07 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:47:07 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:07 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:13 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:47:13 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:47:13 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:47:13 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:13 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:47:13 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:13 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:13 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:14 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:47:14 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:47:14 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:14 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:14 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:47:14 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:47:14 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:47:14 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:47:32 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:47:32 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:47:32 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:47:32 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:32 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:47:32 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:32 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:32 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:32 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:47:32 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:47:32 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:32 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:33 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:47:33 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:47:33 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:47:33 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:47:46 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:47:46 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:47:46 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:47:46 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:46 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:47:46 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:46 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:46 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:46 | INFO | main:32 - 📥 GET http://localhost:8000/api/games?q=
2025-06-12 at 22:47:46 | INFO | main:38 - 📤 307 http://localhost:8000/api/games?q=
2025-06-12 at 22:47:46 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:46 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-12 at 22:47:48 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:47:48 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:47:48 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:47:48 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:53:38 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:53:38 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:53:38 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:53:38 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:53:58 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:53:58 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:53:58 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
2025-06-12 at 22:53:58 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:53:58 | INFO | main:32 - 📥 GET http://localhost:8000/api/users/me
2025-06-12 at 22:53:58 | INFO | main:32 - 📥 GET http://localhost:8000/api/games/3
2025-06-12 at 22:53:58 | INFO | main:38 - 📤 200 http://localhost:8000/api/games/3
2025-06-12 at 22:53:58 | INFO | main:38 - 📤 200 http://localhost:8000/api/users/me
