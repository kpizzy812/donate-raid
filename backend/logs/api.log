2025-05-28 at 21:55:27 | INFO | main:9 - 📥 GET http://localhost:8000/docs
2025-05-28 at 21:55:27 | INFO | main:9 - 📥 GET http://0.0.0.0:8000/
2025-05-28 at 21:55:27 | INFO | main:9 - 📥 GET http://0.0.0.0:8000/docs
2025-05-28 at 21:55:27 | INFO | main:15 - 📤 200 http://localhost:8000/docs
2025-05-28 at 21:55:27 | INFO | main:15 - 📤 200 http://0.0.0.0:8000/docs
2025-05-28 at 21:55:27 | DEBUG | main:22 - Root endpoint called
2025-05-28 at 21:55:27 | INFO | main:15 - 📤 200 http://0.0.0.0:8000/
2025-05-28 at 21:55:34 | INFO | main:9 - 📥 GET http://localhost:8000/docs
2025-05-28 at 21:55:34 | INFO | main:15 - 📤 200 http://localhost:8000/docs
2025-05-28 at 21:55:39 | INFO | main:9 - 📥 GET http://localhost:8000/openapi.json
2025-05-28 at 21:55:39 | INFO | main:15 - 📤 200 http://localhost:8000/openapi.json
2025-05-28 at 21:56:18 | INFO | main:9 - 📥 POST http://localhost:8000/api/users/register
2025-05-28 at 21:56:18 | ERROR | main:13 - ❌ Exception during request: When initializing mapper Mapper[Game(games)], expression 'Product' failed to locate a name ('Product'). If this is a class name, consider adding this relationship() to the <class 'app.models.game.Game'> class after both dependent classes have been defined.
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           │ └ 'Product'
           └ {}
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
    │    │            │    │       └ 'Product'
    │    │            │    └ <bound method _class_resolver._access_cls of <sqlalchemy.orm.clsregistry._class_resolver object at 0x7feade5ffa60>>
    │    │            └ {}
    │    └ 'Product'
    └ {}
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           │    │        └ 'Product'
           │    └ <member 'fallback' of '_class_resolver' objects>
           └ <sqlalchemy.orm.clsregistry._class_resolver object at 0x7feade5ffa60>

KeyError: 'Product'


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7feae1b0a0c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7feae1beb6a0>
           └ <SpawnProcess name='SpawnProcess-23' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7feae1beac00>
    └ <SpawnProcess name='SpawnProcess-23' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7feae0ed0410>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-23' parent=1 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-23' parent=1 started>
    │    └ <function subprocess_started at 0x7feae0d3ea20>
    └ <SpawnProcess name='SpawnProcess-23' parent=1 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7feae0ca8d50>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7feae0d3d800>
           │       │   └ <uvicorn.server.Server object at 0x7feae0ca8d50>
           │       └ <function run at 0x7feae1593b00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7feae0c0f4c0>
           │      └ <function Runner.run at 0x7feae15ef060>
           └ <asyncio.runners.Runner object at 0x7feae0ca8610>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7feae08341e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7feae0ca8610>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7feae082a1d0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7feade430f...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7feade4...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7feae072ee10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7feae082a1d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7feade430f...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7feade4...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7feade430f...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7feade4...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7feade5411d0>
          └ <fastapi.applications.FastAPI object at 0x7feae072ee10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7feade5deca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7feade4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7feade51a590>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7feade5411d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7feade53eca0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7feade431190>
                     │    └ <function log_requests at 0x7feade5dcc20>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7feade51a590>

> File "/app/app/main.py", line 11, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7feade431190>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7feade53eca0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ InvalidRequestError("When initializing mapper Mapper[Game(games)], expression 'Product' failed to locate a name ('Product'). ...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7feade434720>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7feade42fd80>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7feade51ac90>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7feade51a590>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7feade434720>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7feade42fd80>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7feade447d90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7feae071aa90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7feade51ac90>
          └ <function wrap_app_handling_exceptions at 0x7feadfcbe520>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7feade434220>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7feade42fd80>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7feae071aa90>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7feade434220>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7feade42fd80>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7feae071aa90>>
          └ <fastapi.routing.APIRouter object at 0x7feae071aa90>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7feade434220>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7feade42fd80>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7feadfcbfb00>
          └ APIRoute(path='/api/users/register', name='register_user', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7feade434220>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7feade42fd80>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7feade5dd760>
          └ APIRoute(path='/api/users/register', name='register_user', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7feade434220>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7feade42fd80>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7feade447150>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7feade434180>
          └ <function wrap_app_handling_exceptions at 0x7feadfcbe520>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7feade4344a0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7feade42fd80>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7feade434180>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7feade447150>
                     └ <function get_request_handler.<locals>.app at 0x7feade5dd6c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7feae1a8f420>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7feade420ad0>, 'user_data': UserCreate(telegram_id=0, username='Kpeezy')}
                 │                 │         └ <function register_user at 0x7feade53d940>
                 │                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...
                 └ <function run_in_threadpool at 0x7feadfeeb1a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function register_user at 0x7feade53d940>, db=<sqlalchemy.orm.session.Session object at 0x7feade420ad0>, u...
                 │     │         └ <function run_sync at 0x7feae0de6160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7feae0d9f2e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=InvalidRequestError("When initializing mapper Mapper[Game(games)], expression 'Product' failed to ...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/users.py", line 17, in register_user
    user = get_or_create_user(db, user_data)
           │                  │   └ UserCreate(telegram_id=0, username='Kpeezy')
           │                  └ <sqlalchemy.orm.session.Session object at 0x7feade420ad0>
           └ <function get_or_create_user at 0x7feade517e20>

  File "/app/app/services/users.py", line 7, in get_or_create_user
    user = db.query(User).filter_by(telegram_id=user_data.telegram_id).first()
           │  │     │                           │         └ 0
           │  │     │                           └ UserCreate(telegram_id=0, username='Kpeezy')
           │  │     └ <class 'app.models.user.User'>
           │  └ <function Session.query at 0x7feadeeb1e40>
           └ <sqlalchemy.orm.session.Session object at 0x7feade420ad0>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           │    │          │         │       └ {}
           │    │          │         └ <sqlalchemy.orm.session.Session object at 0x7feade420ad0>
           │    │          └ (<class 'app.models.user.User'>,)
           │    └ <class 'sqlalchemy.orm.query.Query'>
           └ <sqlalchemy.orm.session.Session object at 0x7feade420ad0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    │    │             └ (<class 'app.models.user.User'>,)
    │    └ <function Query._set_entities at 0x7feadefdbc40>
    └ <sqlalchemy.orm.query.Query object at 0x7feade447f10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 288, in _set_entities
    self._raw_columns = [
    └ <sqlalchemy.orm.query.Query object at 0x7feade447f10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 289, in <listcomp>
    coercions.expect(
    │         └ <function expect at 0x7feadf5aef20>
    └ <module 'sqlalchemy.sql.coercions' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/coercions.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
    │    └ <sqlalchemy.util.langhelpers.HasMemoized.memoized_attribute object at 0x7feadefd4a10>
    └ <Mapper at 0x7feade542850; User>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
    │   │        │    │                    │    │    └ <Mapper at 0x7feade542850; User>
    │   │        │    │                    │    └ <function Mapper._post_inspect at 0x7feadefcfec0>
    │   │        │    │                    └ <sqlalchemy.util.langhelpers.HasMemoized.memoized_attribute object at 0x7feadefd4a10>
    │   │        │    └ '_post_inspect'
    │   │        └ <sqlalchemy.util.langhelpers.HasMemoized.memoized_attribute object at 0x7feadefd4a10>
    │   └ <attribute '__dict__' of 'Mapper' objects>
    └ <Mapper at 0x7feade542850; User>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    │    └ <function Mapper._check_configure at 0x7feadefcf100>
    └ <Mapper at 0x7feade542850; User>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    │                      │    └ <sqlalchemy.orm.decl_api.registry object at 0x7feae0589bd0>
    │                      └ <Mapper at 0x7feade542850; User>
    └ <function _configure_registries at 0x7feadefdae80>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
    │                        │           └ True
    │                        └ set()
    └ <function _do_configure_registries at 0x7feadefdafc0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
    │      └ <function Mapper._post_configure_properties at 0x7feadefcefc0>
    └ <Mapper at 0x7feade518850; Game>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2418, in _post_configure_properties
    prop.init()
    │    └ <function MapperProperty.init at 0x7feadf097920>
    └ <_RelationshipDeclared at 0x7feade515590; products>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/interfaces.py", line 589, in init
    self.do_init()
    │    └ <function RelationshipProperty.do_init at 0x7feadefc98a0>
    └ <_RelationshipDeclared at 0x7feade515590; products>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 1656, in do_init
    self._setup_entity()
    │    └ <function RelationshipProperty._setup_entity at 0x7feadefc9bc0>
    └ <_RelationshipDeclared at 0x7feade515590; products>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 1866, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    │    │                         └ 'Product'
    │    └ <property object at 0x7feadefb7a60>
    └ <_RelationshipDeclared at 0x7feade515590; products>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
    │    │               └ 'Product'
    │    └ <function _class_resolver._raise_for_name at 0x7feadeec2fc0>
    └ <sqlalchemy.orm.clsregistry._class_resolver object at 0x7feade5ffa60>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
          │   └ <class 'sqlalchemy.exc.InvalidRequestError'>
          └ <module 'sqlalchemy.exc' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[Game(games)], expression 'Product' failed to locate a name ('Product'). If this is a class name, consider adding this relationship() to the <class 'app.models.game.Game'> class after both dependent classes have been defined.
2025-05-28 at 22:00:27 | INFO | main:9 - 📥 POST http://localhost:8000/api/users/register
2025-05-28 at 22:00:27 | ERROR | main:13 - ❌ Exception during request: (psycopg2.errors.UndefinedTable) relation "users" does not exist
LINE 2: FROM users 
             ^

[SQL: SELECT users.id AS users_id, users.telegram_id AS users_telegram_id, users.username AS users_username, users.email AS users_email, users.balance AS users_balance, users.role AS users_role, users.created_at AS users_created_at 
FROM users 
WHERE users.telegram_id = %(telegram_id_1)s 
 LIMIT %(param_1)s]
[parameters: {'telegram_id_1': 0, 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f3ecbfcfe20>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f3ecba5ae50>
    └ <sqlalchemy.engine.base.Connection object at 0x7f3ecb2b3650>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'telegram_id_1': 0, 'param_1': 1}
    │      │       └ 'SELECT users.id AS users_id, users.telegram_id AS users_telegram_id, users.username AS users_username, users.email AS users_...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f3ecb2dc310; closed: -1>

psycopg2.errors.UndefinedTable: relation "users" does not exist
LINE 2: FROM users 
             ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f3ece86a0c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f3ece94b6a0>
           └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f3ece94ac00>
    └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f3ece6342d0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
    │    └ <function subprocess_started at 0x7f3ecdad2a20>
    └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f3ecda08c50>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f3ecdad1800>
           │       │   └ <uvicorn.server.Server object at 0x7f3ecda08c50>
           │       └ <function run at 0x7f3ece2efb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f3ecd96f4c0>
           │      └ <function Runner.run at 0x7f3ece347060>
           └ <asyncio.runners.Runner object at 0x7f3ecda08550>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f3ecd58c1e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f3ecda08550>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f3ecd581e90>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f3ecb21e0...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f3ecb2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f3ecd48e8d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f3ecd581e90>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f3ecb21e0...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f3ecb2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f3ecb21e0...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f3ecb2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f3ecb21d450>
          └ <fastapi.applications.FastAPI object at 0x7f3ecd48e8d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f3ecb215d00>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f3ecb2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f3ecb21cbd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f3ecb21d450>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f3ecb215da0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f3ecb21e0d0>
                     │    └ <function log_requests at 0x7f3ecb214b80>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f3ecb21cbd0>

> File "/app/app/main.py", line 11, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f3ecb21e0d0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f3ecb215da0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "users" does not exist\nLINE 2: FROM users \n             ^\n')
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f3ecb269a80>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f3ecb215e40>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f3ecc990150>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f3ecb21cbd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f3ecb269a80>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f3ecb215e40>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f3ecb21ed10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f3ecc958fd0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f3ecc990150>
          └ <function wrap_app_handling_exceptions at 0x7f3ecca86520>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f3ecb273e20>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f3ecb215e40>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f3ecc958fd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f3ecb273e20>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f3ecb215e40>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f3ecc958fd0>>
          └ <fastapi.routing.APIRouter object at 0x7f3ecc958fd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f3ecb273e20>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f3ecb215e40>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7f3ecca87b00>
          └ APIRoute(path='/api/users/register', name='register_user', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f3ecb273e20>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f3ecb215e40>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f3ecb2156c0>
          └ APIRoute(path='/api/users/register', name='register_user', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f3ecb273e20>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f3ecb215e40>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f3ecb32e7d0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f3ecb273ec0>
          └ <function wrap_app_handling_exceptions at 0x7f3ecca86520>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f3ecb281080>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f3ecb215e40>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f3ecb273ec0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f3ecb32e7d0>
                     └ <function get_request_handler.<locals>.app at 0x7f3ecb215620>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f3ece7ef420>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f3ecb276410>, 'user_data': UserCreate(telegram_id=0, username='Kpeezy')}
                 │                 │         └ <function register_user at 0x7f3ecb391800>
                 │                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...
                 └ <function run_in_threadpool at 0x7f3ecccab1a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function register_user at 0x7f3ecb391800>, db=<sqlalchemy.orm.session.Session object at 0x7f3ecb276410>, u...
                 │     │         └ <function run_sync at 0x7f3ecdb7a160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f3ecdb332e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=ProgrammingError('(psycopg2.errors.UndefinedTable) relation "users" does not exist\nLINE 2: FROM u...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/users.py", line 17, in register_user
    user = get_or_create_user(db, user_data)
           │                  │   └ UserCreate(telegram_id=0, username='Kpeezy')
           │                  └ <sqlalchemy.orm.session.Session object at 0x7f3ecb276410>
           └ <function get_or_create_user at 0x7f3ecb391620>

  File "/app/app/services/users.py", line 7, in get_or_create_user
    user = db.query(User).filter_by(telegram_id=user_data.telegram_id).first()
           │  │     │                           │         └ 0
           │  │     │                           └ UserCreate(telegram_id=0, username='Kpeezy')
           │  │     └ <class 'app.models.user.User'>
           │  └ <function Session.query at 0x7f3ecbcc5e40>
           └ <sqlalchemy.orm.session.Session object at 0x7f3ecb276410>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           │    └ <function Query.limit at 0x7f3ecbc34220>
           └ <sqlalchemy.orm.query.Query object at 0x7f3ecb2b3010>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
            │                  │    │      │      │    │       └ <function Session.execute at 0x7f3ecbcc4cc0>
            │                  │    │      │      │    └ <sqlalchemy.orm.session.Session object at 0x7f3ecb276410>
            │                  │    │      │      └ <sqlalchemy.orm.query.Query object at 0x7f3ecb276690>
            │                  │    │      └ ~_T
            │                  │    └ <class 'sqlalchemy.engine.result.Result'>
            │                  └ ~_T
            └ typing.Union
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x7f3ecbcc49a0>
           └ <sqlalchemy.orm.session.Session object at 0x7f3ecb276410>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x7f3ecbd19bc0>)>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x7f3ecbf30400>
             └ <sqlalchemy.engine.base.Connection object at 0x7f3ecb2b3650>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7f3ecb2b31d0>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f3ecbf30720>
           └ <sqlalchemy.engine.base.Connection object at 0x7f3ecb2b3650>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f3ecbf30900>
          └ <sqlalchemy.engine.base.Connection object at 0x7f3ecb2b3650>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7f3ecbf309a0>
           └ <sqlalchemy.engine.base.Connection object at 0x7f3ecb2b3650>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f3ecbf30c20>
    └ <sqlalchemy.engine.base.Connection object at 0x7f3ecb2b3650>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ UndefinedTable('relation "users" does not exist\nLINE 2: FROM users \n             ^\n')
          │                    │              └ (<class 'psycopg2.errors.UndefinedTable'>, UndefinedTable('relation "users" does not exist\nLINE 2: FROM users \n            ...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "users" does not exist\nLINE 2: FROM users \n             ^\n')
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f3ecbfcfe20>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f3ecba5ae50>
    └ <sqlalchemy.engine.base.Connection object at 0x7f3ecb2b3650>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'telegram_id_1': 0, 'param_1': 1}
    │      │       └ 'SELECT users.id AS users_id, users.telegram_id AS users_telegram_id, users.username AS users_username, users.email AS users_...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f3ecb2dc310; closed: -1>

sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "users" does not exist
LINE 2: FROM users 
             ^

[SQL: SELECT users.id AS users_id, users.telegram_id AS users_telegram_id, users.username AS users_username, users.email AS users_email, users.balance AS users_balance, users.role AS users_role, users.created_at AS users_created_at 
FROM users 
WHERE users.telegram_id = %(telegram_id_1)s 
 LIMIT %(param_1)s]
[parameters: {'telegram_id_1': 0, 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-28 at 22:02:49 | INFO | main:9 - 📥 POST http://localhost:8000/api/users/register
2025-05-28 at 22:02:49 | INFO | main:15 - 📤 200 http://localhost:8000/api/users/register
2025-05-28 at 22:04:57 | INFO | main:9 - 📥 GET http://localhost:8000/api/users/me
2025-05-28 at 22:04:57 | INFO | main:15 - 📤 400 http://localhost:8000/api/users/me
2025-05-28 at 22:07:29 | INFO | main:9 - 📥 GET http://localhost:8000/api/users/me
2025-05-28 at 22:07:29 | INFO | main:15 - 📤 400 http://localhost:8000/api/users/me
2025-05-28 at 22:07:42 | INFO | main:9 - 📥 GET http://localhost:8000/docs
2025-05-28 at 22:07:42 | INFO | main:15 - 📤 200 http://localhost:8000/docs
2025-05-28 at 22:07:45 | INFO | main:9 - 📥 GET http://localhost:8000/openapi.json
2025-05-28 at 22:07:45 | INFO | main:15 - 📤 200 http://localhost:8000/openapi.json
2025-05-28 at 22:07:52 | INFO | main:9 - 📥 GET http://localhost:8000/api/users/me
2025-05-28 at 22:07:52 | INFO | main:15 - 📤 200 http://localhost:8000/api/users/me
2025-05-28 at 22:15:33 | INFO | main:9 - 📥 GET http://localhost:8000/docs
2025-05-28 at 22:15:33 | INFO | main:15 - 📤 200 http://localhost:8000/docs
2025-05-28 at 22:15:35 | INFO | main:9 - 📥 GET http://localhost:8000/openapi.json
2025-05-28 at 22:15:35 | INFO | main:15 - 📤 200 http://localhost:8000/openapi.json
2025-05-28 at 22:15:46 | INFO | main:9 - 📥 GET http://localhost:8000/api/games/
2025-05-28 at 22:15:46 | INFO | main:15 - 📤 200 http://localhost:8000/api/games/
2025-05-28 at 22:15:57 | INFO | main:9 - 📥 POST http://localhost:8000/api/games/
2025-05-28 at 22:15:57 | INFO | games:34 - 🎮 Game created: string
2025-05-28 at 22:15:57 | INFO | main:15 - 📤 200 http://localhost:8000/api/games/
2025-05-28 at 22:19:35 | INFO | main:9 - 📥 GET http://localhost:8000/docs
2025-05-28 at 22:19:35 | INFO | main:15 - 📤 200 http://localhost:8000/docs
2025-05-28 at 22:19:37 | INFO | main:9 - 📥 GET http://localhost:8000/openapi.json
2025-05-28 at 22:19:37 | INFO | main:15 - 📤 200 http://localhost:8000/openapi.json
2025-05-28 at 22:19:44 | INFO | main:9 - 📥 GET http://localhost:8000/api/products/
2025-05-28 at 22:19:44 | INFO | main:15 - 📤 200 http://localhost:8000/api/products/
2025-05-28 at 22:19:53 | INFO | main:9 - 📥 POST http://localhost:8000/api/products/
2025-05-28 at 22:19:53 | ERROR | main:13 - ❌ Exception during request: 'price' is an invalid keyword argument for Product
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7fb2c0514f40>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7fb2c13a60c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fb2c148b6a0>
           └ <SpawnProcess name='SpawnProcess-28' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fb2c148ac00>
    └ <SpawnProcess name='SpawnProcess-28' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fb2c0764590>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-28' parent=1 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-28' parent=1 started>
    │    └ <function subprocess_started at 0x7fb2c05d6a20>
    └ <SpawnProcess name='SpawnProcess-28' parent=1 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fb2c0540d50>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fb2c05d5800>
           │       │   └ <uvicorn.server.Server object at 0x7fb2c0540d50>
           │       └ <function run at 0x7fb2c093bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fb2c04a74c0>
           │      └ <function Runner.run at 0x7fb2c0993060>
           └ <asyncio.runners.Runner object at 0x7fb2c0540610>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fb2c00d01e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fb2c0540610>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb2c00c6150>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb2bde2e9...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb2bde...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb2bffced50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb2c00c6150>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb2bde2e9...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb2bde...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb2bde2e9...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb2bde...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb2bddd0650>
          └ <fastapi.applications.FastAPI object at 0x7fb2bffced50>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fb2bde21b20>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb2bde...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb2bdeb2890>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb2bddd0650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fb2bde21bc0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fb2bde2ce50>
                     │    └ <function log_requests at 0x7fb2bdd99ee0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb2bdeb2890>

> File "/app/app/main.py", line 11, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fb2bde2ce50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fb2bde21bc0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ TypeError("'price' is an invalid keyword argument for Product")
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fb2bde214e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb2bde227a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fb2bdeb29d0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb2bdeb2890>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fb2bde214e0>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb2bde227a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fb2bde2de50>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fb2bf491750>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fb2bdeb29d0>
          └ <function wrap_app_handling_exceptions at 0x7fb2bf5c2520>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb2bde21580>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb2bde227a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fb2bf491750>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb2bde21580>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb2bde227a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fb2bf491750>>
          └ <fastapi.routing.APIRouter object at 0x7fb2bf491750>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb2bde21580>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb2bde227a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7fb2bf5c3b00>
          └ APIRoute(path='/api/products/', name='create_product', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb2bde21580>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb2bde227a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fb2bdd9ade0>
          └ APIRoute(path='/api/products/', name='create_product', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb2bde21580>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb2bde227a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fb2bdc927d0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fb2bde22700>
          └ <function wrap_app_handling_exceptions at 0x7fb2bf5c2520>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb2bde21260>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb2bde227a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fb2bde22700>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fb2bdc927d0>
                     └ <function get_request_handler.<locals>.app at 0x7fb2bdd9ad40>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fb2c132b420>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fb2bddd3890>, 'product_data': ProductCreate(game_id=0, name='string', pri...
                 │                 │         └ <function create_product at 0x7fb2bdd98180>
                 │                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...
                 └ <function run_in_threadpool at 0x7fb2bf7ef1a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function create_product at 0x7fb2bdd98180>, db=<sqlalchemy.orm.session.Session object at 0x7fb2bddd3890>, ...
                 │     │         └ <function run_sync at 0x7fb2c067e160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fb2c06372e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=TypeError("'price' is an invalid keyword argument for Product")>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/products.py", line 28, in create_product
    new_product = Product(**product_data.dict())
                  │         │            └ <function BaseModel.dict at 0x7fb2bf7693a0>
                  │         └ ProductCreate(game_id=0, name='string', price=Decimal('0'), type=<ProductType.currency: 'currency'>)
                  └ <class 'app.models.product.Product'>

  File "<string>", line 4, in __init__
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x7fb2bdc98a00>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("'price' is an invalid keyword argument for Product")
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    │       │              │            └ {'game_id': 0, 'name': 'string', 'price': Decimal('0'), 'type': <ProductType.currency: 'currency'>}
    │       │              └ (<sqlalchemy.orm.state.InstanceState object at 0x7fb2bde60e30>, <app.models.product.Product object at 0x7fb2bdc93650>)
    │       └ <function _declarative_constructor at 0x7fb2be7fdda0>
    └ <ClassManager of <class 'app.models.product.Product'> at 7fb2be4e3890>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 2173, in _declarative_constructor
    raise TypeError(

TypeError: 'price' is an invalid keyword argument for Product
2025-05-28 at 22:22:38 | INFO | main:9 - 📥 POST http://localhost:8000/api/products/
2025-05-28 at 22:22:38 | INFO | main:15 - 📤 422 http://localhost:8000/api/products/
2025-05-28 at 22:23:03 | INFO | main:9 - 📥 GET http://localhost:8000/docs
2025-05-28 at 22:23:03 | INFO | main:15 - 📤 200 http://localhost:8000/docs
2025-05-28 at 22:23:05 | INFO | main:9 - 📥 GET http://localhost:8000/openapi.json
2025-05-28 at 22:23:05 | INFO | main:15 - 📤 200 http://localhost:8000/openapi.json
2025-05-28 at 22:23:15 | INFO | main:9 - 📥 POST http://localhost:8000/api/products/
2025-05-28 at 22:23:15 | ERROR | main:13 - ❌ Exception during request: (psycopg2.errors.ForeignKeyViolation) insert or update on table "products" violates foreign key constraint "products_game_id_fkey"
DETAIL:  Key (game_id)=(0) is not present in table "games".

[SQL: INSERT INTO products (game_id, name, price_rub, min_amount, max_amount, type, description, instructions, enabled, delivery) VALUES (%(game_id)s, %(name)s, %(price_rub)s, %(min_amount)s, %(max_amount)s, %(type)s, %(description)s, %(instructions)s, %(enabled)s, %(delivery)s) RETURNING products.id]
[parameters: {'game_id': 0, 'name': 'string', 'price_rub': Decimal('0'), 'min_amount': 1, 'max_amount': 1, 'type': 'currency', 'description': None, 'instructions': None, 'enabled': True, 'delivery': 'auto'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f218a3bfec0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f2189e4add0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f21896c7e10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'game_id': 0, 'name': 'string', 'price_rub': Decimal('0'), 'min_amount': 1, 'max_amount': 1, 'type': 'currency', 'descriptio...
    │      │       └ 'INSERT INTO products (game_id, name, price_rub, min_amount, max_amount, type, description, instructions, enabled, delivery) ...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f21896f9030; closed: -1>

psycopg2.errors.ForeignKeyViolation: insert or update on table "products" violates foreign key constraint "products_game_id_fkey"
DETAIL:  Key (game_id)=(0) is not present in table "games".



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f218cd360c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f218ce0b6a0>
           └ <SpawnProcess name='SpawnProcess-29' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f218ce0ac00>
    └ <SpawnProcess name='SpawnProcess-29' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f218c12f650>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-29' parent=1 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-29' parent=1 started>
    │    └ <function subprocess_started at 0x7f218bfaea20>
    └ <SpawnProcess name='SpawnProcess-29' parent=1 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f218bee4c50>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f218bfad800>
           │       │   └ <uvicorn.server.Server object at 0x7f218bee4c50>
           │       └ <function run at 0x7f218c31fb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f218be4b4c0>
           │      └ <function Runner.run at 0x7f218c377060>
           └ <asyncio.runners.Runner object at 0x7f218bee4510>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f218ba681e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f218bee4510>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f218ba5e050>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f21896baa...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f21896...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f218b96ac10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f218ba5e050>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f21896baa...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f21896...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f21896baa...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f21896...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f218963ea10>
          └ <fastapi.applications.FastAPI object at 0x7f218b96ac10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f21897e7600>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f21896...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f21896145d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f218963ea10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f2189658360>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f21896bab50>
                     │    └ <function log_requests at 0x7f2189605ee0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f21896145d0>

> File "/app/app/main.py", line 11, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f21896bab50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f2189658360>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "products" violates foreign key constraint "p...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f218968f920>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f218968d620>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f218971eb50>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f21896145d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f218968f920>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f218968d620>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f21896ba0d0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f218ad910d0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f218971eb50>
          └ <function wrap_app_handling_exceptions at 0x7f218aec2520>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f218968f880>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f218968d620>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f218ad910d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f218968f880>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f218968d620>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f218ad910d0>>
          └ <fastapi.routing.APIRouter object at 0x7f218ad910d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f218968f880>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f218968d620>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7f218aec3b00>
          └ APIRoute(path='/api/products/', name='create_product', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f218968f880>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f218968d620>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f2189606de0>
          └ APIRoute(path='/api/products/', name='create_product', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f218968f880>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f218968d620>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f21896b9d90>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f218968f560>
          └ <function wrap_app_handling_exceptions at 0x7f218aec2520>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f218968f6a0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f218968d620>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f218968f560>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f21896b9d90>
                     └ <function get_request_handler.<locals>.app at 0x7f2189606d40>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f218ccbb420>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f2189622290>, 'product_data': ProductCreate(game_id=0, name='string', pri...
                 │                 │         └ <function create_product at 0x7f2189604180>
                 │                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...
                 └ <function run_in_threadpool at 0x7f218b0ef1a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function create_product at 0x7f2189604180>, db=<sqlalchemy.orm.session.Session object at 0x7f2189622290>, ...
                 │     │         └ <function run_sync at 0x7f218c056160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f218c00f2e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "products" violate...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/products.py", line 30, in create_product
    db.commit()
    │  └ <function Session.commit at 0x7f218a0bc5e0>
    └ <sqlalchemy.orm.session.Session object at 0x7f2189622290>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x7f218a0ab560>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f2189749fe0>
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f2189749fe0>
                └ <function SessionTransaction.commit at 0x7f218a0ab4c0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x7f218a0ab380>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f2189749fe0>
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f2189749fe0>
                └ <function SessionTransaction._prepare_impl at 0x7f218a0ab2e0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x7f218a0bf4c0>
    │    └ <sqlalchemy.orm.session.Session object at 0x7f2189622290>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f2189749fe0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x7f218a0bf6a0>
    └ <sqlalchemy.orm.session.Session object at 0x7f2189622290>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x7f21896f7b40>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "products" violates foreign key constraint "p...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x7f218a083f60>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f21896c7850>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f21896c7850>
    │   └ <function SaveUpdateAll.execute at 0x7f218a0a8ae0>
    └ SaveUpdateAll(Mapper[Product(products)])
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x7f218a1df740>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py'>
    │    └ <module 'sqlalchemy.util.preloaded' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/preloaded.py'>
    └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x7f218a066e80>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0x7f218a3204a0>
             └ <sqlalchemy.engine.base.Connection object at 0x7f21896c7e10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7f21896f53d0>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f218a3207c0>
           └ <sqlalchemy.engine.base.Connection object at 0x7f21896c7e10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f218a3209a0>
          └ <sqlalchemy.engine.base.Connection object at 0x7f21896c7e10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7f218a320a40>
           └ <sqlalchemy.engine.base.Connection object at 0x7f21896c7e10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f218a320cc0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f21896c7e10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ ForeignKeyViolation('insert or update on table "products" violates foreign key constraint "products_game_id_fkey"\nDETAIL:  K...
          │                    │              └ (<class 'psycopg2.errors.ForeignKeyViolation'>, ForeignKeyViolation('insert or update on table "products" violates foreign ke...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "products" violates foreign key constraint "p...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f218a3bfec0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f2189e4add0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f21896c7e10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'game_id': 0, 'name': 'string', 'price_rub': Decimal('0'), 'min_amount': 1, 'max_amount': 1, 'type': 'currency', 'descriptio...
    │      │       └ 'INSERT INTO products (game_id, name, price_rub, min_amount, max_amount, type, description, instructions, enabled, delivery) ...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f21896f9030; closed: -1>

sqlalchemy.exc.IntegrityError: (psycopg2.errors.ForeignKeyViolation) insert or update on table "products" violates foreign key constraint "products_game_id_fkey"
DETAIL:  Key (game_id)=(0) is not present in table "games".

[SQL: INSERT INTO products (game_id, name, price_rub, min_amount, max_amount, type, description, instructions, enabled, delivery) VALUES (%(game_id)s, %(name)s, %(price_rub)s, %(min_amount)s, %(max_amount)s, %(type)s, %(description)s, %(instructions)s, %(enabled)s, %(delivery)s) RETURNING products.id]
[parameters: {'game_id': 0, 'name': 'string', 'price_rub': Decimal('0'), 'min_amount': 1, 'max_amount': 1, 'type': 'currency', 'description': None, 'instructions': None, 'enabled': True, 'delivery': 'auto'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-28 at 22:27:06 | INFO | main:9 - 📥 POST http://localhost:8000/api/products/
2025-05-28 at 22:27:06 | INFO | main:15 - 📤 404 http://localhost:8000/api/products/
2025-05-28 at 22:27:32 | INFO | main:9 - 📥 POST http://localhost:8000/api/games/
2025-05-28 at 22:27:32 | INFO | games:34 - 🎮 Game created: GTA5
2025-05-28 at 22:27:32 | INFO | main:15 - 📤 200 http://localhost:8000/api/games/
2025-05-28 at 22:28:04 | INFO | main:9 - 📥 POST http://localhost:8000/api/products/
2025-05-28 at 22:28:04 | INFO | main:15 - 📤 200 http://localhost:8000/api/products/
2025-05-28 at 22:28:28 | INFO | main:9 - 📥 GET http://localhost:8000/api/products/2
2025-05-28 at 22:28:28 | INFO | main:15 - 📤 404 http://localhost:8000/api/products/2
2025-05-28 at 22:29:29 | INFO | main:9 - 📥 GET http://localhost:8000/api/products/
2025-05-28 at 22:29:29 | INFO | main:15 - 📤 200 http://localhost:8000/api/products/
2025-05-28 at 22:30:15 | INFO | main:9 - 📥 GET http://localhost:8000/api/products/2
2025-05-28 at 22:30:15 | INFO | main:15 - 📤 200 http://localhost:8000/api/products/2
2025-05-28 at 22:31:32 | INFO | main:9 - 📥 GET http://localhost:8000/docs
2025-05-28 at 22:31:32 | INFO | main:15 - 📤 200 http://localhost:8000/docs
2025-05-28 at 22:31:38 | INFO | main:9 - 📥 GET http://localhost:8000/openapi.json
2025-05-28 at 22:31:38 | INFO | main:15 - 📤 200 http://localhost:8000/openapi.json
2025-05-28 at 22:31:47 | INFO | main:9 - 📥 GET http://localhost:8000/api/products/game/2
2025-05-28 at 22:31:47 | INFO | main:15 - 📤 200 http://localhost:8000/api/products/game/2
2025-05-28 at 22:35:23 | INFO | main:9 - 📥 GET http://localhost:8000/docs
2025-05-28 at 22:35:23 | INFO | main:15 - 📤 200 http://localhost:8000/docs
2025-05-28 at 22:35:26 | INFO | main:9 - 📥 GET http://localhost:8000/openapi.json
2025-05-28 at 22:35:26 | INFO | main:15 - 📤 200 http://localhost:8000/openapi.json
2025-05-28 at 22:35:30 | INFO | main:9 - 📥 GET http://localhost:8000/docs
2025-05-28 at 22:35:30 | INFO | main:15 - 📤 200 http://localhost:8000/docs
2025-05-28 at 22:35:32 | INFO | main:9 - 📥 GET http://localhost:8000/openapi.json
2025-05-28 at 22:35:32 | INFO | main:15 - 📤 200 http://localhost:8000/openapi.json
2025-05-28 at 22:35:51 | INFO | main:9 - 📥 POST http://localhost:8000/api/orders/
2025-05-28 at 22:35:51 | ERROR | main:13 - ❌ Exception during request: (psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "orders_user_id_fkey"
DETAIL:  Key (user_id)=(0) is not present in table "users".

[SQL: INSERT INTO orders (user_id, game_id, product_id, amount, currency, status, payment_method, transaction_id, auto_processed, comment, created_at, updated_at) VALUES (%(user_id)s, %(game_id)s, %(product_id)s, %(amount)s, %(currency)s, %(status)s, %(payment_method)s, %(transaction_id)s, %(auto_processed)s, %(comment)s, %(created_at)s, %(updated_at)s) RETURNING orders.id]
[parameters: {'user_id': 0, 'game_id': 2, 'product_id': 2, 'amount': Decimal('10'), 'currency': 'string', 'status': 'pending', 'payment_method': 'ton', 'transaction_id': None, 'auto_processed': True, 'comment': 'string', 'created_at': datetime.datetime(2025, 5, 28, 22, 35, 51, 561257), 'updated_at': datetime.datetime(2025, 5, 28, 22, 35, 51, 561261)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f0909cc3ec0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f090974ecd0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f09090713d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'user_id': 0, 'game_id': 2, 'product_id': 2, 'amount': Decimal('10'), 'currency': 'string', 'status': 'pending', 'payment_me...
    │      │       └ 'INSERT INTO orders (user_id, game_id, product_id, amount, currency, status, payment_method, transaction_id, auto_processed, ...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f0908ed5120; closed: -1>

psycopg2.errors.ForeignKeyViolation: insert or update on table "orders" violates foreign key constraint "orders_user_id_fkey"
DETAIL:  Key (user_id)=(0) is not present in table "users".



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f090c5a60c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f090c68b6a0>
           └ <SpawnProcess name='SpawnProcess-36' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f090c68ac00>
    └ <SpawnProcess name='SpawnProcess-36' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f090b9576d0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-36' parent=1 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-36' parent=1 started>
    │    └ <function subprocess_started at 0x7f090b7d6a20>
    └ <SpawnProcess name='SpawnProcess-36' parent=1 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f090b740f50>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f090b7d5800>
           │       │   └ <uvicorn.server.Server object at 0x7f090b740f50>
           │       └ <function run at 0x7f090bb3bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f090b6a74c0>
           │      └ <function Runner.run at 0x7f090bb93060>
           └ <asyncio.runners.Runner object at 0x7f090b7408d0>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f090b2d41e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f090b7408d0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f090b2ca050>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f090904e4...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f09090...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f090b1d6cd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f090b2ca050>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f090904e4...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f09090...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f090904e4...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f09090...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f0908ff3910>
          └ <fastapi.applications.FastAPI object at 0x7f090b1d6cd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f090903eac0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f09090...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f0908ff3990>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f0908ff3910>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f090903f6a0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f090904fe90>
                     │    └ <function log_requests at 0x7f0908fa2a20>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f0908ff3990>

> File "/app/app/main.py", line 11, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f090904fe90>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f090903f6a0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "ord...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f090903e5c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f090903e340>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f0908ff3890>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f0908ff3990>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f090903e5c0>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f090903e340>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f090904e9d0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f090b1be950>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f0908ff3890>
          └ <function wrap_app_handling_exceptions at 0x7f090a7c2520>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f090903f600>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f090903e340>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f090b1be950>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f090903f600>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f090903e340>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f090b1be950>>
          └ <fastapi.routing.APIRouter object at 0x7f090b1be950>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f090903f600>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f090903e340>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7f090a7c3b00>
          └ APIRoute(path='/api/orders/', name='create_order', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f090903f600>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f090903e340>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f0908fa2f20>
          └ APIRoute(path='/api/orders/', name='create_order', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f090903f600>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f090903e340>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f090904ecd0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f090903e660>
          └ <function wrap_app_handling_exceptions at 0x7f090a7c2520>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f090903e840>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f090903e340>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f090903e660>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f090904ecd0>
                     └ <function get_request_handler.<locals>.app at 0x7f0908fa2e80>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f090c52b420>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f0909000290>, 'order_data': OrderCreate(user_id=0, game_id=2, product_id=...
                 │                 │         └ <function create_order at 0x7f090917f560>
                 │                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...
                 └ <function run_in_threadpool at 0x7f090a9ef1a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function create_order at 0x7f090917f560>, db=<sqlalchemy.orm.session.Session object at 0x7f0909000290>, or...
                 │     │         └ <function run_sync at 0x7f090b87e160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f090b8372e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates ...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/orders.py", line 14, in create_order
    db.commit()
    │  └ <function Session.commit at 0x7f09099c05e0>
    └ <sqlalchemy.orm.session.Session object at 0x7f0909000290>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x7f09099af560>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f0909057750>
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f0909057750>
                └ <function SessionTransaction.commit at 0x7f09099af4c0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x7f09099af380>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f0909057750>
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f0909057750>
                └ <function SessionTransaction._prepare_impl at 0x7f09099af2e0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x7f09099c34c0>
    │    └ <sqlalchemy.orm.session.Session object at 0x7f0909000290>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f0909057750>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x7f09099c36a0>
    └ <sqlalchemy.orm.session.Session object at 0x7f0909000290>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x7f0908ea1580>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "ord...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x7f0909987f60>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f09090719d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f09090719d0>
    │   └ <function SaveUpdateAll.execute at 0x7f09099acae0>
    └ SaveUpdateAll(Mapper[Order(orders)])
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x7f0909ae3740>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py'>
    │    └ <module 'sqlalchemy.util.preloaded' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/preloaded.py'>
    └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x7f090996ae80>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0x7f0909c244a0>
             └ <sqlalchemy.engine.base.Connection object at 0x7f09090713d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7f0908ea12d0>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f0909c247c0>
           └ <sqlalchemy.engine.base.Connection object at 0x7f09090713d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f0909c249a0>
          └ <sqlalchemy.engine.base.Connection object at 0x7f09090713d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7f0909c24a40>
           └ <sqlalchemy.engine.base.Connection object at 0x7f09090713d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f0909c24cc0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f09090713d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ ForeignKeyViolation('insert or update on table "orders" violates foreign key constraint "orders_user_id_fkey"\nDETAIL:  Key (...
          │                    │              └ (<class 'psycopg2.errors.ForeignKeyViolation'>, ForeignKeyViolation('insert or update on table "orders" violates foreign key ...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "ord...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f0909cc3ec0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f090974ecd0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f09090713d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'user_id': 0, 'game_id': 2, 'product_id': 2, 'amount': Decimal('10'), 'currency': 'string', 'status': 'pending', 'payment_me...
    │      │       └ 'INSERT INTO orders (user_id, game_id, product_id, amount, currency, status, payment_method, transaction_id, auto_processed, ...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f0908ed5120; closed: -1>

sqlalchemy.exc.IntegrityError: (psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "orders_user_id_fkey"
DETAIL:  Key (user_id)=(0) is not present in table "users".

[SQL: INSERT INTO orders (user_id, game_id, product_id, amount, currency, status, payment_method, transaction_id, auto_processed, comment, created_at, updated_at) VALUES (%(user_id)s, %(game_id)s, %(product_id)s, %(amount)s, %(currency)s, %(status)s, %(payment_method)s, %(transaction_id)s, %(auto_processed)s, %(comment)s, %(created_at)s, %(updated_at)s) RETURNING orders.id]
[parameters: {'user_id': 0, 'game_id': 2, 'product_id': 2, 'amount': Decimal('10'), 'currency': 'string', 'status': 'pending', 'payment_method': 'ton', 'transaction_id': None, 'auto_processed': True, 'comment': 'string', 'created_at': datetime.datetime(2025, 5, 28, 22, 35, 51, 561257), 'updated_at': datetime.datetime(2025, 5, 28, 22, 35, 51, 561261)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-29 at 09:28:17 | INFO | main:9 - 📥 POST http://localhost:8000/api/orders/
2025-05-29 at 09:28:18 | ERROR | main:13 - ❌ Exception during request: (psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "orders_user_id_fkey"
DETAIL:  Key (user_id)=(0) is not present in table "users".

[SQL: INSERT INTO orders (user_id, game_id, product_id, amount, currency, status, payment_method, transaction_id, auto_processed, comment, created_at, updated_at) VALUES (%(user_id)s, %(game_id)s, %(product_id)s, %(amount)s, %(currency)s, %(status)s, %(payment_method)s, %(transaction_id)s, %(auto_processed)s, %(comment)s, %(created_at)s, %(updated_at)s) RETURNING orders.id]
[parameters: {'user_id': 0, 'game_id': 2, 'product_id': 2, 'amount': Decimal('10'), 'currency': 'string', 'status': 'pending', 'payment_method': 'ton', 'transaction_id': None, 'auto_processed': True, 'comment': 'string', 'created_at': datetime.datetime(2025, 5, 29, 9, 28, 18, 32814), 'updated_at': datetime.datetime(2025, 5, 29, 9, 28, 18, 32826)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f0909cc3ec0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f090974ecd0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f0908959a90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'user_id': 0, 'game_id': 2, 'product_id': 2, 'amount': Decimal('10'), 'currency': 'string', 'status': 'pending', 'payment_me...
    │      │       └ 'INSERT INTO orders (user_id, game_id, product_id, amount, currency, status, payment_method, transaction_id, auto_processed, ...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f0908ed72e0; closed: -1>

psycopg2.errors.ForeignKeyViolation: insert or update on table "orders" violates foreign key constraint "orders_user_id_fkey"
DETAIL:  Key (user_id)=(0) is not present in table "users".



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f090c5a60c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f090c68b6a0>
           └ <SpawnProcess name='SpawnProcess-36' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f090c68ac00>
    └ <SpawnProcess name='SpawnProcess-36' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f090b9576d0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-36' parent=1 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-36' parent=1 started>
    │    └ <function subprocess_started at 0x7f090b7d6a20>
    └ <SpawnProcess name='SpawnProcess-36' parent=1 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f090b740f50>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f090b7d5800>
           │       │   └ <uvicorn.server.Server object at 0x7f090b740f50>
           │       └ <function run at 0x7f090bb3bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f090b6a74c0>
           │      └ <function Runner.run at 0x7f090bb93060>
           └ <asyncio.runners.Runner object at 0x7f090b7408d0>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f090b2d41e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f090b7408d0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f090b2ca050>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f090892fa...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f09089...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f090b1d6cd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f090b2ca050>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f090892fa...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f09089...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f090892fa...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f09089...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f0908ff3910>
          └ <fastapi.applications.FastAPI object at 0x7f090b1d6cd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f0908b71080>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f09089...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f0908ff3990>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f0908ff3910>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f0908b711c0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f090892fb90>
                     │    └ <function log_requests at 0x7f0908fa2a20>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f0908ff3990>

> File "/app/app/main.py", line 11, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f090892fb90>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f0908b711c0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "ord...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f0908b71300>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f0908b71260>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f0908ff3890>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f0908ff3990>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f0908b71300>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f0908b71260>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f090904ffd0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f090b1be950>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f0908ff3890>
          └ <function wrap_app_handling_exceptions at 0x7f090a7c2520>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f0908b71580>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f0908b71260>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f090b1be950>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f0908b71580>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f0908b71260>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f090b1be950>>
          └ <fastapi.routing.APIRouter object at 0x7f090b1be950>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f0908b71580>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f0908b71260>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7f090a7c3b00>
          └ APIRoute(path='/api/orders/', name='create_order', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f0908b71580>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f0908b71260>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f0908fa2f20>
          └ APIRoute(path='/api/orders/', name='create_order', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f0908b71580>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f0908b71260>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f0908ea3c10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f0908b716c0>
          └ <function wrap_app_handling_exceptions at 0x7f090a7c2520>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f0908b71800>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f0908b71260>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f0908b716c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f0908ea3c10>
                     └ <function get_request_handler.<locals>.app at 0x7f0908fa2e80>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f090c52b420>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f0908edc550>, 'order_data': OrderCreate(user_id=0, game_id=2, product_id=...
                 │                 │         └ <function create_order at 0x7f090917f560>
                 │                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...
                 └ <function run_in_threadpool at 0x7f090a9ef1a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function create_order at 0x7f090917f560>, db=<sqlalchemy.orm.session.Session object at 0x7f0908edc550>, or...
                 │     │         └ <function run_sync at 0x7f090b87e160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f090b8372e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates ...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/orders.py", line 14, in create_order
    db.commit()
    │  └ <function Session.commit at 0x7f09099c05e0>
    └ <sqlalchemy.orm.session.Session object at 0x7f0908edc550>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x7f09099af560>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f0908951950>
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f0908951950>
                └ <function SessionTransaction.commit at 0x7f09099af4c0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x7f09099af380>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f0908951950>
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f0908951950>
                └ <function SessionTransaction._prepare_impl at 0x7f09099af2e0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x7f09099c34c0>
    │    └ <sqlalchemy.orm.session.Session object at 0x7f0908edc550>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f0908951950>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x7f09099c36a0>
    └ <sqlalchemy.orm.session.Session object at 0x7f0908edc550>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x7f0908959d80>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "ord...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x7f0909987f60>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f0908959410>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f0908959410>
    │   └ <function SaveUpdateAll.execute at 0x7f09099acae0>
    └ SaveUpdateAll(Mapper[Order(orders)])
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x7f0909ae3740>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py'>
    │    └ <module 'sqlalchemy.util.preloaded' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/preloaded.py'>
    └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x7f090996ae80>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0x7f0909c244a0>
             └ <sqlalchemy.engine.base.Connection object at 0x7f0908959a90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7f0908ea12d0>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f0909c247c0>
           └ <sqlalchemy.engine.base.Connection object at 0x7f0908959a90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f0909c249a0>
          └ <sqlalchemy.engine.base.Connection object at 0x7f0908959a90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7f0909c24a40>
           └ <sqlalchemy.engine.base.Connection object at 0x7f0908959a90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f0909c24cc0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f0908959a90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ ForeignKeyViolation('insert or update on table "orders" violates foreign key constraint "orders_user_id_fkey"\nDETAIL:  Key (...
          │                    │              └ (<class 'psycopg2.errors.ForeignKeyViolation'>, ForeignKeyViolation('insert or update on table "orders" violates foreign key ...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "ord...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f0909cc3ec0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f090974ecd0>
    └ <sqlalchemy.engine.base.Connection object at 0x7f0908959a90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'user_id': 0, 'game_id': 2, 'product_id': 2, 'amount': Decimal('10'), 'currency': 'string', 'status': 'pending', 'payment_me...
    │      │       └ 'INSERT INTO orders (user_id, game_id, product_id, amount, currency, status, payment_method, transaction_id, auto_processed, ...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f0908ed72e0; closed: -1>

sqlalchemy.exc.IntegrityError: (psycopg2.errors.ForeignKeyViolation) insert or update on table "orders" violates foreign key constraint "orders_user_id_fkey"
DETAIL:  Key (user_id)=(0) is not present in table "users".

[SQL: INSERT INTO orders (user_id, game_id, product_id, amount, currency, status, payment_method, transaction_id, auto_processed, comment, created_at, updated_at) VALUES (%(user_id)s, %(game_id)s, %(product_id)s, %(amount)s, %(currency)s, %(status)s, %(payment_method)s, %(transaction_id)s, %(auto_processed)s, %(comment)s, %(created_at)s, %(updated_at)s) RETURNING orders.id]
[parameters: {'user_id': 0, 'game_id': 2, 'product_id': 2, 'amount': Decimal('10'), 'currency': 'string', 'status': 'pending', 'payment_method': 'ton', 'transaction_id': None, 'auto_processed': True, 'comment': 'string', 'created_at': datetime.datetime(2025, 5, 29, 9, 28, 18, 32814), 'updated_at': datetime.datetime(2025, 5, 29, 9, 28, 18, 32826)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-29 at 10:08:15 | INFO | main:9 - 📥 GET http://localhost:8000/docs
2025-05-29 at 10:08:15 | INFO | main:15 - 📤 200 http://localhost:8000/docs
2025-05-29 at 10:08:18 | INFO | main:9 - 📥 GET http://localhost:8000/openapi.json
2025-05-29 at 10:08:18 | INFO | main:15 - 📤 200 http://localhost:8000/openapi.json
2025-05-29 at 10:09:30 | INFO | main:9 - 📥 POST http://localhost:8000/api/auth/auth/request-link
2025-05-29 at 10:09:30 | INFO | main:15 - 📤 200 http://localhost:8000/api/auth/auth/request-link
2025-05-29 at 10:29:58 | INFO | main:9 - 📥 POST http://localhost:8000/api/auth/auth/request-link
2025-05-29 at 10:29:58 | ERROR | main:13 - ❌ Exception during request: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x7fb533155300>
    │                        └ Engine(postgresql://user:***@localhost:5432/donate_raid)
    └ <sqlalchemy.engine.base.Connection object at 0x7fb53245c1d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3297, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x7fb5339fa2a0>
           │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
           └ Engine(postgresql://user:***@localhost:5432/donate_raid)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x7fb53350c360>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x7fb5339fae80>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 713, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7fb53350fa60>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x7fb531f63b40>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError('connection to server at "localhost" (::1), port 5432 failed: Connection refused\n\tIs the server running on...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x7fb5339fa020>
           └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 675, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x7fb531f44910>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 901, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x7fb531f636c0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError('connection to server at "localhost" (::1), port 5432 failed: Connection refused\n\tIs the server running on...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 897, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x7fb531f44910>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x7fb532dc16c0>
    │    │                               └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x7fb531f44910>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'localhost', 'dbname': 'donate_raid', 'user': 'user', 'password': 'pass', 'port': 5432}
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x7fb53300cfe0>
           └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fb532c675d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 625, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           │    │            │        │        └ {'host': 'localhost', 'dbname': 'donate_raid', 'user': 'user', 'password': 'pass', 'port': 5432}
           │    │            │        └ ()
           │    │            └ <function connect at 0x7fb532bc72e0>
           │    └ <module 'psycopg2' from '/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py'>
           └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fb532c675d0>
  File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           │        │                       │                     └ {}
           │        │                       └ None
           │        └ 'host=localhost dbname=donate_raid user=user password=pass port=5432'
           └ <built-in function _connect>

psycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7fb535c160c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fb535ceb6a0>
           └ <SpawnProcess name='SpawnProcess-2' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fb535ceac00>
    └ <SpawnProcess name='SpawnProcess-2' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fb5359fc090>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=1 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=1 started>
    │    └ <function subprocess_started at 0x7fb534e36a20>
    └ <SpawnProcess name='SpawnProcess-2' parent=1 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fb534dcce10>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fb534e35800>
           │       │   └ <uvicorn.server.Server object at 0x7fb534dcce10>
           │       └ <function run at 0x7fb53513bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fb534d334c0>
           │      └ <function Runner.run at 0x7fb535193060>
           └ <asyncio.runners.Runner object at 0x7fb534dcbc90>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fb5349501e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fb534dcbc90>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb534946210>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb5324b96...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb5324...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb53484ae50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb534946210>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb5324b96...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb5324...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb5324b96...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb5324...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb532449c10>
          └ <fastapi.applications.FastAPI object at 0x7fb53484ae50>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fb5324bc040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb5324...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb532449510>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb532449c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fb5324268e0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fb5324b8690>
                     │    └ <function log_requests at 0x7fb532476340>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb532449510>

> File "/app/app/main.py", line 11, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fb5324b8690>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fb5324268e0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ OperationalError('(psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fb5324bcf40>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb5324bcd60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fb532499b90>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb532449510>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fb5324bcf40>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb5324bcd60>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fb5324b9950>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fb532449290>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fb532499b90>
          └ <function wrap_app_handling_exceptions at 0x7fb533af98a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb5324f5ee0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb5324bcd60>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fb532449290>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb5324f5ee0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb5324bcd60>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fb532449290>>
          └ <fastapi.routing.APIRouter object at 0x7fb532449290>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb5324f5ee0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb5324bcd60>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7fb533afae80>
          └ APIRoute(path='/api/auth/auth/request-link', name='request_login_link', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb5324f5ee0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb5324bcd60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fb5324777e0>
          └ APIRoute(path='/api/auth/auth/request-link', name='request_login_link', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb5324f5ee0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb5324bcd60>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fb5325c7510>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fb5324f5f80>
          └ <function wrap_app_handling_exceptions at 0x7fb533af98a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb5324f60c0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb5324bcd60>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fb5324f5f80>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fb5325c7510>
                     └ <function get_request_handler.<locals>.app at 0x7fb5324776a0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fb533afa980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fb532301450>, 'data': EmailRequest(email='kpeezy@gmail.com')}
                 │                 │         └ <function request_login_link at 0x7fb532427b00>
                 │                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...
                 └ <function run_in_threadpool at 0x7fb533fe31a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function request_login_link at 0x7fb532427b00>, db=<sqlalchemy.orm.session.Session object at 0x7fb53230145...
                 │     │         └ <function run_sync at 0x7fb534ede160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fb534e972e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=OperationalError('(psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/auth.py", line 21, in request_login_link
    user = db.query(User).filter_by(email=data.email).first()
           │  │     │                     │    └ 'kpeezy@gmail.com'
           │  │     │                     └ EmailRequest(email='kpeezy@gmail.com')
           │  │     └ <class 'app.models.user.User'>
           │  └ <function Session.query at 0x7fb532ee7c40>
           └ <sqlalchemy.orm.session.Session object at 0x7fb532301450>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           │    └ <function Query.limit at 0x7fb532e4e020>
           └ <sqlalchemy.orm.query.Query object at 0x7fb531f62b10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
            │                  │    │      │      │    │       └ <function Session.execute at 0x7fb532ee6ac0>
            │                  │    │      │      │    └ <sqlalchemy.orm.session.Session object at 0x7fb532301450>
            │                  │    │      │      └ <sqlalchemy.orm.query.Query object at 0x7fb5323016d0>
            │                  │    │      └ ~_T
            │                  │    └ <class 'sqlalchemy.engine.result.Result'>
            │                  └ ~_T
            └ typing.Union
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x7fb532ee67a0>
           └ <sqlalchemy.orm.session.Session object at 0x7fb532301450>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(postgresql://user:***@localhost:5432/donate_raid)
           │    └ <function Session._connection_for_bind at 0x7fb532ee6520>
           └ <sqlalchemy.orm.session.Session object at 0x7fb532301450>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           │     │                    │       └ None
           │     │                    └ Engine(postgresql://user:***@localhost:5432/donate_raid)
           │     └ <function SessionTransaction._connection_for_bind at 0x7fb532ee4fe0>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x7fb531f36800>
  File "<string>", line 2, in _connection_for_bind
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(postgresql://user:***@localhost:5432/donate_raid), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7fb531f36800>
                └ <function SessionTransaction._connection_for_bind at 0x7fb532ee4e00>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x7fb533155260>
           └ Engine(postgresql://user:***@localhost:5432/donate_raid)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3273, in connect
    return self._connection_cls(self)
           │    │               └ Engine(postgresql://user:***@localhost:5432/donate_raid)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(postgresql://user:***@localhost:5432/donate_raid)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
    Connection._handle_dbapi_exception_noconnection(
    │          └ <classmethod(<function Connection._handle_dbapi_exception_noconnection at 0x7fb533152ac0>)>
    └ <class 'sqlalchemy.engine.base.Connection'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2436, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ OperationalError('connection to server at "localhost" (::1), port 5432 failed: Connection refused\n\tIs the server running on...
          │                    │              └ (<class 'psycopg2.OperationalError'>, OperationalError('connection to server at "localhost" (::1), port 5432 failed: Connecti...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError('(psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x7fb533155300>
    │                        └ Engine(postgresql://user:***@localhost:5432/donate_raid)
    └ <sqlalchemy.engine.base.Connection object at 0x7fb53245c1d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3297, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x7fb5339fa2a0>
           │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
           └ Engine(postgresql://user:***@localhost:5432/donate_raid)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x7fb53350c360>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x7fb5339fae80>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 713, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7fb53350fa60>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x7fb531f63b40>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError('connection to server at "localhost" (::1), port 5432 failed: Connection refused\n\tIs the server running on...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x7fb5339fa020>
           └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 675, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x7fb531f44910>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 901, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x7fb531f636c0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError('connection to server at "localhost" (::1), port 5432 failed: Connection refused\n\tIs the server running on...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 897, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x7fb531f44910>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x7fb532dc16c0>
    │    │                               └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x7fb531f44910>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'localhost', 'dbname': 'donate_raid', 'user': 'user', 'password': 'pass', 'port': 5432}
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x7fb53300cfe0>
           └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fb532c675d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 625, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           │    │            │        │        └ {'host': 'localhost', 'dbname': 'donate_raid', 'user': 'user', 'password': 'pass', 'port': 5432}
           │    │            │        └ ()
           │    │            └ <function connect at 0x7fb532bc72e0>
           │    └ <module 'psycopg2' from '/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py'>
           └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fb532c675d0>
  File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           │        │                       │                     └ {}
           │        │                       └ None
           │        └ 'host=localhost dbname=donate_raid user=user password=pass port=5432'
           └ <built-in function _connect>

sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-29 at 10:31:26 | INFO | main:9 - 📥 POST http://localhost:8000/api/auth/auth/request-link
2025-05-29 at 10:31:26 | ERROR | main:13 - ❌ Exception during request: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x7fb533155300>
    │                        └ Engine(postgresql://user:***@localhost:5432/donate_raid)
    └ <sqlalchemy.engine.base.Connection object at 0x7fb531975f50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3297, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x7fb5339fa2a0>
           │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
           └ Engine(postgresql://user:***@localhost:5432/donate_raid)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x7fb53350c360>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x7fb5339fae80>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 713, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7fb53350fa60>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x7fb531976440>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError('connection to server at "localhost" (::1), port 5432 failed: Connection refused\n\tIs the server running on...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x7fb5339fa020>
           └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 675, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x7fb53195f690>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 901, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x7fb531976140>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError('connection to server at "localhost" (::1), port 5432 failed: Connection refused\n\tIs the server running on...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 897, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x7fb53195f690>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x7fb532dc16c0>
    │    │                               └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x7fb53195f690>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'localhost', 'dbname': 'donate_raid', 'user': 'user', 'password': 'pass', 'port': 5432}
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x7fb53300cfe0>
           └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fb532c675d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 625, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           │    │            │        │        └ {'host': 'localhost', 'dbname': 'donate_raid', 'user': 'user', 'password': 'pass', 'port': 5432}
           │    │            │        └ ()
           │    │            └ <function connect at 0x7fb532bc72e0>
           │    └ <module 'psycopg2' from '/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py'>
           └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fb532c675d0>
  File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           │        │                       │                     └ {}
           │        │                       └ None
           │        └ 'host=localhost dbname=donate_raid user=user password=pass port=5432'
           └ <built-in function _connect>

psycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7fb535c160c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fb535ceb6a0>
           └ <SpawnProcess name='SpawnProcess-2' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fb535ceac00>
    └ <SpawnProcess name='SpawnProcess-2' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fb5359fc090>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=1 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=1 started>
    │    └ <function subprocess_started at 0x7fb534e36a20>
    └ <SpawnProcess name='SpawnProcess-2' parent=1 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fb534dcce10>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fb534e35800>
           │       │   └ <uvicorn.server.Server object at 0x7fb534dcce10>
           │       └ <function run at 0x7fb53513bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fb534d334c0>
           │      └ <function Runner.run at 0x7fb535193060>
           └ <asyncio.runners.Runner object at 0x7fb534dcbc90>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fb5349501e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fb534dcbc90>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb534946210>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb5319748...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb5319...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb53484ae50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb534946210>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb5319748...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb5319...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb5319748...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb5319...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb532449c10>
          └ <fastapi.applications.FastAPI object at 0x7fb53484ae50>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fb531d289a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fb5319...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb532449510>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb532449c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fb531d28ae0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fb531974910>
                     │    └ <function log_requests at 0x7fb532476340>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb532449510>

> File "/app/app/main.py", line 11, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fb531974910>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fb531d28ae0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ OperationalError('(psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fb531d28c20>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb531d28b80>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fb532499b90>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fb532449510>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fb531d28c20>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb531d28b80>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fb5324b93d0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fb532449290>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fb532499b90>
          └ <function wrap_app_handling_exceptions at 0x7fb533af98a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb531d28ea0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb531d28b80>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fb532449290>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb531d28ea0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb531d28b80>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fb532449290>>
          └ <fastapi.routing.APIRouter object at 0x7fb532449290>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb531d28ea0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb531d28b80>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7fb533afae80>
          └ APIRoute(path='/api/auth/auth/request-link', name='request_login_link', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb531d28ea0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb531d28b80>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fb5324777e0>
          └ APIRoute(path='/api/auth/auth/request-link', name='request_login_link', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb531d28ea0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb531d28b80>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fb531974e10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fb531d28f40>
          └ <function wrap_app_handling_exceptions at 0x7fb533af98a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fb531d29080>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fb531d28b80>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fb531d28f40>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fb531974e10>
                     └ <function get_request_handler.<locals>.app at 0x7fb5324776a0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fb533afa980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fb531f6c350>, 'data': EmailRequest(email='kpeezy@gmail.com')}
                 │                 │         └ <function request_login_link at 0x7fb532427b00>
                 │                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...
                 └ <function run_in_threadpool at 0x7fb533fe31a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function request_login_link at 0x7fb532427b00>, db=<sqlalchemy.orm.session.Session object at 0x7fb531f6c35...
                 │     │         └ <function run_sync at 0x7fb534ede160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fb534e972e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=OperationalError('(psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/auth.py", line 21, in request_login_link
    user = db.query(User).filter_by(email=data.email).first()
           │  │     │                     │    └ 'kpeezy@gmail.com'
           │  │     │                     └ EmailRequest(email='kpeezy@gmail.com')
           │  │     └ <class 'app.models.user.User'>
           │  └ <function Session.query at 0x7fb532ee7c40>
           └ <sqlalchemy.orm.session.Session object at 0x7fb531f6c350>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           │    └ <function Query.limit at 0x7fb532e4e020>
           └ <sqlalchemy.orm.query.Query object at 0x7fb53194fe50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
            │                  │    │      │      │    │       └ <function Session.execute at 0x7fb532ee6ac0>
            │                  │    │      │      │    └ <sqlalchemy.orm.session.Session object at 0x7fb531f6c350>
            │                  │    │      │      └ <sqlalchemy.orm.query.Query object at 0x7fb5325eef90>
            │                  │    │      └ ~_T
            │                  │    └ <class 'sqlalchemy.engine.result.Result'>
            │                  └ ~_T
            └ typing.Union
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x7fb532ee67a0>
           └ <sqlalchemy.orm.session.Session object at 0x7fb531f6c350>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2241, in _execute_internal
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(postgresql://user:***@localhost:5432/donate_raid)
           │    └ <function Session._connection_for_bind at 0x7fb532ee6520>
           └ <sqlalchemy.orm.session.Session object at 0x7fb531f6c350>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2110, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           │     │                    │       └ None
           │     │                    └ Engine(postgresql://user:***@localhost:5432/donate_raid)
           │     └ <function SessionTransaction._connection_for_bind at 0x7fb532ee4fe0>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x7fb531ddf1b0>
  File "<string>", line 2, in _connection_for_bind
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(postgresql://user:***@localhost:5432/donate_raid), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7fb531ddf1b0>
                └ <function SessionTransaction._connection_for_bind at 0x7fb532ee4e00>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x7fb533155260>
           └ Engine(postgresql://user:***@localhost:5432/donate_raid)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3273, in connect
    return self._connection_cls(self)
           │    │               └ Engine(postgresql://user:***@localhost:5432/donate_raid)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(postgresql://user:***@localhost:5432/donate_raid)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
    Connection._handle_dbapi_exception_noconnection(
    │          └ <classmethod(<function Connection._handle_dbapi_exception_noconnection at 0x7fb533152ac0>)>
    └ <class 'sqlalchemy.engine.base.Connection'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2436, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ OperationalError('connection to server at "localhost" (::1), port 5432 failed: Connection refused\n\tIs the server running on...
          │                    │              └ (<class 'psycopg2.OperationalError'>, OperationalError('connection to server at "localhost" (::1), port 5432 failed: Connecti...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError('(psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x7fb533155300>
    │                        └ Engine(postgresql://user:***@localhost:5432/donate_raid)
    └ <sqlalchemy.engine.base.Connection object at 0x7fb531975f50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3297, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x7fb5339fa2a0>
           │    └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
           └ Engine(postgresql://user:***@localhost:5432/donate_raid)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x7fb53350c360>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1264, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x7fb5339fae80>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 713, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x7fb53350fa60>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x7fb531976440>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError('connection to server at "localhost" (::1), port 5432 failed: Connection refused\n\tIs the server running on...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x7fb5339fa020>
           └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 675, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x7fb53195f690>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 901, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x7fb531976140>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError('connection to server at "localhost" (::1), port 5432 failed: Connection refused\n\tIs the server running on...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 897, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x7fb53195f690>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x7fb532dc16c0>
    │    │                               └ <sqlalchemy.pool.impl.QueuePool object at 0x7fb53250f090>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x7fb53195f690>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 646, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'localhost', 'dbname': 'donate_raid', 'user': 'user', 'password': 'pass', 'port': 5432}
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x7fb53300cfe0>
           └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fb532c675d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 625, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           │    │            │        │        └ {'host': 'localhost', 'dbname': 'donate_raid', 'user': 'user', 'password': 'pass', 'port': 5432}
           │    │            │        └ ()
           │    │            └ <function connect at 0x7fb532bc72e0>
           │    └ <module 'psycopg2' from '/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py'>
           └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fb532c675d0>
  File "/usr/local/lib/python3.11/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           │        │                       │                     └ {}
           │        │                       └ None
           │        └ 'host=localhost dbname=donate_raid user=user password=pass port=5432'
           └ <built-in function _connect>

sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-29 at 10:46:26 | INFO | main:9 - 📥 POST http://localhost:8000/api/auth/auth/request-link
2025-05-29 at 10:46:26 | INFO | main:15 - 📤 200 http://localhost:8000/api/auth/auth/request-link
2025-05-29 at 10:46:38 | INFO | main:9 - 📥 GET http://localhost:8000/api/games/
2025-05-29 at 10:46:38 | INFO | main:15 - 📤 200 http://localhost:8000/api/games/
2025-05-29 at 10:47:44 | INFO | main:9 - 📥 GET http://localhost:8000/api/auth/auth/verify?token=df2f3bb92a9054f54dbb5980ad7b381b7456e776db3d88e3a4c98da3b60432ff
2025-05-29 at 10:47:44 | INFO | main:15 - 📤 400 http://localhost:8000/api/auth/auth/verify?token=df2f3bb92a9054f54dbb5980ad7b381b7456e776db3d88e3a4c98da3b60432ff
2025-05-30 at 15:35:58 | INFO | main:9 - 📥 GET http://localhost:8000/docs
2025-05-30 at 15:35:58 | INFO | main:15 - 📤 200 http://localhost:8000/docs
2025-05-30 at 15:36:02 | INFO | main:9 - 📥 GET http://localhost:8000/openapi.json
2025-05-30 at 15:36:02 | INFO | main:15 - 📤 200 http://localhost:8000/openapi.json
2025-05-30 at 15:36:02 | INFO | main:9 - 📥 GET http://localhost:8000/docs
2025-05-30 at 15:36:02 | INFO | main:15 - 📤 200 http://localhost:8000/docs
2025-05-30 at 15:36:03 | INFO | main:9 - 📥 GET http://localhost:8000/openapi.json
2025-05-30 at 15:36:03 | INFO | main:15 - 📤 200 http://localhost:8000/openapi.json
2025-06-02 at 15:44:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 15:44:02 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 15:44:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 15:44:02 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 15:44:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 15:44:02 | ERROR | main:22 - ❌ Exception during request: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fc4c0521bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fc4c019e190>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bbfa0f10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fc4bbfdd990; closed: -1>

psycopg2.errors.UndefinedTable: relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7fc4c309e0c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fc4c316f6a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fc4c316ec00>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fc4c246ca90>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    └ <function subprocess_started at 0x7fc4c22daa20>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fc4c22454d0>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fc4c22d9800>
           │       │   └ <uvicorn.server.Server object at 0x7fc4c22454d0>
           │       └ <function run at 0x7fc4c2b1bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fc4c21ab4c0>
           │      └ <function Runner.run at 0x7fc4c2b73060>
           └ <asyncio.runners.Runner object at 0x7fc4c2244b10>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fc4c1dd01e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fc4c2244b10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc4bcf24cd0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bbf4af...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bbf...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc4c1cb7710>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc4bcf24cd0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bbf4af...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bbf...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bbf4af...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bbf...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4bcfb0650>
          └ <fastapi.applications.FastAPI object at 0x7fc4c1cb7710>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc4bbf4e520>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bbf...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4bcfb0650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fc4bbf4f4c0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fc4bbf4ac10>
                     │    └ <function log_requests at 0x7fc4bcba8720>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fc4bbf4ac10>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fc4bbf4f4c0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fc4bbf4f560>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bbf4e160>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (M...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fc4bbf4f560>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bbf4e160>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7fc4bcba80e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bbf4e160>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fc4bcf91ed0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bbf4e160>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fc4bbf4ba10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fc4bcf91ed0>
          └ <function wrap_app_handling_exceptions at 0x7fc4c100d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bbf4e340>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bbf4e160>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bbf4e340>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bbf4e160>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>>
          └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bbf4e340>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bbf4e160>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7fc4c100ee80>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bbf4e340>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bbf4e160>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fc4bcba8860>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bbf4e340>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bbf4e160>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fc4bbf4b650>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fc4bbf4e200>
          └ <function wrap_app_handling_exceptions at 0x7fc4c100d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bbf4e0c0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bbf4e160>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fc4bbf4e200>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fc4bbf4b650>
                     └ <function get_request_handler.<locals>.app at 0x7fc4bcba87c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fc4c100e980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fc4bcfb1d50>, 'q': ''}
                 │                 │         └ <function list_games at 0x7fc4bfa15260>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation')], header_params=[], cooki...
                 └ <function run_in_threadpool at 0x7fc4c14ef1a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function list_games at 0x7fc4bfa15260>, db=<sqlalchemy.orm.session.Session object at 0x7fc4bcfb1d50>, q='')
                 │     │         └ <function run_sync at 0x7fc4c2382160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fc4c233b2e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM g...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/games.py", line 27, in list_games
    return query.all()
           │     └ <function Query.all at 0x7fc4c036a520>
           └ <sqlalchemy.orm.query.Query object at 0x7fc4bbf4ad90>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           │    └ <function Query._iter at 0x7fc4c036aca0>
           └ <sqlalchemy.orm.query.Query object at 0x7fc4bbf4ad90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
            │                  │    │      │      │    │       └ <function Session.execute at 0x7fc4c03fea20>
            │                  │    │      │      │    └ <sqlalchemy.orm.session.Session object at 0x7fc4bcfb1d50>
            │                  │    │      │      └ <sqlalchemy.orm.query.Query object at 0x7fc4bbf4ad90>
            │                  │    │      └ ~_T
            │                  │    └ <class 'sqlalchemy.engine.result.Result'>
            │                  └ ~_T
            └ typing.Union
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x7fc4c03fe700>
           └ <sqlalchemy.orm.session.Session object at 0x7fc4bcfb1d50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x7fc4c0453920>)>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x7fc4c0662160>
             └ <sqlalchemy.engine.base.Connection object at 0x7fc4bbfa0f10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fc4bbfc0050>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fc4c0662480>
           └ <sqlalchemy.engine.base.Connection object at 0x7fc4bbfa0f10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fc4c0662660>
          └ <sqlalchemy.engine.base.Connection object at 0x7fc4bbfa0f10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7fc4c0662700>
           └ <sqlalchemy.engine.base.Connection object at 0x7fc4bbfa0f10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fc4c0662980>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bbfa0f10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...\n   ...
          │                    │              └ (<class 'psycopg2.errors.UndefinedTable'>, UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOI...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fc4c0521bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fc4c019e190>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bbfa0f10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fc4bbfdd990; closed: -1>

sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-06-02 at 15:44:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 15:44:02 | ERROR | main:22 - ❌ Exception during request: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fc4c0521bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fc4c019e190>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb21ebd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fc4bb23c040; closed: -1>

psycopg2.errors.UndefinedTable: relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7fc4c309e0c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fc4c316f6a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fc4c316ec00>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fc4c246ca90>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    └ <function subprocess_started at 0x7fc4c22daa20>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fc4c22454d0>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fc4c22d9800>
           │       │   └ <uvicorn.server.Server object at 0x7fc4c22454d0>
           │       └ <function run at 0x7fc4c2b1bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fc4c21ab4c0>
           │      └ <function Runner.run at 0x7fc4c2b73060>
           └ <asyncio.runners.Runner object at 0x7fc4c2244b10>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fc4c1dd01e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fc4c2244b10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc4bcf24cd0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bbf4af...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bbf...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc4c1cb7710>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc4bcf24cd0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bbf4af...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bbf...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bbf4af...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bbf...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4bcfb0650>
          └ <fastapi.applications.FastAPI object at 0x7fc4c1cb7710>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc4bcbfcf40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bbf...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4bcfb0650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fc4bcbfc220>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fc4bd03d990>
                     │    └ <function log_requests at 0x7fc4bcba8720>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fc4bd03d990>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fc4bcbfc220>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fc4bb5fdd00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fdc60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (M...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fc4bb5fdd00>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fdc60>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7fc4bcba80e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fdc60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fc4bcf91ed0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fdc60>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fc4bb21e290>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fc4bcf91ed0>
          └ <function wrap_app_handling_exceptions at 0x7fc4c100d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5fe0c0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fdc60>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5fe0c0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fdc60>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>>
          └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5fe0c0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fdc60>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7fc4c100ee80>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5fe0c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fdc60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fc4bcba8860>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5fe0c0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fdc60>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fc4bb21e210>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fc4bb5fe160>
          └ <function wrap_app_handling_exceptions at 0x7fc4c100d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5fe2a0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fdc60>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fc4bb5fe160>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fc4bb21e210>
                     └ <function get_request_handler.<locals>.app at 0x7fc4bcba87c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fc4c100e980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fc4bcf55550>, 'q': ''}
                 │                 │         └ <function list_games at 0x7fc4bfa15260>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation')], header_params=[], cooki...
                 └ <function run_in_threadpool at 0x7fc4c14ef1a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function list_games at 0x7fc4bfa15260>, db=<sqlalchemy.orm.session.Session object at 0x7fc4bcf55550>, q='')
                 │     │         └ <function run_sync at 0x7fc4c2382160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fc4c233b2e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM g...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/games.py", line 27, in list_games
    return query.all()
           │     └ <function Query.all at 0x7fc4c036a520>
           └ <sqlalchemy.orm.query.Query object at 0x7fc4bbfc0c90>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           │    └ <function Query._iter at 0x7fc4c036aca0>
           └ <sqlalchemy.orm.query.Query object at 0x7fc4bbfc0c90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
            │                  │    │      │      │    │       └ <function Session.execute at 0x7fc4c03fea20>
            │                  │    │      │      │    └ <sqlalchemy.orm.session.Session object at 0x7fc4bcf55550>
            │                  │    │      │      └ <sqlalchemy.orm.query.Query object at 0x7fc4bbfc0c90>
            │                  │    │      └ ~_T
            │                  │    └ <class 'sqlalchemy.engine.result.Result'>
            │                  └ ~_T
            └ typing.Union
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x7fc4c03fe700>
           └ <sqlalchemy.orm.session.Session object at 0x7fc4bcf55550>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x7fc4c0453920>)>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x7fc4c0662160>
             └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb21ebd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fc4bb21ea10>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fc4c0662480>
           └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb21ebd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fc4c0662660>
          └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb21ebd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7fc4c0662700>
           └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb21ebd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fc4c0662980>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb21ebd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...\n   ...
          │                    │              └ (<class 'psycopg2.errors.UndefinedTable'>, UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOI...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fc4c0521bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fc4c019e190>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb21ebd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fc4bb23c040; closed: -1>

sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-06-02 at 15:44:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 15:44:02 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 15:44:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 15:44:02 | ERROR | main:22 - ❌ Exception during request: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fc4c0521bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fc4c019e190>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb21fb90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fc4bbfdf010; closed: -1>

psycopg2.errors.UndefinedTable: relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7fc4c309e0c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fc4c316f6a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fc4c316ec00>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fc4c246ca90>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    └ <function subprocess_started at 0x7fc4c22daa20>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fc4c22454d0>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fc4c22d9800>
           │       │   └ <uvicorn.server.Server object at 0x7fc4c22454d0>
           │       └ <function run at 0x7fc4c2b1bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fc4c21ab4c0>
           │      └ <function Runner.run at 0x7fc4c2b73060>
           └ <asyncio.runners.Runner object at 0x7fc4c2244b10>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fc4c1dd01e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fc4c2244b10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc4bcf24cd0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2420...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc4c1cb7710>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc4bcf24cd0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2420...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2420...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4bcfb0650>
          └ <fastapi.applications.FastAPI object at 0x7fc4c1cb7710>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc4bb5fede0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4bcfb0650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fc4bb5fef20>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fc4bb242390>
                     │    └ <function log_requests at 0x7fc4bcba8720>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fc4bb242390>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fc4bb5fef20>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fc4bb5ff060>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fefc0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (M...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fc4bb5ff060>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fefc0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7fc4bcba80e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fefc0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fc4bcf91ed0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fefc0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fc4bb242b10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fc4bcf91ed0>
          └ <function wrap_app_handling_exceptions at 0x7fc4c100d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5feac0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fefc0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5feac0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fefc0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>>
          └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5feac0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fefc0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7fc4c100ee80>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5feac0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fefc0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fc4bcba8860>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5feac0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fefc0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fc4bb242b90>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fc4bb5ff2e0>
          └ <function wrap_app_handling_exceptions at 0x7fc4c100d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5ff420>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fefc0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fc4bb5ff2e0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fc4bb242b90>
                     └ <function get_request_handler.<locals>.app at 0x7fc4bcba87c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fc4c100e980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fc4bbfe9710>, 'q': ''}
                 │                 │         └ <function list_games at 0x7fc4bfa15260>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation')], header_params=[], cooki...
                 └ <function run_in_threadpool at 0x7fc4c14ef1a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function list_games at 0x7fc4bfa15260>, db=<sqlalchemy.orm.session.Session object at 0x7fc4bbfe9710>, q='')
                 │     │         └ <function run_sync at 0x7fc4c2382160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fc4c233b2e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM g...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/games.py", line 27, in list_games
    return query.all()
           │     └ <function Query.all at 0x7fc4c036a520>
           └ <sqlalchemy.orm.query.Query object at 0x7fc4bb56c050>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           │    └ <function Query._iter at 0x7fc4c036aca0>
           └ <sqlalchemy.orm.query.Query object at 0x7fc4bb56c050>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
            │                  │    │      │      │    │       └ <function Session.execute at 0x7fc4c03fea20>
            │                  │    │      │      │    └ <sqlalchemy.orm.session.Session object at 0x7fc4bbfe9710>
            │                  │    │      │      └ <sqlalchemy.orm.query.Query object at 0x7fc4bb56c050>
            │                  │    │      └ ~_T
            │                  │    └ <class 'sqlalchemy.engine.result.Result'>
            │                  └ ~_T
            └ typing.Union
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x7fc4c03fe700>
           └ <sqlalchemy.orm.session.Session object at 0x7fc4bbfe9710>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x7fc4c0453920>)>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x7fc4c0662160>
             └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb21fb90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fc4bb21ddd0>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fc4c0662480>
           └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb21fb90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fc4c0662660>
          └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb21fb90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7fc4c0662700>
           └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb21fb90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fc4c0662980>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb21fb90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...\n   ...
          │                    │              └ (<class 'psycopg2.errors.UndefinedTable'>, UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOI...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fc4c0521bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fc4c019e190>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb21fb90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fc4bbfdf010; closed: -1>

sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-06-02 at 15:44:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 15:44:02 | ERROR | main:22 - ❌ Exception during request: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fc4c0521bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fc4c019e190>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb243450>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fc4bb23d7b0; closed: -1>

psycopg2.errors.UndefinedTable: relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7fc4c309e0c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fc4c316f6a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fc4c316ec00>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fc4c246ca90>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    └ <function subprocess_started at 0x7fc4c22daa20>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fc4c22454d0>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fc4c22d9800>
           │       │   └ <uvicorn.server.Server object at 0x7fc4c22454d0>
           │       └ <function run at 0x7fc4c2b1bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fc4c21ab4c0>
           │      └ <function Runner.run at 0x7fc4c2b73060>
           └ <asyncio.runners.Runner object at 0x7fc4c2244b10>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fc4c1dd01e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fc4c2244b10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc4bcf24cd0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bcfb08...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bcf...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc4c1cb7710>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc4bcf24cd0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bcfb08...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bcf...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bcfb08...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bcf...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4bcfb0650>
          └ <fastapi.applications.FastAPI object at 0x7fc4c1cb7710>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc4bb5ff1a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bcf...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4bcfb0650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fc4bb5fe660>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fc4bb241c50>
                     │    └ <function log_requests at 0x7fc4bcba8720>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fc4bb241c50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fc4bb5fe660>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fc4bb5fe980>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5ff240>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (M...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fc4bb5fe980>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5ff240>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7fc4bcba80e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5ff240>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fc4bcf91ed0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5ff240>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fc4bb241210>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fc4bcf91ed0>
          └ <function wrap_app_handling_exceptions at 0x7fc4c100d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5fe700>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5ff240>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5fe700>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5ff240>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>>
          └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5fe700>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5ff240>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7fc4c100ee80>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5fe700>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5ff240>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fc4bcba8860>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5fe700>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5ff240>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fc4bb2411d0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fc4bb5feca0>
          └ <function wrap_app_handling_exceptions at 0x7fc4c100d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5fdd00>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5ff240>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fc4bb5feca0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fc4bb2411d0>
                     └ <function get_request_handler.<locals>.app at 0x7fc4bcba87c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fc4c100e980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fc4bb21ea10>, 'q': ''}
                 │                 │         └ <function list_games at 0x7fc4bfa15260>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation')], header_params=[], cooki...
                 └ <function run_in_threadpool at 0x7fc4c14ef1a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function list_games at 0x7fc4bfa15260>, db=<sqlalchemy.orm.session.Session object at 0x7fc4bb21ea10>, q='')
                 │     │         └ <function run_sync at 0x7fc4c2382160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fc4c233b2e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM g...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/games.py", line 27, in list_games
    return query.all()
           │     └ <function Query.all at 0x7fc4c036a520>
           └ <sqlalchemy.orm.query.Query object at 0x7fc4bb243150>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           │    └ <function Query._iter at 0x7fc4c036aca0>
           └ <sqlalchemy.orm.query.Query object at 0x7fc4bb243150>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
            │                  │    │      │      │    │       └ <function Session.execute at 0x7fc4c03fea20>
            │                  │    │      │      │    └ <sqlalchemy.orm.session.Session object at 0x7fc4bb21ea10>
            │                  │    │      │      └ <sqlalchemy.orm.query.Query object at 0x7fc4bb243150>
            │                  │    │      └ ~_T
            │                  │    └ <class 'sqlalchemy.engine.result.Result'>
            │                  └ ~_T
            └ typing.Union
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x7fc4c03fe700>
           └ <sqlalchemy.orm.session.Session object at 0x7fc4bb21ea10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x7fc4c0453920>)>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x7fc4c0662160>
             └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb243450>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fc4bb2406d0>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fc4c0662480>
           └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb243450>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fc4c0662660>
          └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb243450>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7fc4c0662700>
           └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb243450>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fc4c0662980>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb243450>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...\n   ...
          │                    │              └ (<class 'psycopg2.errors.UndefinedTable'>, UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOI...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fc4c0521bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fc4c019e190>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb243450>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fc4bb23d7b0; closed: -1>

sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-06-02 at 15:44:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 15:44:02 | ERROR | main:22 - ❌ Exception during request: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fc4c0521bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fc4c019e190>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb246cd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fc4bb23db70; closed: -1>

psycopg2.errors.UndefinedTable: relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7fc4c309e0c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fc4c316f6a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fc4c316ec00>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fc4c246ca90>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    └ <function subprocess_started at 0x7fc4c22daa20>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fc4c22454d0>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fc4c22d9800>
           │       │   └ <uvicorn.server.Server object at 0x7fc4c22454d0>
           │       └ <function run at 0x7fc4c2b1bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fc4c21ab4c0>
           │      └ <function Runner.run at 0x7fc4c2b73060>
           └ <asyncio.runners.Runner object at 0x7fc4c2244b10>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fc4c1dd01e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fc4c2244b10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc4bcf24cd0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2450...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc4c1cb7710>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc4bcf24cd0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2450...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2450...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4bcfb0650>
          └ <fastapi.applications.FastAPI object at 0x7fc4c1cb7710>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc4bb5ff6a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4bcfb0650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fc4bb5fdc60>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fc4bb2458d0>
                     │    └ <function log_requests at 0x7fc4bcba8720>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fc4bb2458d0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fc4bb5fdc60>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fc4bb5fe200>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fe8e0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (M...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fc4bb5fe200>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fe8e0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7fc4bcba80e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fe8e0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fc4bcf91ed0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fe8e0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fc4bb245f90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fc4bcf91ed0>
          └ <function wrap_app_handling_exceptions at 0x7fc4c100d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5fe160>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fe8e0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5fe160>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fe8e0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>>
          └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5fe160>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fe8e0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7fc4c100ee80>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5fe160>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fe8e0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fc4bcba8860>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5fe160>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fe8e0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fc4bb245e50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fc4bb5ff740>
          └ <function wrap_app_handling_exceptions at 0x7fc4c100d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5ff880>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fe8e0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fc4bb5ff740>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fc4bb245e50>
                     └ <function get_request_handler.<locals>.app at 0x7fc4bcba87c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fc4c100e980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fc4bb243f10>, 'q': ''}
                 │                 │         └ <function list_games at 0x7fc4bfa15260>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation')], header_params=[], cooki...
                 └ <function run_in_threadpool at 0x7fc4c14ef1a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function list_games at 0x7fc4bfa15260>, db=<sqlalchemy.orm.session.Session object at 0x7fc4bb243f10>, q='')
                 │     │         └ <function run_sync at 0x7fc4c2382160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fc4c233b2e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM g...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/games.py", line 27, in list_games
    return query.all()
           │     └ <function Query.all at 0x7fc4c036a520>
           └ <sqlalchemy.orm.query.Query object at 0x7fc4bb246810>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           │    └ <function Query._iter at 0x7fc4c036aca0>
           └ <sqlalchemy.orm.query.Query object at 0x7fc4bb246810>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
            │                  │    │      │      │    │       └ <function Session.execute at 0x7fc4c03fea20>
            │                  │    │      │      │    └ <sqlalchemy.orm.session.Session object at 0x7fc4bb243f10>
            │                  │    │      │      └ <sqlalchemy.orm.query.Query object at 0x7fc4bb246810>
            │                  │    │      └ ~_T
            │                  │    └ <class 'sqlalchemy.engine.result.Result'>
            │                  └ ~_T
            └ typing.Union
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x7fc4c03fe700>
           └ <sqlalchemy.orm.session.Session object at 0x7fc4bb243f10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x7fc4c0453920>)>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x7fc4c0662160>
             └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb246cd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fc4bb246910>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fc4c0662480>
           └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb246cd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fc4c0662660>
          └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb246cd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7fc4c0662700>
           └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb246cd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fc4c0662980>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb246cd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...\n   ...
          │                    │              └ (<class 'psycopg2.errors.UndefinedTable'>, UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOI...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fc4c0521bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fc4c019e190>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb246cd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fc4bb23db70; closed: -1>

sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-06-02 at 15:45:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 15:45:40 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 15:45:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 15:45:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 15:45:40 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 15:45:40 | ERROR | main:22 - ❌ Exception during request: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fc4c0521bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fc4c019e190>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb247d50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fc4bb23dd50; closed: -1>

psycopg2.errors.UndefinedTable: relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7fc4c309e0c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fc4c316f6a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fc4c316ec00>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fc4c246ca90>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    └ <function subprocess_started at 0x7fc4c22daa20>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fc4c22454d0>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fc4c22d9800>
           │       │   └ <uvicorn.server.Server object at 0x7fc4c22454d0>
           │       └ <function run at 0x7fc4c2b1bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fc4c21ab4c0>
           │      └ <function Runner.run at 0x7fc4c2b73060>
           └ <asyncio.runners.Runner object at 0x7fc4c2244b10>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fc4c1dd01e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fc4c2244b10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc4bcf24cd0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2542...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc4c1cb7710>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc4bcf24cd0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2542...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2542...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4bcfb0650>
          └ <fastapi.applications.FastAPI object at 0x7fc4c1cb7710>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc4bb5ff240>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4bcfb0650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fc4bb5feca0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fc4bb254950>
                     │    └ <function log_requests at 0x7fc4bcba8720>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fc4bb254950>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fc4bb5feca0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fc4bb5fdd00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fea20>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (M...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fc4bb5fdd00>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fea20>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7fc4bcba80e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fea20>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fc4bcf91ed0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fea20>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fc4bb255050>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fc4bcf91ed0>
          └ <function wrap_app_handling_exceptions at 0x7fc4c100d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5ff4c0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fea20>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5ff4c0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fea20>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>>
          └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5ff4c0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fea20>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7fc4c100ee80>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5ff4c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fea20>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fc4bcba8860>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5ff4c0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fea20>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fc4bb254fd0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fc4bb5fe0c0>
          └ <function wrap_app_handling_exceptions at 0x7fc4c100d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb248040>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fea20>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fc4bb5fe0c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fc4bb254fd0>
                     └ <function get_request_handler.<locals>.app at 0x7fc4bcba87c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fc4c100e980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fc4bbf4af90>, 'q': ''}
                 │                 │         └ <function list_games at 0x7fc4bfa15260>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation')], header_params=[], cooki...
                 └ <function run_in_threadpool at 0x7fc4c14ef1a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function list_games at 0x7fc4bfa15260>, db=<sqlalchemy.orm.session.Session object at 0x7fc4bbf4af90>, q='')
                 │     │         └ <function run_sync at 0x7fc4c2382160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fc4c233b2e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM g...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/games.py", line 27, in list_games
    return query.all()
           │     └ <function Query.all at 0x7fc4c036a520>
           └ <sqlalchemy.orm.query.Query object at 0x7fc4bd1bf090>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           │    └ <function Query._iter at 0x7fc4c036aca0>
           └ <sqlalchemy.orm.query.Query object at 0x7fc4bd1bf090>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
            │                  │    │      │      │    │       └ <function Session.execute at 0x7fc4c03fea20>
            │                  │    │      │      │    └ <sqlalchemy.orm.session.Session object at 0x7fc4bbf4af90>
            │                  │    │      │      └ <sqlalchemy.orm.query.Query object at 0x7fc4bd1bf090>
            │                  │    │      └ ~_T
            │                  │    └ <class 'sqlalchemy.engine.result.Result'>
            │                  └ ~_T
            └ typing.Union
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x7fc4c03fe700>
           └ <sqlalchemy.orm.session.Session object at 0x7fc4bbf4af90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x7fc4c0453920>)>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x7fc4c0662160>
             └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb247d50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fc4bb246b50>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fc4c0662480>
           └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb247d50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fc4c0662660>
          └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb247d50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7fc4c0662700>
           └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb247d50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fc4c0662980>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb247d50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...\n   ...
          │                    │              └ (<class 'psycopg2.errors.UndefinedTable'>, UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOI...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fc4c0521bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fc4c019e190>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb247d50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fc4bb23dd50; closed: -1>

sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-06-02 at 15:45:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 15:45:40 | ERROR | main:22 - ❌ Exception during request: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fc4c0521bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fc4c019e190>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb260050>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fc4bb23cd60; closed: -1>

psycopg2.errors.UndefinedTable: relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7fc4c309e0c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fc4c316f6a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fc4c316ec00>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fc4c246ca90>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    └ <function subprocess_started at 0x7fc4c22daa20>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fc4c22454d0>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fc4c22d9800>
           │       │   └ <uvicorn.server.Server object at 0x7fc4c22454d0>
           │       └ <function run at 0x7fc4c2b1bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fc4c21ab4c0>
           │      └ <function Runner.run at 0x7fc4c2b73060>
           └ <asyncio.runners.Runner object at 0x7fc4c2244b10>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fc4c1dd01e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fc4c2244b10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc4bcf24cd0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb21e8...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc4c1cb7710>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc4bcf24cd0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb21e8...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb21e8...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4bcfb0650>
          └ <fastapi.applications.FastAPI object at 0x7fc4c1cb7710>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc4bb5ff560>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4bcfb0650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fc4bb5fe020>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fc4bb254d50>
                     │    └ <function log_requests at 0x7fc4bcba8720>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fc4bb254d50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fc4bb5fe020>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fc4bb5fe7a0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5ffd80>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (M...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fc4bb5fe7a0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5ffd80>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7fc4bcba80e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5ffd80>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fc4bcf91ed0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5ffd80>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fc4bb257210>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fc4bcf91ed0>
          └ <function wrap_app_handling_exceptions at 0x7fc4c100d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb2480e0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5ffd80>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb2480e0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5ffd80>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>>
          └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb2480e0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5ffd80>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7fc4c100ee80>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb2480e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5ffd80>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fc4bcba8860>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb2480e0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5ffd80>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fc4bb255bd0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fc4bb248180>
          └ <function wrap_app_handling_exceptions at 0x7fc4c100d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb248360>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5ffd80>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fc4bb248180>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fc4bb255bd0>
                     └ <function get_request_handler.<locals>.app at 0x7fc4bcba87c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fc4c100e980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fc4bb246a50>, 'q': ''}
                 │                 │         └ <function list_games at 0x7fc4bfa15260>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation')], header_params=[], cooki...
                 └ <function run_in_threadpool at 0x7fc4c14ef1a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function list_games at 0x7fc4bfa15260>, db=<sqlalchemy.orm.session.Session object at 0x7fc4bb246a50>, q='')
                 │     │         └ <function run_sync at 0x7fc4c2382160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fc4c233b2e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM g...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/games.py", line 27, in list_games
    return query.all()
           │     └ <function Query.all at 0x7fc4c036a520>
           └ <sqlalchemy.orm.query.Query object at 0x7fc4bb257b10>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           │    └ <function Query._iter at 0x7fc4c036aca0>
           └ <sqlalchemy.orm.query.Query object at 0x7fc4bb257b10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
            │                  │    │      │      │    │       └ <function Session.execute at 0x7fc4c03fea20>
            │                  │    │      │      │    └ <sqlalchemy.orm.session.Session object at 0x7fc4bb246a50>
            │                  │    │      │      └ <sqlalchemy.orm.query.Query object at 0x7fc4bb257b10>
            │                  │    │      └ ~_T
            │                  │    └ <class 'sqlalchemy.engine.result.Result'>
            │                  └ ~_T
            └ typing.Union
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x7fc4c03fe700>
           └ <sqlalchemy.orm.session.Session object at 0x7fc4bb246a50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x7fc4c0453920>)>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x7fc4c0662160>
             └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb260050>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fc4bb257cd0>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fc4c0662480>
           └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb260050>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fc4c0662660>
          └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb260050>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7fc4c0662700>
           └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb260050>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fc4c0662980>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb260050>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...\n   ...
          │                    │              └ (<class 'psycopg2.errors.UndefinedTable'>, UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOI...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fc4c0521bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fc4c019e190>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb260050>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fc4bb23cd60; closed: -1>

sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-06-02 at 15:45:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 15:45:40 | ERROR | main:22 - ❌ Exception during request: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fc4c0521bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fc4c019e190>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb21f210>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fc4bb23df30; closed: -1>

psycopg2.errors.UndefinedTable: relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7fc4c309e0c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fc4c316f6a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fc4c316ec00>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fc4c246ca90>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    └ <function subprocess_started at 0x7fc4c22daa20>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fc4c22454d0>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fc4c22d9800>
           │       │   └ <uvicorn.server.Server object at 0x7fc4c22454d0>
           │       └ <function run at 0x7fc4c2b1bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fc4c21ab4c0>
           │      └ <function Runner.run at 0x7fc4c2b73060>
           └ <asyncio.runners.Runner object at 0x7fc4c2244b10>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fc4c1dd01e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fc4c2244b10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc4bcf24cd0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2541...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc4c1cb7710>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc4bcf24cd0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2541...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2541...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4bcfb0650>
          └ <fastapi.applications.FastAPI object at 0x7fc4c1cb7710>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc4bb5feca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4bcfb0650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fc4bb5fdee0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fc4bb254fd0>
                     │    └ <function log_requests at 0x7fc4bcba8720>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fc4bb254fd0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fc4bb5fdee0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fc4bb5fe0c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fe340>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (M...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fc4bb5fe0c0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fe340>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7fc4bcba80e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fe340>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fc4bcf91ed0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fe340>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fc4bb255690>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fc4bcf91ed0>
          └ <function wrap_app_handling_exceptions at 0x7fc4c100d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5ffe20>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fe340>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5ffe20>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fe340>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>>
          └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5ffe20>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fe340>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7fc4c100ee80>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5ffe20>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fe340>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fc4bcba8860>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5ffe20>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fe340>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fc4bb255350>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fc4bb5ffc40>
          └ <function wrap_app_handling_exceptions at 0x7fc4c100d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5fdda0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5fe340>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fc4bb5ffc40>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fc4bb255350>
                     └ <function get_request_handler.<locals>.app at 0x7fc4bcba87c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fc4c100e980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fc4bb257f10>, 'q': ''}
                 │                 │         └ <function list_games at 0x7fc4bfa15260>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation')], header_params=[], cooki...
                 └ <function run_in_threadpool at 0x7fc4c14ef1a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function list_games at 0x7fc4bfa15260>, db=<sqlalchemy.orm.session.Session object at 0x7fc4bb257f10>, q='')
                 │     │         └ <function run_sync at 0x7fc4c2382160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fc4c233b2e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM g...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/games.py", line 27, in list_games
    return query.all()
           │     └ <function Query.all at 0x7fc4c036a520>
           └ <sqlalchemy.orm.query.Query object at 0x7fc4bb254e10>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           │    └ <function Query._iter at 0x7fc4c036aca0>
           └ <sqlalchemy.orm.query.Query object at 0x7fc4bb254e10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
            │                  │    │      │      │    │       └ <function Session.execute at 0x7fc4c03fea20>
            │                  │    │      │      │    └ <sqlalchemy.orm.session.Session object at 0x7fc4bb257f10>
            │                  │    │      │      └ <sqlalchemy.orm.query.Query object at 0x7fc4bb254e10>
            │                  │    │      └ ~_T
            │                  │    └ <class 'sqlalchemy.engine.result.Result'>
            │                  └ ~_T
            └ typing.Union
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x7fc4c03fe700>
           └ <sqlalchemy.orm.session.Session object at 0x7fc4bb257f10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x7fc4c0453920>)>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x7fc4c0662160>
             └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb21f210>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fc4bb21dd10>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fc4c0662480>
           └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb21f210>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fc4c0662660>
          └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb21f210>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7fc4c0662700>
           └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb21f210>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fc4c0662980>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb21f210>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...\n   ...
          │                    │              └ (<class 'psycopg2.errors.UndefinedTable'>, UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOI...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fc4c0521bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fc4c019e190>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb21f210>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fc4bb23df30; closed: -1>

sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-06-02 at 15:45:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 15:45:41 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 15:45:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 15:45:41 | ERROR | main:22 - ❌ Exception during request: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fc4c0521bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fc4c019e190>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb263dd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fc4bb23c040; closed: -1>

psycopg2.errors.UndefinedTable: relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7fc4c309e0c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fc4c316f6a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fc4c316ec00>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fc4c246ca90>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    └ <function subprocess_started at 0x7fc4c22daa20>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fc4c22454d0>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fc4c22d9800>
           │       │   └ <uvicorn.server.Server object at 0x7fc4c22454d0>
           │       └ <function run at 0x7fc4c2b1bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fc4c21ab4c0>
           │      └ <function Runner.run at 0x7fc4c2b73060>
           └ <asyncio.runners.Runner object at 0x7fc4c2244b10>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fc4c1dd01e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fc4c2244b10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc4bcf24cd0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2624...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc4c1cb7710>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc4bcf24cd0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2624...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2624...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4bcfb0650>
          └ <fastapi.applications.FastAPI object at 0x7fc4c1cb7710>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc4bb2489a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4bcfb0650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fc4bb2485e0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fc4bb262450>
                     │    └ <function log_requests at 0x7fc4bcba8720>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fc4bb262450>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fc4bb2485e0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fc4bb248040>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb248860>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (M...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fc4bb248040>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb248860>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7fc4bcba80e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb248860>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fc4bcf91ed0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb248860>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fc4bb263010>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fc4bcf91ed0>
          └ <function wrap_app_handling_exceptions at 0x7fc4c100d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb248540>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb248860>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb248540>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb248860>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>>
          └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb248540>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb248860>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7fc4c100ee80>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb248540>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb248860>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fc4bcba8860>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb248540>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb248860>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fc4bb262cd0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fc4bb249300>
          └ <function wrap_app_handling_exceptions at 0x7fc4c100d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb249120>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb248860>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fc4bb249300>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fc4bb262cd0>
                     └ <function get_request_handler.<locals>.app at 0x7fc4bcba87c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fc4c100e980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fc4bb21cad0>, 'q': ''}
                 │                 │         └ <function list_games at 0x7fc4bfa15260>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation')], header_params=[], cooki...
                 └ <function run_in_threadpool at 0x7fc4c14ef1a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function list_games at 0x7fc4bfa15260>, db=<sqlalchemy.orm.session.Session object at 0x7fc4bb21cad0>, q='')
                 │     │         └ <function run_sync at 0x7fc4c2382160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fc4c233b2e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM g...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/games.py", line 27, in list_games
    return query.all()
           │     └ <function Query.all at 0x7fc4c036a520>
           └ <sqlalchemy.orm.query.Query object at 0x7fc4bb263850>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           │    └ <function Query._iter at 0x7fc4c036aca0>
           └ <sqlalchemy.orm.query.Query object at 0x7fc4bb263850>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
            │                  │    │      │      │    │       └ <function Session.execute at 0x7fc4c03fea20>
            │                  │    │      │      │    └ <sqlalchemy.orm.session.Session object at 0x7fc4bb21cad0>
            │                  │    │      │      └ <sqlalchemy.orm.query.Query object at 0x7fc4bb263850>
            │                  │    │      └ ~_T
            │                  │    └ <class 'sqlalchemy.engine.result.Result'>
            │                  └ ~_T
            └ typing.Union
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x7fc4c03fe700>
           └ <sqlalchemy.orm.session.Session object at 0x7fc4bb21cad0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x7fc4c0453920>)>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x7fc4c0662160>
             └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb263dd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fc4bb2639d0>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fc4c0662480>
           └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb263dd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fc4c0662660>
          └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb263dd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7fc4c0662700>
           └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb263dd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fc4c0662980>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb263dd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...\n   ...
          │                    │              └ (<class 'psycopg2.errors.UndefinedTable'>, UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOI...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fc4c0521bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fc4c019e190>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb263dd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fc4bb23c040; closed: -1>

sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-06-02 at 15:45:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 15:45:44 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 15:45:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 15:45:44 | ERROR | main:22 - ❌ Exception during request: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fc4c0521bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fc4c019e190>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb254590>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fc4bb23e7a0; closed: -1>

psycopg2.errors.UndefinedTable: relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7fc4c309e0c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fc4c316f6a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fc4c316ec00>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fc4c246ca90>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    └ <function subprocess_started at 0x7fc4c22daa20>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fc4c22454d0>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fc4c22d9800>
           │       │   └ <uvicorn.server.Server object at 0x7fc4c22454d0>
           │       └ <function run at 0x7fc4c2b1bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fc4c21ab4c0>
           │      └ <function Runner.run at 0x7fc4c2b73060>
           └ <asyncio.runners.Runner object at 0x7fc4c2244b10>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fc4c1dd01e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fc4c2244b10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc4bcf24cd0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb21f1...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc4c1cb7710>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc4bcf24cd0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb21f1...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb21f1...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4bcfb0650>
          └ <fastapi.applications.FastAPI object at 0x7fc4c1cb7710>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc4bb5fdd00>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4bcfb0650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fc4bb5fe660>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fc4bb21df90>
                     │    └ <function log_requests at 0x7fc4bcba8720>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fc4bb21df90>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fc4bb5fe660>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fc4bb5ff4c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5feca0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (M...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fc4bb5ff4c0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5feca0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7fc4bcba80e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5feca0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fc4bcf91ed0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5feca0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fc4bb247810>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fc4bcf91ed0>
          └ <function wrap_app_handling_exceptions at 0x7fc4c100d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5ffe20>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5feca0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5ffe20>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5feca0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>>
          └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5ffe20>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5feca0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7fc4c100ee80>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5ffe20>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5feca0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fc4bcba8860>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5ffe20>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5feca0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fc4bb247a50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fc4bb5fe840>
          └ <function wrap_app_handling_exceptions at 0x7fc4c100d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb5fdda0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb5feca0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fc4bb5fe840>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fc4bb247a50>
                     └ <function get_request_handler.<locals>.app at 0x7fc4bcba87c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fc4c100e980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fc4bb245490>, 'q': ''}
                 │                 │         └ <function list_games at 0x7fc4bfa15260>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation')], header_params=[], cooki...
                 └ <function run_in_threadpool at 0x7fc4c14ef1a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function list_games at 0x7fc4bfa15260>, db=<sqlalchemy.orm.session.Session object at 0x7fc4bb245490>, q='')
                 │     │         └ <function run_sync at 0x7fc4c2382160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fc4c233b2e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM g...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/games.py", line 27, in list_games
    return query.all()
           │     └ <function Query.all at 0x7fc4c036a520>
           └ <sqlalchemy.orm.query.Query object at 0x7fc4bb254390>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           │    └ <function Query._iter at 0x7fc4c036aca0>
           └ <sqlalchemy.orm.query.Query object at 0x7fc4bb254390>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
            │                  │    │      │      │    │       └ <function Session.execute at 0x7fc4c03fea20>
            │                  │    │      │      │    └ <sqlalchemy.orm.session.Session object at 0x7fc4bb245490>
            │                  │    │      │      └ <sqlalchemy.orm.query.Query object at 0x7fc4bb254390>
            │                  │    │      └ ~_T
            │                  │    └ <class 'sqlalchemy.engine.result.Result'>
            │                  └ ~_T
            └ typing.Union
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x7fc4c03fe700>
           └ <sqlalchemy.orm.session.Session object at 0x7fc4bb245490>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x7fc4c0453920>)>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x7fc4c0662160>
             └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb254590>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fc4bb254110>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fc4c0662480>
           └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb254590>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fc4c0662660>
          └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb254590>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7fc4c0662700>
           └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb254590>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fc4c0662980>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb254590>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...\n   ...
          │                    │              └ (<class 'psycopg2.errors.UndefinedTable'>, UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOI...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fc4c0521bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fc4c019e190>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb254590>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fc4bb23e7a0; closed: -1>

sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-06-02 at 15:45:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 15:45:45 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 15:45:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 15:45:45 | ERROR | main:22 - ❌ Exception during request: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fc4c0521bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fc4c019e190>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb26ded0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fc4bb23e6b0; closed: -1>

psycopg2.errors.UndefinedTable: relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7fc4c309e0c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fc4c316f6a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fc4c316ec00>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fc4c246ca90>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    └ <function subprocess_started at 0x7fc4c22daa20>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fc4c22454d0>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fc4c22d9800>
           │       │   └ <uvicorn.server.Server object at 0x7fc4c22454d0>
           │       └ <function run at 0x7fc4c2b1bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fc4c21ab4c0>
           │      └ <function Runner.run at 0x7fc4c2b73060>
           └ <asyncio.runners.Runner object at 0x7fc4c2244b10>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fc4c1dd01e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fc4c2244b10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc4bcf24cd0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2632...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc4c1cb7710>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc4bcf24cd0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2632...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2632...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4bcfb0650>
          └ <fastapi.applications.FastAPI object at 0x7fc4c1cb7710>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fc4bb5ff1a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fc4bb2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc4bcfb0650>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fc4bb5ffce0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fc4bb263110>
                     │    └ <function log_requests at 0x7fc4bcba8720>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fc4bb263110>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fc4bb5ffce0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fc4bb249940>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb248f40>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fc4bcfb0ad0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (M...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fc4bb249940>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb248f40>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7fc4bcba80e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb248f40>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fc4bcf91ed0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fc4bcb438d0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb248f40>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fc4bb2631d0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fc4bcf91ed0>
          └ <function wrap_app_handling_exceptions at 0x7fc4c100d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb2494e0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb248f40>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb2494e0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb248f40>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>>
          └ <fastapi.routing.APIRouter object at 0x7fc4bcf91c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb2494e0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb248f40>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7fc4c100ee80>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb2494e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb248f40>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fc4bcba8860>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb2494e0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb248f40>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fc4bb2638d0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fc4bb2496c0>
          └ <function wrap_app_handling_exceptions at 0x7fc4c100d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fc4bb2489a0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fc4bb248f40>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fc4bb2496c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fc4bb2638d0>
                     └ <function get_request_handler.<locals>.app at 0x7fc4bcba87c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fc4c100e980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fc4bb2551d0>, 'q': ''}
                 │                 │         └ <function list_games at 0x7fc4bfa15260>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation')], header_params=[], cooki...
                 └ <function run_in_threadpool at 0x7fc4c14ef1a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function list_games at 0x7fc4bfa15260>, db=<sqlalchemy.orm.session.Session object at 0x7fc4bb2551d0>, q='')
                 │     │         └ <function run_sync at 0x7fc4c2382160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fc4c233b2e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM g...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/games.py", line 27, in list_games
    return query.all()
           │     └ <function Query.all at 0x7fc4c036a520>
           └ <sqlalchemy.orm.query.Query object at 0x7fc4bb2637d0>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           │    └ <function Query._iter at 0x7fc4c036aca0>
           └ <sqlalchemy.orm.query.Query object at 0x7fc4bb2637d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
            │                  │    │      │      │    │       └ <function Session.execute at 0x7fc4c03fea20>
            │                  │    │      │      │    └ <sqlalchemy.orm.session.Session object at 0x7fc4bb2551d0>
            │                  │    │      │      └ <sqlalchemy.orm.query.Query object at 0x7fc4bb2637d0>
            │                  │    │      └ ~_T
            │                  │    └ <class 'sqlalchemy.engine.result.Result'>
            │                  └ ~_T
            └ typing.Union
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x7fc4c03fe700>
           └ <sqlalchemy.orm.session.Session object at 0x7fc4bb2551d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x7fc4c0453920>)>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x7fc4c0662160>
             └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb26ded0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fc4bb26dc90>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fc4c0662480>
           └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb26ded0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fc4c0662660>
          └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb26ded0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7fc4c0662700>
           └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb26ded0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fc4c0662980>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb26ded0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...\n   ...
          │                    │              └ (<class 'psycopg2.errors.UndefinedTable'>, UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOI...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fc4c0521bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fc4c019e190>
    └ <sqlalchemy.engine.base.Connection object at 0x7fc4bb26ded0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fc4bb23e6b0; closed: -1>

sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-06-02 at 15:57:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 15:57:28 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 15:57:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 15:57:28 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 15:57:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 15:57:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 15:57:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 15:57:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 15:57:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 15:57:28 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 15:57:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 15:57:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 15:59:15 | INFO | main:18 - 📥 GET http://localhost:8000/docs
2025-06-02 at 15:59:15 | INFO | main:24 - 📤 200 http://localhost:8000/docs
2025-06-02 at 15:59:18 | INFO | main:18 - 📥 GET http://localhost:8000/openapi.json
2025-06-02 at 15:59:18 | INFO | main:24 - 📤 200 http://localhost:8000/openapi.json
2025-06-02 at 15:59:50 | INFO | main:18 - 📥 GET http://localhost:8000/admin/games/
2025-06-02 at 15:59:50 | INFO | main:24 - 📤 403 http://localhost:8000/admin/games/
2025-06-02 at 16:00:15 | INFO | main:18 - 📥 GET http://localhost:8000/admin/games/
2025-06-02 at 16:00:15 | INFO | main:24 - 📤 401 http://localhost:8000/admin/games/
2025-06-02 at 16:00:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=GTA
2025-06-02 at 16:00:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=GTA
2025-06-02 at 16:12:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 16:12:50 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 16:12:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 16:12:50 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 16:12:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 16:12:50 | ERROR | main:22 - ❌ Exception during request: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fa910535bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fa9101a2950>
    └ <sqlalchemy.engine.base.Connection object at 0x7fa90bf14490>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fa90bff5a80; closed: -1>

psycopg2.errors.UndefinedTable: relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7fa9130760c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fa9131476a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fa913146c00>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fa912464910>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    └ <function subprocess_started at 0x7fa9122d2a20>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fa91220d450>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fa9122d1800>
           │       │   └ <uvicorn.server.Server object at 0x7fa91220d450>
           │       └ <function run at 0x7fa912aebb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fa91217b4c0>
           │      └ <function Runner.run at 0x7fa912b43060>
           └ <asyncio.runners.Runner object at 0x7fa912322c90>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fa911d941e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fa912322c90>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa911d8b110>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90cfc4a...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90cf...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fa911c90050>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa911d8b110>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90cfc4a...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90cf...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90cfc4a...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90cf...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa90cb44590>
          └ <fastapi.applications.FastAPI object at 0x7fa911c90050>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fa90bf62520>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90cf...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fa90cfda050>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa90cb44590>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fa90bf62160>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fa90cf99210>
                     │    └ <function log_requests at 0x7fa90cbbc720>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fa90cfda050>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fa90cf99210>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fa90bf62160>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fa90bf62340>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90bf63600>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fa90cf895d0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fa90cfda050>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (M...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fa90bf62340>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90bf63600>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7fa90cbbc0e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fa90cf895d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fa90cf895d0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90bf63600>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fa90cb39ed0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fa90cf895d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fa90cf895d0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90bf63600>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fa90bf6c310>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fa911c7f790>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fa90cb39ed0>
          └ <function wrap_app_handling_exceptions at 0x7fa910fe18a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90bf620c0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90bf63600>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fa911c7f790>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90bf620c0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90bf63600>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fa911c7f790>>
          └ <fastapi.routing.APIRouter object at 0x7fa911c7f790>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90bf620c0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90bf63600>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7fa910fe2e80>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90bf620c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90bf63600>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fa90cbbc860>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90bf620c0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90bf63600>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fa90cb686d0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fa90bf62200>
          └ <function wrap_app_handling_exceptions at 0x7fa910fe18a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90bf625c0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90bf63600>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fa90bf62200>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fa90cb686d0>
                     └ <function get_request_handler.<locals>.app at 0x7fa90cbbc7c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fa910fe2980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fa90cb57a10>, 'q': ''}
                 │                 │         └ <function list_games at 0x7fa90f9e9260>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation')], header_params=[], cooki...
                 └ <function run_in_threadpool at 0x7fa9114b71a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function list_games at 0x7fa90f9e9260>, db=<sqlalchemy.orm.session.Session object at 0x7fa90cb57a10>, q='')
                 │     │         └ <function run_sync at 0x7fa91237a160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fa9123332e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM g...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/games.py", line 27, in list_games
    return query.all()
           │     └ <function Query.all at 0x7fa91037e520>
           └ <sqlalchemy.orm.query.Query object at 0x7fa90cf696d0>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           │    └ <function Query._iter at 0x7fa91037eca0>
           └ <sqlalchemy.orm.query.Query object at 0x7fa90cf696d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
            │                  │    │      │      │    │       └ <function Session.execute at 0x7fa910212a20>
            │                  │    │      │      │    └ <sqlalchemy.orm.session.Session object at 0x7fa90cb57a10>
            │                  │    │      │      └ <sqlalchemy.orm.query.Query object at 0x7fa90cf696d0>
            │                  │    │      └ ~_T
            │                  │    └ <class 'sqlalchemy.engine.result.Result'>
            │                  └ ~_T
            └ typing.Union
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x7fa910212700>
           └ <sqlalchemy.orm.session.Session object at 0x7fa90cb57a10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x7fa91045f920>)>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x7fa910676160>
             └ <sqlalchemy.engine.base.Connection object at 0x7fa90bf14490>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fa90bf0f6d0>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fa910676480>
           └ <sqlalchemy.engine.base.Connection object at 0x7fa90bf14490>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fa910676660>
          └ <sqlalchemy.engine.base.Connection object at 0x7fa90bf14490>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7fa910676700>
           └ <sqlalchemy.engine.base.Connection object at 0x7fa90bf14490>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fa910676980>
    └ <sqlalchemy.engine.base.Connection object at 0x7fa90bf14490>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...\n   ...
          │                    │              └ (<class 'psycopg2.errors.UndefinedTable'>, UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOI...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fa910535bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fa9101a2950>
    └ <sqlalchemy.engine.base.Connection object at 0x7fa90bf14490>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fa90bff5a80; closed: -1>

sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-06-02 at 16:12:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 16:12:50 | ERROR | main:22 - ❌ Exception during request: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fa910535bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fa9101a2950>
    └ <sqlalchemy.engine.base.Connection object at 0x7fa90b22ed90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fa90b250040; closed: -1>

psycopg2.errors.UndefinedTable: relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7fa9130760c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fa9131476a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fa913146c00>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fa912464910>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    └ <function subprocess_started at 0x7fa9122d2a20>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fa91220d450>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fa9122d1800>
           │       │   └ <uvicorn.server.Server object at 0x7fa91220d450>
           │       └ <function run at 0x7fa912aebb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fa91217b4c0>
           │      └ <function Runner.run at 0x7fa912b43060>
           └ <asyncio.runners.Runner object at 0x7fa912322c90>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fa911d941e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fa912322c90>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa911d8b110>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90bf6c6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90bf...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fa911c90050>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa911d8b110>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90bf6c6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90bf...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90bf6c6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90bf...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa90cb44590>
          └ <fastapi.applications.FastAPI object at 0x7fa911c90050>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fa911c82d40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90bf...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fa90cfda050>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa90cb44590>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fa90bf10180>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fa90bf14c50>
                     │    └ <function log_requests at 0x7fa90cbbc720>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fa90cfda050>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fa90bf14c50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fa90bf10180>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fa90b411e40>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b411c60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fa90cf895d0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fa90cfda050>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (M...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fa90b411e40>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b411c60>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7fa90cbbc0e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fa90cf895d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fa90cf895d0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b411c60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fa90cb39ed0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fa90cf895d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fa90cf895d0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b411c60>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fa90b22e3d0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fa911c7f790>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fa90cb39ed0>
          └ <function wrap_app_handling_exceptions at 0x7fa910fe18a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90b4120c0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b411c60>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fa911c7f790>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90b4120c0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b411c60>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fa911c7f790>>
          └ <fastapi.routing.APIRouter object at 0x7fa911c7f790>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90b4120c0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b411c60>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7fa910fe2e80>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90b4120c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b411c60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fa90cbbc860>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90b4120c0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b411c60>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fa90b22e250>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fa90b412160>
          └ <function wrap_app_handling_exceptions at 0x7fa910fe18a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90b4122a0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b411c60>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fa90b412160>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fa90b22e250>
                     └ <function get_request_handler.<locals>.app at 0x7fa90cbbc7c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fa910fe2980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fa90bfd4e50>, 'q': ''}
                 │                 │         └ <function list_games at 0x7fa90f9e9260>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation')], header_params=[], cooki...
                 └ <function run_in_threadpool at 0x7fa9114b71a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function list_games at 0x7fa90f9e9260>, db=<sqlalchemy.orm.session.Session object at 0x7fa90bfd4e50>, q='')
                 │     │         └ <function run_sync at 0x7fa91237a160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fa9123332e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM g...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/games.py", line 27, in list_games
    return query.all()
           │     └ <function Query.all at 0x7fa91037e520>
           └ <sqlalchemy.orm.query.Query object at 0x7fa90cfc4590>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           │    └ <function Query._iter at 0x7fa91037eca0>
           └ <sqlalchemy.orm.query.Query object at 0x7fa90cfc4590>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
            │                  │    │      │      │    │       └ <function Session.execute at 0x7fa910212a20>
            │                  │    │      │      │    └ <sqlalchemy.orm.session.Session object at 0x7fa90bfd4e50>
            │                  │    │      │      └ <sqlalchemy.orm.query.Query object at 0x7fa90cfc4590>
            │                  │    │      └ ~_T
            │                  │    └ <class 'sqlalchemy.engine.result.Result'>
            │                  └ ~_T
            └ typing.Union
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x7fa910212700>
           └ <sqlalchemy.orm.session.Session object at 0x7fa90bfd4e50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x7fa91045f920>)>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x7fa910676160>
             └ <sqlalchemy.engine.base.Connection object at 0x7fa90b22ed90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fa90b22ec10>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fa910676480>
           └ <sqlalchemy.engine.base.Connection object at 0x7fa90b22ed90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fa910676660>
          └ <sqlalchemy.engine.base.Connection object at 0x7fa90b22ed90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7fa910676700>
           └ <sqlalchemy.engine.base.Connection object at 0x7fa90b22ed90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fa910676980>
    └ <sqlalchemy.engine.base.Connection object at 0x7fa90b22ed90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...\n   ...
          │                    │              └ (<class 'psycopg2.errors.UndefinedTable'>, UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOI...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fa910535bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fa9101a2950>
    └ <sqlalchemy.engine.base.Connection object at 0x7fa90b22ed90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fa90b250040; closed: -1>

sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-06-02 at 16:12:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 16:12:50 | ERROR | main:22 - ❌ Exception during request: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fa910535bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fa9101a2950>
    └ <sqlalchemy.engine.base.Connection object at 0x7fa90b2565d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fa90b2516c0; closed: -1>

psycopg2.errors.UndefinedTable: relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7fa9130760c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fa9131476a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fa913146c00>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fa912464910>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    └ <function subprocess_started at 0x7fa9122d2a20>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fa91220d450>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fa9122d1800>
           │       │   └ <uvicorn.server.Server object at 0x7fa91220d450>
           │       └ <function run at 0x7fa912aebb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fa91217b4c0>
           │      └ <function Runner.run at 0x7fa912b43060>
           └ <asyncio.runners.Runner object at 0x7fa912322c90>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fa911d941e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fa912322c90>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa911d8b110>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90b2547...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90b2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fa911c90050>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa911d8b110>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90b2547...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90b2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90b2547...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90b2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa90cb44590>
          └ <fastapi.applications.FastAPI object at 0x7fa911c90050>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fa90b411f80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90b2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fa90cfda050>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa90cb44590>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fa90b412980>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fa90b22e190>
                     │    └ <function log_requests at 0x7fa90cbbc720>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fa90cfda050>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fa90b22e190>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fa90b412980>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fa90b412520>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b4125c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fa90cf895d0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fa90cfda050>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (M...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fa90b412520>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b4125c0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7fa90cbbc0e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fa90cf895d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fa90cf895d0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b4125c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fa90cb39ed0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fa90cf895d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fa90cf895d0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b4125c0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fa90b2557d0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fa911c7f790>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fa90cb39ed0>
          └ <function wrap_app_handling_exceptions at 0x7fa910fe18a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90b412a20>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b4125c0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fa911c7f790>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90b412a20>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b4125c0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fa911c7f790>>
          └ <fastapi.routing.APIRouter object at 0x7fa911c7f790>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90b412a20>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b4125c0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7fa910fe2e80>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90b412a20>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b4125c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fa90cbbc860>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90b412a20>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b4125c0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fa90b255690>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fa90b412ac0>
          └ <function wrap_app_handling_exceptions at 0x7fa910fe18a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90b412c00>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b4125c0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fa90b412ac0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fa90b255690>
                     └ <function get_request_handler.<locals>.app at 0x7fa90cbbc7c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fa910fe2980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fa90b22f710>, 'q': ''}
                 │                 │         └ <function list_games at 0x7fa90f9e9260>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation')], header_params=[], cooki...
                 └ <function run_in_threadpool at 0x7fa9114b71a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function list_games at 0x7fa90f9e9260>, db=<sqlalchemy.orm.session.Session object at 0x7fa90b22f710>, q='')
                 │     │         └ <function run_sync at 0x7fa91237a160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fa9123332e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM g...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/games.py", line 27, in list_games
    return query.all()
           │     └ <function Query.all at 0x7fa91037e520>
           └ <sqlalchemy.orm.query.Query object at 0x7fa90b2560d0>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           │    └ <function Query._iter at 0x7fa91037eca0>
           └ <sqlalchemy.orm.query.Query object at 0x7fa90b2560d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
            │                  │    │      │      │    │       └ <function Session.execute at 0x7fa910212a20>
            │                  │    │      │      │    └ <sqlalchemy.orm.session.Session object at 0x7fa90b22f710>
            │                  │    │      │      └ <sqlalchemy.orm.query.Query object at 0x7fa90b2560d0>
            │                  │    │      └ ~_T
            │                  │    └ <class 'sqlalchemy.engine.result.Result'>
            │                  └ ~_T
            └ typing.Union
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x7fa910212700>
           └ <sqlalchemy.orm.session.Session object at 0x7fa90b22f710>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x7fa91045f920>)>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x7fa910676160>
             └ <sqlalchemy.engine.base.Connection object at 0x7fa90b2565d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fa90b256290>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fa910676480>
           └ <sqlalchemy.engine.base.Connection object at 0x7fa90b2565d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fa910676660>
          └ <sqlalchemy.engine.base.Connection object at 0x7fa90b2565d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7fa910676700>
           └ <sqlalchemy.engine.base.Connection object at 0x7fa90b2565d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fa910676980>
    └ <sqlalchemy.engine.base.Connection object at 0x7fa90b2565d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...\n   ...
          │                    │              └ (<class 'psycopg2.errors.UndefinedTable'>, UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOI...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fa910535bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fa9101a2950>
    └ <sqlalchemy.engine.base.Connection object at 0x7fa90b2565d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fa90b2516c0; closed: -1>

sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-06-02 at 16:12:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 16:12:50 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 16:12:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 16:12:50 | ERROR | main:22 - ❌ Exception during request: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fa910535bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fa9101a2950>
    └ <sqlalchemy.engine.base.Connection object at 0x7fa90b254c50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fa90b251120; closed: -1>

psycopg2.errors.UndefinedTable: relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7fa9130760c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fa9131476a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fa913146c00>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fa912464910>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    └ <function subprocess_started at 0x7fa9122d2a20>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fa91220d450>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fa9122d1800>
           │       │   └ <uvicorn.server.Server object at 0x7fa91220d450>
           │       └ <function run at 0x7fa912aebb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fa91217b4c0>
           │      └ <function Runner.run at 0x7fa912b43060>
           └ <asyncio.runners.Runner object at 0x7fa912322c90>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fa911d941e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fa912322c90>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa911d8b110>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90b22e6...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90b2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fa911c90050>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa911d8b110>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90b22e6...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90b2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90b22e6...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90b2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa90cb44590>
          └ <fastapi.applications.FastAPI object at 0x7fa911c90050>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fa90b413380>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fa90b2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fa90cfda050>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa90cb44590>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fa90b412ca0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fa90b22efd0>
                     │    └ <function log_requests at 0x7fa90cbbc720>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fa90cfda050>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fa90b22efd0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fa90b412ca0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fa90b412f20>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b411ee0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fa90cf895d0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fa90cfda050>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (M...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fa90b412f20>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b411ee0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7fa90cbbc0e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fa90cf895d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fa90cf895d0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b411ee0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fa90cb39ed0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fa90cf895d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fa90cf895d0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b411ee0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fa90b254cd0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fa911c7f790>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fa90cb39ed0>
          └ <function wrap_app_handling_exceptions at 0x7fa910fe18a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90b412e80>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b411ee0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fa911c7f790>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90b412e80>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b411ee0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fa911c7f790>>
          └ <fastapi.routing.APIRouter object at 0x7fa911c7f790>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90b412e80>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b411ee0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7fa910fe2e80>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90b412e80>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b411ee0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fa90cbbc860>
          └ APIRoute(path='/api/games/', name='list_games', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90b412e80>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b411ee0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fa90b254850>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fa90b411e40>
          └ <function wrap_app_handling_exceptions at 0x7fa910fe18a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fa90b4120c0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fa90b411ee0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fa90b411e40>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fa90b254850>
                     └ <function get_request_handler.<locals>.app at 0x7fa90cbbc7c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fa910fe2980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fa90b57ed90>, 'q': ''}
                 │                 │         └ <function list_games at 0x7fa90f9e9260>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(), name='q', mode='validation')], header_params=[], cooki...
                 └ <function run_in_threadpool at 0x7fa9114b71a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function list_games at 0x7fa90f9e9260>, db=<sqlalchemy.orm.session.Session object at 0x7fa90b57ed90>, q='')
                 │     │         └ <function run_sync at 0x7fa91237a160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fa9123332e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM g...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/games.py", line 27, in list_games
    return query.all()
           │     └ <function Query.all at 0x7fa91037e520>
           └ <sqlalchemy.orm.query.Query object at 0x7fa90b257390>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           │    └ <function Query._iter at 0x7fa91037eca0>
           └ <sqlalchemy.orm.query.Query object at 0x7fa90b257390>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
            │                  │    │      │      │    │       └ <function Session.execute at 0x7fa910212a20>
            │                  │    │      │      │    └ <sqlalchemy.orm.session.Session object at 0x7fa90b57ed90>
            │                  │    │      │      └ <sqlalchemy.orm.query.Query object at 0x7fa90b257390>
            │                  │    │      └ ~_T
            │                  │    └ <class 'sqlalchemy.engine.result.Result'>
            │                  └ ~_T
            └ typing.Union
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x7fa910212700>
           └ <sqlalchemy.orm.session.Session object at 0x7fa90b57ed90>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x7fa91045f920>)>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x7fa910676160>
             └ <sqlalchemy.engine.base.Connection object at 0x7fa90b254c50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7fa90b257650>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fa910676480>
           └ <sqlalchemy.engine.base.Connection object at 0x7fa90b254c50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fa910676660>
          └ <sqlalchemy.engine.base.Connection object at 0x7fa90b254c50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7fa910676700>
           └ <sqlalchemy.engine.base.Connection object at 0x7fa90b254c50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fa910676980>
    └ <sqlalchemy.engine.base.Connection object at 0x7fa90b254c50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...\n   ...
          │                    │              └ (<class 'psycopg2.errors.UndefinedTable'>, UndefinedTable('relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOI...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ ProgrammingError('(psycopg2.errors.UndefinedTable) relation "games" does not exist\nLINE 2: FROM games LEFT OUTER JOIN produc...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fa910535bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fa9101a2950>
    └ <sqlalchemy.engine.base.Connection object at 0x7fa90b254c50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {}
    │      │       └ 'SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_aut...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fa90b251120; closed: -1>

sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "games" does not exist
LINE 2: FROM games LEFT OUTER JOIN products AS products_1 ON games.i...
             ^

[SQL: SELECT games.id AS games_id, games.name AS games_name, games.banner_url AS games_banner_url, games.auto_support AS games_auto_support, games.instructions AS games_instructions, games.sort_order AS games_sort_order, products_1.id AS products_1_id, products_1.game_id AS products_1_game_id, products_1.name AS products_1_name, products_1.price_rub AS products_1_price_rub, products_1.min_amount AS products_1_min_amount, products_1.max_amount AS products_1_max_amount, products_1.type AS products_1_type, products_1.description AS products_1_description, products_1.instructions AS products_1_instructions, products_1.enabled AS products_1_enabled, products_1.delivery AS products_1_delivery, products_1.sort_order AS products_1_sort_order 
FROM games LEFT OUTER JOIN products AS products_1 ON games.id = products_1.game_id]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-06-02 at 16:15:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 16:15:04 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 16:15:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 16:15:04 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 16:15:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 16:15:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 16:15:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 16:15:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 16:15:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 16:15:04 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 16:15:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 16:15:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 17:03:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 17:03:10 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 17:03:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 17:03:10 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 17:03:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 17:03:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 17:03:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 17:03:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 17:03:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 17:03:11 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 17:03:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 17:03:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 17:33:16 | INFO | main:18 - 📥 POST http://localhost:8000/admin/games/
2025-06-02 at 17:33:16 | ERROR | main:22 - ❌ Exception during request: invalid literal for int() with base 10: 'None'
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7f458a518f40>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f458b3b60c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f458b48b6a0>
           └ <SpawnProcess name='SpawnProcess-4' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f458b48ac00>
    └ <SpawnProcess name='SpawnProcess-4' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f458a76ccd0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=7 started>
    │    └ <function subprocess_started at 0x7f458a5daa20>
    └ <SpawnProcess name='SpawnProcess-4' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f458a545710>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f458a5d9800>
           │       │   └ <uvicorn.server.Server object at 0x7f458a545710>
           │       └ <function run at 0x7f458a93fb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f458a4b34c0>
           │      └ <function Runner.run at 0x7f458a997060>
           └ <asyncio.runners.Runner object at 0x7f458a544650>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f458a0e81e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f458a544650>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f4585271010>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f45851f4e...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f45851...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f4589fe7810>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f4585271010>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f45851f4e...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f45851...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f45851f4e...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f45851...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f4589fd2450>
          └ <fastapi.applications.FastAPI object at 0x7f4589fe7810>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f45851a36a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f45851...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f458511cad0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f4589fd2450>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f45851a39c0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f45851f4f50>
                     │    └ <function log_requests at 0x7f458515fd80>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f458511cad0>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f45851f4f50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f45851a39c0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ValueError("invalid literal for int() with base 10: 'None'")
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f4584d00860>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f4584d00680>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f458528ed10>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f458511cad0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '116', 'sec-ch-ua-platform': '"macOS"', 'aut...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f4584d00860>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f4584d00680>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f458515f740>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f458528ed10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f458528ed10>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f4584d00680>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f45852b6190>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f458528ed10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f458528ed10>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f4584d00680>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f458510b990>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f4589fd34d0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f45852b6190>
          └ <function wrap_app_handling_exceptions at 0x7f45893058a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f4584d45800>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f4584d00680>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f4589fd34d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f4584d45800>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f4584d00680>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f4589fd34d0>>
          └ <fastapi.routing.APIRouter object at 0x7f4589fd34d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f4584d45800>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f4584d00680>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7f4589306e80>
          └ APIRoute(path='/admin/games/', name='create_game', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f4584d45800>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f4584d00680>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f45851a2660>
          └ APIRoute(path='/admin/games/', name='create_game', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f4584d45800>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f4584d00680>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f4584d3c210>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f4584d458a0>
          └ <function wrap_app_handling_exceptions at 0x7f45893058a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f4584d459e0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f4584d00680>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f4584d458a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f4584d3c210>
                     └ <function get_request_handler.<locals>.app at 0x7f45851a2480>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x7f45892eee80>
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 615, in solve_dependencies
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x7f45892eee80>
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
                   │                 │       │             └ {'credentials': HTTPAuthorizationCredentials(scheme='Bearer', credentials='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJOb...
                   │                 │       └ SolvedDependency(values={'credentials': HTTPAuthorizationCredentials(scheme='Bearer', credentials='eyJhbGciOiJIUzI1NiIsInR5cC...
                   │                 └ <function get_current_user at 0x7f4587c86020>
                   └ <function run_in_threadpool at 0x7f45897f31a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function get_current_user at 0x7f4587c86020>, credentials=HTTPAuthorizationCredentials(scheme='Bearer', cr...
                 │     │         └ <function run_sync at 0x7f458a682160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f458a63b2e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=ValueError("invalid literal for int() with base 10: 'None'")>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/services/auth.py", line 25, in get_current_user
    user = db.query(User).filter_by(id=int(user_id)).first()
           │  │     │                      └ 'None'
           │  │     └ <class 'app.models.user.User'>
           │  └ <function Session.query at 0x7f45886ffba0>
           └ <sqlalchemy.orm.session.Session object at 0x7f45852b66d0>

ValueError: invalid literal for int() with base 10: 'None'
2025-06-02 at 17:34:16 | INFO | main:18 - 📥 POST http://localhost:8000/admin/games/
2025-06-02 at 17:34:16 | ERROR | main:22 - ❌ Exception during request: invalid literal for int() with base 10: 'None'
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7f458a518f40>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f458b3b60c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f458b48b6a0>
           └ <SpawnProcess name='SpawnProcess-4' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f458b48ac00>
    └ <SpawnProcess name='SpawnProcess-4' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f458a76ccd0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=7 started>
    │    └ <function subprocess_started at 0x7f458a5daa20>
    └ <SpawnProcess name='SpawnProcess-4' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f458a545710>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f458a5d9800>
           │       │   └ <uvicorn.server.Server object at 0x7f458a545710>
           │       └ <function run at 0x7f458a93fb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f458a4b34c0>
           │      └ <function Runner.run at 0x7f458a997060>
           └ <asyncio.runners.Runner object at 0x7f458a544650>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f458a0e81e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f458a544650>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f4585271010>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f45836751...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f45836...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f4589fe7810>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f4585271010>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f45836751...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f45836...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f45836751...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f45836...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f4589fd2450>
          └ <fastapi.applications.FastAPI object at 0x7f4589fe7810>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f4583688040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f45836...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f458511cad0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f4589fd2450>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f4583688180>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f458527e190>
                     │    └ <function log_requests at 0x7f458515fd80>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f458511cad0>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f458527e190>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f4583688180>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ValueError("invalid literal for int() with base 10: 'None'")
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f45836882c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f4583688220>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f458528ed10>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f458511cad0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '116', 'sec-ch-ua-platform': '"macOS"', 'aut...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f45836882c0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f4583688220>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f458515f740>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f458528ed10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f458528ed10>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f4583688220>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f45852b6190>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f458528ed10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f458528ed10>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f4583688220>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f4583675750>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f4589fd34d0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f45852b6190>
          └ <function wrap_app_handling_exceptions at 0x7f45893058a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f4583688540>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f4583688220>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f4589fd34d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f4583688540>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f4583688220>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f4589fd34d0>>
          └ <fastapi.routing.APIRouter object at 0x7f4589fd34d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f4583688540>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f4583688220>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7f4589306e80>
          └ APIRoute(path='/admin/games/', name='create_game', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f4583688540>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f4583688220>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f45851a2660>
          └ APIRoute(path='/admin/games/', name='create_game', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f4583688540>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f4583688220>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f4583675650>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f45836885e0>
          └ <function wrap_app_handling_exceptions at 0x7f45893058a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f4583688720>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f4583688220>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f45836885e0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f4583675650>
                     └ <function get_request_handler.<locals>.app at 0x7f45851a2480>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x7f45892eee80>
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 615, in solve_dependencies
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x7f45892eee80>
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
                   │                 │       │             └ {'credentials': HTTPAuthorizationCredentials(scheme='Bearer', credentials='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJOb...
                   │                 │       └ SolvedDependency(values={'credentials': HTTPAuthorizationCredentials(scheme='Bearer', credentials='eyJhbGciOiJIUzI1NiIsInR5cC...
                   │                 └ <function get_current_user at 0x7f4587c86020>
                   └ <function run_in_threadpool at 0x7f45897f31a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function get_current_user at 0x7f4587c86020>, credentials=HTTPAuthorizationCredentials(scheme='Bearer', cr...
                 │     │         └ <function run_sync at 0x7f458a682160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f458a63b2e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=ValueError("invalid literal for int() with base 10: 'None'")>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/services/auth.py", line 25, in get_current_user
    user = db.query(User).filter_by(id=int(user_id)).first()
           │  │     │                      └ 'None'
           │  │     └ <class 'app.models.user.User'>
           │  └ <function Session.query at 0x7f45886ffba0>
           └ <sqlalchemy.orm.session.Session object at 0x7f4584de2390>

ValueError: invalid literal for int() with base 10: 'None'
2025-06-02 at 17:40:16 | INFO | main:18 - 📥 POST http://localhost:8000/admin/games/
2025-06-02 at 17:40:16 | ERROR | main:22 - ❌ Exception during request: invalid literal for int() with base 10: 'None'
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7f87f5ca8f40>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f87f6b360c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f87f6c0b6a0>
           └ <SpawnProcess name='SpawnProcess-7' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f87f6c0ac00>
    └ <SpawnProcess name='SpawnProcess-7' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f87f5f30c10>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-7' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-7' parent=7 started>
    │    └ <function subprocess_started at 0x7f87f5d9ea20>
    └ <SpawnProcess name='SpawnProcess-7' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f87f5cd5710>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f87f5d9d800>
           │       │   └ <uvicorn.server.Server object at 0x7f87f5cd5710>
           │       └ <function run at 0x7f87f611fb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f87f5c3b4c0>
           │      └ <function Runner.run at 0x7f87f6177060>
           └ <asyncio.runners.Runner object at 0x7f87f5cd4cd0>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f87f58581e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f87f5cd4cd0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f87f5873590>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f87f09f51...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f87f09...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f87f5754050>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f87f5873590>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f87f09f51...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f87f09...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f87f09f51...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f87f09...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f87f0fa7050>
          └ <fastapi.applications.FastAPI object at 0x7f87f5754050>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f87f09a34c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f87f09...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f87f0a7d950>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f87f0fa7050>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f87f09a37e0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f87f09f5010>
                     │    └ <function log_requests at 0x7f87f0963ba0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f87f0a7d950>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f87f09f5010>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f87f09a37e0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ValueError("invalid literal for int() with base 10: 'None'")
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f87f0500680>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f87f05004a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f87f0fa6e90>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f87f0a7d950>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '116', 'sec-ch-ua-platform': '"macOS"', 'aut...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f87f0500680>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f87f05004a0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f87f0963560>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f87f0fa6e90>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f87f0fa6e90>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f87f05004a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f87f0921610>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f87f0fa6e90>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f87f0fa6e90>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f87f05004a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f87f584eb90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f87f0910690>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f87f0921610>
          └ <function wrap_app_handling_exceptions at 0x7f87f4a018a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f87f0545620>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f87f05004a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f87f0910690>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f87f0545620>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f87f05004a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f87f0910690>>
          └ <fastapi.routing.APIRouter object at 0x7f87f0910690>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f87f0545620>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f87f05004a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7f87f4a02e80>
          └ APIRoute(path='/admin/games/', name='create_game', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f87f0545620>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f87f05004a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f87f09a2480>
          └ APIRoute(path='/admin/games/', name='create_game', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f87f0545620>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f87f05004a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f87f0540610>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f87f05456c0>
          └ <function wrap_app_handling_exceptions at 0x7f87f4a018a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f87f0545800>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f87f05004a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f87f05456c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f87f0540610>
                     └ <function get_request_handler.<locals>.app at 0x7f87f09a22a0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x7f87f4beae80>
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 615, in solve_dependencies
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x7f87f4beae80>
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
                   │                 │       │             └ {'credentials': HTTPAuthorizationCredentials(scheme='Bearer', credentials='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJOb...
                   │                 │       └ SolvedDependency(values={'credentials': HTTPAuthorizationCredentials(scheme='Bearer', credentials='eyJhbGciOiJIUzI1NiIsInR5cC...
                   │                 └ <function get_current_user at 0x7f87f34160c0>
                   └ <function run_in_threadpool at 0x7f87f4eef1a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function get_current_user at 0x7f87f34160c0>, credentials=HTTPAuthorizationCredentials(scheme='Bearer', cr...
                 │     │         └ <function run_sync at 0x7f87f5e46160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f87f5dff2e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=ValueError("invalid literal for int() with base 10: 'None'")>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/services/auth.py", line 25, in get_current_user
    user = db.query(User).filter_by(id=int(user_id)).first()
           │  │     │                      └ 'None'
           │  │     └ <class 'app.models.user.User'>
           │  └ <function Session.query at 0x7f87f3dffba0>
           └ <sqlalchemy.orm.session.Session object at 0x7f87f09ae310>

ValueError: invalid literal for int() with base 10: 'None'
2025-06-02 at 17:44:10 | INFO | main:18 - 📥 POST http://localhost:8000/admin/games/
2025-06-02 at 17:44:10 | ERROR | main:22 - ❌ Exception during request: invalid literal for int() with base 10: 'None'
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7f6819f08f40>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7f681ad920c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f681ae6f6a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f681ae6ec00>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f681a3f1110>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    └ <function subprocess_started at 0x7f6819fd6a20>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f6819f35a10>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f6819fd5800>
           │       │   └ <uvicorn.server.Server object at 0x7f6819f35a10>
           │       └ <function run at 0x7f681a33bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f6819e9b4c0>
           │      └ <function Runner.run at 0x7f681a393060>
           └ <asyncio.runners.Runner object at 0x7f6819f350d0>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f6819ac01e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f6819f350d0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f6819ab6d10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f6814bfca...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f6814b...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f68199bc350>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f6819ab6d10>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f6814bfca...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f6814b...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f6814bfca...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f6814b...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f6814bfb8d0>
          └ <fastapi.applications.FastAPI object at 0x7f68199bc350>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f6814bab740>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f6814b...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f6814c85710>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f6814bfb8d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f6814bab7e0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f6814bfcb10>
                     │    └ <function log_requests at 0x7f6814b67ba0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f6814c85710>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f6814bfcb10>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f6814bab7e0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ValueError("invalid literal for int() with base 10: 'None'")
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f6814708680>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f68147084a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f6814b68c90>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f6814c85710>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '116', 'sec-ch-ua-platform': '"macOS"', 'aut...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f6814708680>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f68147084a0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f6814b67560>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f6814b68c90>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f6814b68c90>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f68147084a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f6814b20950>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f6814b68c90>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f6814b68c90>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f68147084a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f6814b387d0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f6818db9ad0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f6814b20950>
          └ <function wrap_app_handling_exceptions at 0x7f6818d058a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f681474d620>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f68147084a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f6818db9ad0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f681474d620>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f68147084a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f6818db9ad0>>
          └ <fastapi.routing.APIRouter object at 0x7f6818db9ad0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f681474d620>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f68147084a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7f6818d06e80>
          └ APIRoute(path='/admin/games/', name='create_game', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f681474d620>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f68147084a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f6814baa480>
          └ APIRoute(path='/admin/games/', name='create_game', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f681474d620>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f68147084a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f6814be6c10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f681474d6c0>
          └ <function wrap_app_handling_exceptions at 0x7f6818d058a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f681474d800>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f68147084a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f681474d6c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f6814be6c10>
                     └ <function get_request_handler.<locals>.app at 0x7f6814baa2a0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x7f6818ceee80>
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 615, in solve_dependencies
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x7f6818ceee80>
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
                   │                 │       │             └ {'credentials': HTTPAuthorizationCredentials(scheme='Bearer', credentials='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJOb...
                   │                 │       └ SolvedDependency(values={'credentials': HTTPAuthorizationCredentials(scheme='Bearer', credentials='eyJhbGciOiJIUzI1NiIsInR5cC...
                   │                 └ <function get_current_user at 0x7f681768e0c0>
                   └ <function run_in_threadpool at 0x7f68191e71a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function get_current_user at 0x7f681768e0c0>, credentials=HTTPAuthorizationCredentials(scheme='Bearer', cr...
                 │     │         └ <function run_sync at 0x7f681a07e160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f681a0372e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=ValueError("invalid literal for int() with base 10: 'None'")>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/services/auth.py", line 25, in get_current_user
    user = db.query(User).filter_by(id=int(user_id)).first()
           │  │     │                      └ 'None'
           │  │     └ <class 'app.models.user.User'>
           │  └ <function Session.query at 0x7f6817f07ba0>
           └ <sqlalchemy.orm.session.Session object at 0x7f6814b21450>

ValueError: invalid literal for int() with base 10: 'None'
2025-06-02 at 17:46:31 | INFO | main:18 - 📥 POST http://localhost:8000/admin/games/
2025-06-02 at 17:46:31 | INFO | main:24 - 📤 200 http://localhost:8000/admin/games/
2025-06-02 at 17:46:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 17:46:56 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 17:46:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 17:46:56 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 17:46:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 17:46:56 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 17:46:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 17:46:56 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 17:46:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 17:46:56 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 17:46:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 17:46:56 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 17:47:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 17:47:10 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 17:47:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 17:47:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 17:47:10 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 17:47:10 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 17:47:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 17:47:10 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 17:47:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 17:47:11 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 17:47:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 17:47:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 17:58:29 | INFO | main:18 - 📥 GET http://localhost:8000/admin/games/
2025-06-02 at 17:58:29 | INFO | main:24 - 📤 200 http://localhost:8000/admin/games/
2025-06-02 at 17:59:21 | INFO | main:18 - 📥 POST http://localhost:8000/admin/products/
2025-06-02 at 17:59:21 | INFO | main:24 - 📤 200 http://localhost:8000/admin/products/
2025-06-02 at 17:59:43 | INFO | main:18 - 📥 POST http://localhost:8000/support/message
2025-06-02 at 17:59:43 | INFO | main:24 - 📤 200 http://localhost:8000/support/message
2025-06-02 at 18:03:16 | INFO | main:18 - 📥 POST http://localhost:8000/support/message
2025-06-02 at 18:03:19 | INFO | main:24 - 📤 200 http://localhost:8000/support/message
2025-06-02 at 18:20:40 | INFO | main:18 - 📥 POST http://localhost:8000/support/message
2025-06-02 at 18:20:44 | INFO | main:24 - 📤 200 http://localhost:8000/support/message
2025-06-02 at 18:28:34 | INFO | main:18 - 📥 POST http://localhost:8000/support/message
2025-06-02 at 18:28:35 | INFO | main:24 - 📤 200 http://localhost:8000/support/message
2025-06-02 at 18:51:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 18:51:11 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 18:51:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 18:51:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 18:51:12 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 18:51:12 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 18:51:12 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 18:51:12 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:00:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:00:45 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:00:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:00:45 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:00:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:00:46 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:00:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:00:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:00:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:00:47 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:00:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:00:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:00:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:00:48 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:00:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:00:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:00:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:00:49 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:00:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:00:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:00:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:00:49 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:00:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:00:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:00:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:00:53 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:00:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:00:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:00:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:00:53 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:00:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:00:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:00:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:00:54 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:00:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:00:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:00:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:00:56 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:00:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:00:56 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:05:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:05:35 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:05:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:05:35 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:05:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:05:35 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:05:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:05:35 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:05:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:05:35 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:05:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:05:35 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:05:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:05:41 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:05:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:05:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:05:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:05:41 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:05:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:05:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:05:43 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:05:43 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:05:43 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:05:43 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:11:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:11:08 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:11:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:11:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:11:08 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:11:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:11:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:11:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:11:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:11:08 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:11:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:11:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:11:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:11:14 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:11:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:11:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:11:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:11:15 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:11:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:11:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:11:16 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:11:16 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:11:16 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:11:16 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:11:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:11:17 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:11:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:11:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:11:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:11:17 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:11:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:11:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:11:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:11:42 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:11:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:11:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:11:43 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:11:43 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:11:43 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:11:43 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:11:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:11:45 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:11:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:11:45 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:11:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:11:47 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:11:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:11:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:13:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:13:44 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:13:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:13:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:13:44 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:13:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:13:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:13:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:13:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:13:44 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:13:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:13:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:13:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:13:53 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:13:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:13:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:13:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:13:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:13:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:13:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:13:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:13:57 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:13:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:13:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:14:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:14:01 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:14:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:14:01 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:14:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:14:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:14:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:14:02 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:14:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:14:02 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:14:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:14:02 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:14:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:14:03 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:14:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:14:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:14:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:14:06 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:14:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:14:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:14:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:14:06 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:14:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:14:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:14:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:14:08 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:14:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:14:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:14:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:14:09 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:14:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:14:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:14:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:14:10 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:14:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:14:10 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:14:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:14:11 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:14:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:14:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:14:12 | INFO | main:18 - 📥 GET http://localhost:8000/api/games
2025-06-02 at 19:14:12 | INFO | main:24 - 📤 307 http://localhost:8000/api/games
2025-06-02 at 19:14:12 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/
2025-06-02 at 19:14:12 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/
2025-06-02 at 19:15:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=%D1%86%D0%B9
2025-06-02 at 19:15:59 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=%D1%86%D0%B9
2025-06-02 at 19:15:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=%D1%86%D0%B9
2025-06-02 at 19:15:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=%D1%86%D0%B9
2025-06-02 at 19:16:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 19:16:03 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 19:16:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 19:16:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 19:16:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=gta
2025-06-02 at 19:16:05 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=gta
2025-06-02 at 19:16:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=gta
2025-06-02 at 19:16:05 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=gta
2025-06-02 at 19:16:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=GTA
2025-06-02 at 19:16:07 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=GTA
2025-06-02 at 19:16:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=GTA
2025-06-02 at 19:16:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=GTA
2025-06-02 at 19:16:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=gta
2025-06-02 at 19:16:10 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=gta
2025-06-02 at 19:16:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=gta
2025-06-02 at 19:16:10 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=gta
2025-06-02 at 19:16:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 19:16:11 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 19:16:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 19:16:12 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 19:16:12 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=GTA
2025-06-02 at 19:16:12 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=GTA
2025-06-02 at 19:16:12 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=GTA
2025-06-02 at 19:16:12 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=GTA
2025-06-02 at 19:16:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=GTAe
2025-06-02 at 19:16:13 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=GTAe
2025-06-02 at 19:16:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=GTAe
2025-06-02 at 19:16:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=GTAe
2025-06-02 at 19:16:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 19:16:15 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 19:16:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 19:16:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 19:16:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=%D0%B0
2025-06-02 at 19:16:42 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=%D0%B0
2025-06-02 at 19:16:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=%D0%B0
2025-06-02 at 19:16:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=%D0%B0
2025-06-02 at 19:17:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 19:17:02 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 19:17:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 19:17:02 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 19:17:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 19:17:02 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 19:17:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 19:17:02 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 19:17:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 19:17:02 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 19:17:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 19:17:02 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 19:20:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=GTA
2025-06-02 at 19:20:15 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=GTA
2025-06-02 at 19:20:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=GTA
2025-06-02 at 19:20:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=GTA
2025-06-02 at 19:20:21 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=Gew
2025-06-02 at 19:20:21 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=Gew
2025-06-02 at 19:20:21 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=Gew
2025-06-02 at 19:20:21 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=Gew
2025-06-02 at 19:20:23 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 19:20:23 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 19:20:23 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 19:20:23 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 21:01:18 | INFO | main:18 - 📥 POST http://localhost:8000/api/auth/auth/request-link
2025-06-02 at 21:01:21 | ERROR | main:22 - ❌ Exception during request: (535, b'5.7.8 Error: authentication failed: Invalid user or password! 1748898081-K1iCTdILkuQ0')
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7f5a96314f40>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7f5a971b60c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f5a9728b6a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f5a9728ac00>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f5a96568c50>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    └ <function subprocess_started at 0x7f5a963d6a20>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f5a96341650>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f5a963d5800>
           │       │   └ <uvicorn.server.Server object at 0x7f5a96341650>
           │       └ <function run at 0x7f5a9673bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f5a962a74c0>
           │      └ <function Runner.run at 0x7f5a96793060>
           └ <asyncio.runners.Runner object at 0x7f5a96340c90>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f5a95ed41e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f5a96340c90>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5a95ec9dd0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5a8ff213...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5a8ff...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5a95dc3710>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5a95ec9dd0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5a8ff213...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5a8ff...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5a8ff213...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5a8ff...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5a91092e50>
          └ <fastapi.applications.FastAPI object at 0x7f5a95dc3710>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f5a8ff00540>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5a8ff...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f5a9107a450>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5a91092e50>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f5a8ff00900>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f5a8ff20790>
                     │    └ <function log_requests at 0x7f5a90fa4b80>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f5a9107a450>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f5a8ff20790>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f5a8ff00900>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ SMTPAuthenticationError(535, b'5.7.8 Error: authentication failed: Invalid user or password! 1748898081-K1iCTdILkuQ0')
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f5a8ff00ea0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5a8ff00680>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5a90fc6190>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f5a9107a450>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '35', 'sec-ch-ua-platform': '"macOS"', 'user...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f5a8ff00ea0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5a8ff00680>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f5a90fa4540>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5a90fc6190>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f5a90fc6190>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5a8ff00680>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f5a910cadd0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5a90fc6190>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f5a90fc6190>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5a8ff00680>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f5a8ff202d0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f5a95dc37d0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f5a910cadd0>
          └ <function wrap_app_handling_exceptions at 0x7f5a9510d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5a8ff000e0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5a8ff00680>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f5a95dc37d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5a8ff000e0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5a8ff00680>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f5a95dc37d0>>
          └ <fastapi.routing.APIRouter object at 0x7f5a95dc37d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5a8ff000e0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5a8ff00680>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7f5a9510ee80>
          └ APIRoute(path='/api/auth/auth/request-link', name='request_login_link', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5a8ff000e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5a8ff00680>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f5a90fa6700>
          └ APIRoute(path='/api/auth/auth/request-link', name='request_login_link', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5a8ff000e0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5a8ff00680>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f5a8ff23f50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f5a8ff00b80>
          └ <function wrap_app_handling_exceptions at 0x7f5a9510d8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5a8ff01b20>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5a8ff00680>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f5a8ff00b80>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f5a8ff23f50>
                     └ <function get_request_handler.<locals>.app at 0x7f5a90fa65c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f5a9510e980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f5a8ff23910>, 'data': EmailRequest(email='kvpelvne@gmail.com')}
                 │                 │         └ <function request_login_link at 0x7f5a9106f9c0>
                 │                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...
                 └ <function run_in_threadpool at 0x7f5a955ef1a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function request_login_link at 0x7f5a9106f9c0>, db=<sqlalchemy.orm.session.Session object at 0x7f5a8ff2391...
                 │     │         └ <function run_sync at 0x7f5a9647e160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f5a964372e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=SMTPAuthenticationError(535, b'5.7.8 Error: authentication failed: Invalid user or password! 17488...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/auth.py", line 42, in request_login_link
    send_email(
    └ <function send_email at 0x7f5a9352fb00>

  File "/app/app/services/mailer.py", line 21, in send_email
    smtp.login(settings.MAIL_USERNAME, settings.MAIL_PASSWORD)
    │    │     │        │              │        └ '*********'
    │    │     │        │              └ Settings(DATABASE_URL='postgresql://user:password@postgres:5432/donate_raid', JWT_SECRET='df2f3bb92a9054f54dbb5980ad7b381b745...
    │    │     │        └ 'noreply@donateraid.com'
    │    │     └ Settings(DATABASE_URL='postgresql://user:password@postgres:5432/donate_raid', JWT_SECRET='df2f3bb92a9054f54dbb5980ad7b381b745...
    │    └ <function SMTP.login at 0x7f5a9358ea20>
    └ <smtplib.SMTP_SSL object at 0x7f5a8f551850>

  File "/usr/local/lib/python3.11/smtplib.py", line 750, in login
    raise last_exception
          └ SMTPAuthenticationError(535, b'5.7.8 Error: authentication failed: Invalid user or password! 1748898081-K1iCTdILkuQ0')
  File "/usr/local/lib/python3.11/smtplib.py", line 739, in login
    (code, resp) = self.auth(
                   │    └ <function SMTP.auth at 0x7f5a9358e7a0>
                   └ <smtplib.SMTP_SSL object at 0x7f5a8f551850>
  File "/usr/local/lib/python3.11/smtplib.py", line 662, in auth
    raise SMTPAuthenticationError(code, resp)
          │                       │     └ b'5.7.8 Error: authentication failed: Invalid user or password! 1748898081-K1iCTdILkuQ0'
          │                       └ 535
          └ <class 'smtplib.SMTPAuthenticationError'>

smtplib.SMTPAuthenticationError: (535, b'5.7.8 Error: authentication failed: Invalid user or password! 1748898081-K1iCTdILkuQ0')
2025-06-02 at 21:04:38 | INFO | main:18 - 📥 POST http://localhost:8000/api/auth/auth/request-link
2025-06-02 at 21:04:41 | ERROR | main:22 - ❌ Exception during request: (535, b'5.7.8 Error: authentication failed: This user does not have access rights to this service 1748898281-d4icoOtLfSw0')
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7f8fe3574f40>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7f8fe441a0c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f8fe44eb6a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f8fe44eac00>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f8fe37ccd90>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    └ <function subprocess_started at 0x7f8fe3636a20>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f8fe35a1290>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f8fe3635800>
           │       │   └ <uvicorn.server.Server object at 0x7f8fe35a1290>
           │       └ <function run at 0x7f8fe393bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f8fe350f4c0>
           │      └ <function Runner.run at 0x7f8fe3993060>
           └ <asyncio.runners.Runner object at 0x7f8fe35a0890>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f8fe312c1e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f8fe35a0890>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f8fe407d690>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8fde1f8c...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8fde1...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f8fe3024250>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f8fe407d690>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8fde1f8c...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8fde1...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8fde1f8c...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8fde1...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f8fde2c2cd0>
          └ <fastapi.applications.FastAPI object at 0x7f8fe3024250>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f8fde1f0680>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f8fde1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f8fde196150>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f8fde2c2cd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f8fde1f0720>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f8fde1f8b90>
                     │    └ <function log_requests at 0x7f8fde19cb80>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f8fde196150>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f8fde1f8b90>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f8fde1f0720>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ SMTPAuthenticationError(535, b'5.7.8 Error: authentication failed: This user does not have access rights to this service 1748...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f8fde1f07c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f8fde1f1580>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f8fde2a9cd0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f8fde196150>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '35', 'sec-ch-ua-platform': '"macOS"', 'user...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f8fde1f07c0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f8fde1f1580>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f8fde19c540>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f8fde2a9cd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f8fde2a9cd0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f8fde1f1580>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f8fde111e50>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f8fde2a9cd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f8fde2a9cd0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f8fde1f1580>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f8fddd382d0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f8fde2499d0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f8fde111e50>
          └ <function wrap_app_handling_exceptions at 0x7f8fe23058a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f8fddd42520>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f8fde1f1580>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f8fde2499d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f8fddd42520>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f8fde1f1580>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f8fde2499d0>>
          └ <fastapi.routing.APIRouter object at 0x7f8fde2499d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f8fddd42520>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f8fde1f1580>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7f8fe2306e80>
          └ APIRoute(path='/api/auth/auth/request-link', name='request_login_link', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f8fddd42520>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f8fde1f1580>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f8fde19e700>
          └ APIRoute(path='/api/auth/auth/request-link', name='request_login_link', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f8fddd42520>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f8fde1f1580>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f8fde112450>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f8fddd425c0>
          └ <function wrap_app_handling_exceptions at 0x7f8fe23058a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f8fddd42700>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f8fde1f1580>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f8fddd425c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f8fde112450>
                     └ <function get_request_handler.<locals>.app at 0x7f8fde19e5c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f8fe2306980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f8fde249150>, 'data': EmailRequest(email='kvpelvne@gmail.com')}
                 │                 │         └ <function request_login_link at 0x7f8fde2679c0>
                 │                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...
                 └ <function run_in_threadpool at 0x7f8fe27e71a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function request_login_link at 0x7f8fde2679c0>, db=<sqlalchemy.orm.session.Session object at 0x7f8fde24915...
                 │     │         └ <function run_sync at 0x7f8fe36de160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f8fe36972e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=SMTPAuthenticationError(535, b'5.7.8 Error: authentication failed: This user does not have access ...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/auth.py", line 42, in request_login_link
    send_email(
    └ <function send_email at 0x7f8fe0727b00>

  File "/app/app/services/mailer.py", line 21, in send_email
    smtp.login(settings.MAIL_USERNAME, settings.MAIL_PASSWORD)
    │    │     │        │              │        └ 'tltpsjuoqhfxwmer'
    │    │     │        │              └ Settings(DATABASE_URL='postgresql://user:password@postgres:5432/donate_raid', JWT_SECRET='df2f3bb92a9054f54dbb5980ad7b381b745...
    │    │     │        └ 'kpeezy4l@yandex.ru'
    │    │     └ Settings(DATABASE_URL='postgresql://user:password@postgres:5432/donate_raid', JWT_SECRET='df2f3bb92a9054f54dbb5980ad7b381b745...
    │    └ <function SMTP.login at 0x7f8fe0786a20>
    └ <smtplib.SMTP_SSL object at 0x7f8fde283850>

  File "/usr/local/lib/python3.11/smtplib.py", line 750, in login
    raise last_exception
          └ SMTPAuthenticationError(535, b'5.7.8 Error: authentication failed: This user does not have access rights to this service 1748...
  File "/usr/local/lib/python3.11/smtplib.py", line 739, in login
    (code, resp) = self.auth(
                   │    └ <function SMTP.auth at 0x7f8fe07867a0>
                   └ <smtplib.SMTP_SSL object at 0x7f8fde283850>
  File "/usr/local/lib/python3.11/smtplib.py", line 662, in auth
    raise SMTPAuthenticationError(code, resp)
          │                       │     └ b'5.7.8 Error: authentication failed: This user does not have access rights to this service 1748898281-d4icoOtLfSw0'
          │                       └ 535
          └ <class 'smtplib.SMTPAuthenticationError'>

smtplib.SMTPAuthenticationError: (535, b'5.7.8 Error: authentication failed: This user does not have access rights to this service 1748898281-d4icoOtLfSw0')
2025-06-02 at 21:08:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=%D1%83%D1%86
2025-06-02 at 21:08:19 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=%D1%83%D1%86
2025-06-02 at 21:08:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=%D1%83%D1%86
2025-06-02 at 21:08:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=%D1%83%D1%86
2025-06-02 at 21:08:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=%D1%83%D1%86%D1%83
2025-06-02 at 21:08:19 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=%D1%83%D1%86%D1%83
2025-06-02 at 21:08:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=%D1%83%D1%86%D1%83
2025-06-02 at 21:08:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=%D1%83%D1%86%D1%83
2025-06-02 at 21:08:25 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 21:08:25 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 21:08:25 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 21:08:25 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 21:08:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 21:08:29 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 21:08:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 21:08:29 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 21:08:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 21:08:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 21:08:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 21:08:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 21:08:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 21:08:29 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 21:08:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 21:08:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 21:12:45 | INFO | main:18 - 📥 POST http://localhost:8000/api/auth/auth/request-link
2025-06-02 at 21:12:48 | ERROR | main:22 - ❌ Exception during request: (535, b'5.7.8 Error: authentication failed: This user does not have access rights to this service 1748898768-kCiSffGLeSw0')
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7f2340cb4f40>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7f2341b360c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f2341c0b6a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f2341c0ac00>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f23419008d0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    └ <function subprocess_started at 0x7f2340da6a20>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f2340ce1910>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f2340da5800>
           │       │   └ <uvicorn.server.Server object at 0x7f2340ce1910>
           │       └ <function run at 0x7f2341123b00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f2340c474c0>
           │      └ <function Runner.run at 0x7f234117b060>
           └ <asyncio.runners.Runner object at 0x7f2340ce0f50>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f23408681e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f2340ce0f50>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f233b9fbe50>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f233a9051...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f233a9...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f234074f710>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f233b9fbe50>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f233a9051...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f233a9...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f233a9051...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f233a9...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f233b503ed0>
          └ <fastapi.applications.FastAPI object at 0x7f234074f710>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f233b556e80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f233a9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f234085e2d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f233b503ed0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f233b556520>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f233a9051d0>
                     │    └ <function log_requests at 0x7f233b9b0b80>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f234085e2d0>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f233a9051d0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f233b556520>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ SMTPAuthenticationError(535, b'5.7.8 Error: authentication failed: This user does not have access rights to this service 1748...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f233b5d8540>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f233b5d8220>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f233babeb10>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f234085e2d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '35', 'sec-ch-ua-platform': '"macOS"', 'user...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f233b5d8540>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f233b5d8220>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f233b9b0540>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f233babeb10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f233babeb10>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f233b5d8220>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f233b9ae150>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f233babeb10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f233babeb10>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f233b5d8220>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f233a918950>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f2340763a50>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f233b9ae150>
          └ <function wrap_app_handling_exceptions at 0x7f233fa158a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f233b5dbb00>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f233b5d8220>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f2340763a50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f233b5dbb00>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f233b5d8220>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f2340763a50>>
          └ <fastapi.routing.APIRouter object at 0x7f2340763a50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f233b5dbb00>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f233b5d8220>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7f233fa16e80>
          └ APIRoute(path='/api/auth/auth/request-link', name='request_login_link', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f233b5dbb00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f233b5d8220>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f233b9b2700>
          └ APIRoute(path='/api/auth/auth/request-link', name='request_login_link', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f233b5dbb00>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f233b5d8220>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f233a91b090>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f233b5dbce0>
          └ <function wrap_app_handling_exceptions at 0x7f233fa158a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f233b5dbe20>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f233b5d8220>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f233b5dbce0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f233a91b090>
                     └ <function get_request_handler.<locals>.app at 0x7f233b9b25c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f233fa16980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f233a905a90>, 'data': EmailRequest(email='kvpelvne@gmail.com')}
                 │                 │         └ <function request_login_link at 0x7f233ba7b9c0>
                 │                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...
                 └ <function run_in_threadpool at 0x7f233fef71a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function request_login_link at 0x7f233ba7b9c0>, db=<sqlalchemy.orm.session.Session object at 0x7f233a905a9...
                 │     │         └ <function run_sync at 0x7f2340e4e160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f2340e072e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=SMTPAuthenticationError(535, b'5.7.8 Error: authentication failed: This user does not have access ...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/auth.py", line 42, in request_login_link
    send_email(
    └ <function send_email at 0x7f233df3bb00>

  File "/app/app/services/mailer.py", line 21, in send_email
    smtp.login(settings.MAIL_USERNAME, settings.MAIL_PASSWORD)
    │    │     │        │              │        └ 'tltpsjuoqhfxwmer'
    │    │     │        │              └ Settings(DATABASE_URL='postgresql://user:password@postgres:5432/donate_raid', JWT_SECRET='df2f3bb92a9054f54dbb5980ad7b381b745...
    │    │     │        └ 'kpeezy4l@ya.ru'
    │    │     └ Settings(DATABASE_URL='postgresql://user:password@postgres:5432/donate_raid', JWT_SECRET='df2f3bb92a9054f54dbb5980ad7b381b745...
    │    └ <function SMTP.login at 0x7f233df9aa20>
    └ <smtplib.SMTP_SSL object at 0x7f233b5f7710>

  File "/usr/local/lib/python3.11/smtplib.py", line 750, in login
    raise last_exception
          └ SMTPAuthenticationError(535, b'5.7.8 Error: authentication failed: This user does not have access rights to this service 1748...
  File "/usr/local/lib/python3.11/smtplib.py", line 739, in login
    (code, resp) = self.auth(
                   │    └ <function SMTP.auth at 0x7f233df9a7a0>
                   └ <smtplib.SMTP_SSL object at 0x7f233b5f7710>
  File "/usr/local/lib/python3.11/smtplib.py", line 662, in auth
    raise SMTPAuthenticationError(code, resp)
          │                       │     └ b'5.7.8 Error: authentication failed: This user does not have access rights to this service 1748898768-kCiSffGLeSw0'
          │                       └ 535
          └ <class 'smtplib.SMTPAuthenticationError'>

smtplib.SMTPAuthenticationError: (535, b'5.7.8 Error: authentication failed: This user does not have access rights to this service 1748898768-kCiSffGLeSw0')
2025-06-02 at 22:25:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 22:25:28 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 22:25:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 22:25:28 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 22:25:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 22:25:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 22:25:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 22:25:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 22:25:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 22:25:29 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 22:25:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 22:25:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 22:25:45 | INFO | main:18 - 📥 GET http://localhost:8000/docs
2025-06-02 at 22:25:45 | INFO | main:24 - 📤 200 http://localhost:8000/docs
2025-06-02 at 22:25:48 | INFO | main:18 - 📥 GET http://localhost:8000/openapi.json
2025-06-02 at 22:25:48 | INFO | main:24 - 📤 200 http://localhost:8000/openapi.json
2025-06-02 at 22:26:03 | INFO | main:18 - 📥 POST http://localhost:8000/api/auth/auth/request-link
2025-06-02 at 22:26:05 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/auth/request-link
2025-06-02 at 22:27:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/auth/auth/verify?token=7c670ff8-ab75-4fe9-87fc-11325be43a93
2025-06-02 at 22:27:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/auth/verify?token=7c670ff8-ab75-4fe9-87fc-11325be43a93
2025-06-02 at 22:40:37 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/auth/send-magic-link
2025-06-02 at 22:40:37 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/send-magic-link
2025-06-02 at 22:40:37 | INFO | main:18 - 📥 POST http://localhost:8000/api/auth/send-magic-link
2025-06-02 at 22:40:37 | INFO | main:24 - 📤 404 http://localhost:8000/api/auth/send-magic-link
2025-06-02 at 22:42:53 | INFO | main:18 - 📥 POST http://localhost:8000/api/auth/send-magic-link
2025-06-02 at 22:42:53 | INFO | main:24 - 📤 404 http://localhost:8000/api/auth/send-magic-link
2025-06-02 at 22:44:17 | INFO | main:18 - 📥 POST http://localhost:8000/api/auth/send-magic-link
2025-06-02 at 22:44:17 | INFO | main:24 - 📤 404 http://localhost:8000/api/auth/send-magic-link
2025-06-02 at 22:44:42 | INFO | main:18 - 📥 POST http://localhost:8000/api/auth/send-magic-link
2025-06-02 at 22:44:42 | INFO | main:24 - 📤 404 http://localhost:8000/api/auth/send-magic-link
2025-06-02 at 22:45:45 | INFO | main:18 - 📥 GET http://localhost:8000/docs
2025-06-02 at 22:45:45 | INFO | main:24 - 📤 200 http://localhost:8000/docs
2025-06-02 at 22:45:48 | INFO | main:18 - 📥 GET http://localhost:8000/openapi.json
2025-06-02 at 22:45:48 | INFO | main:24 - 📤 200 http://localhost:8000/openapi.json
2025-06-02 at 22:46:16 | INFO | main:18 - 📥 POST http://localhost:8000/api/auth/request-link
2025-06-02 at 22:46:18 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/request-link
2025-06-02 at 22:50:42 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/auth/send-magic-link
2025-06-02 at 22:50:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/send-magic-link
2025-06-02 at 22:50:42 | INFO | main:18 - 📥 POST http://localhost:8000/api/auth/send-magic-link
2025-06-02 at 22:50:42 | INFO | main:24 - 📤 404 http://localhost:8000/api/auth/send-magic-link
2025-06-02 at 22:50:48 | INFO | main:18 - 📥 POST http://localhost:8000/api/auth/send-magic-link
2025-06-02 at 22:50:48 | INFO | main:24 - 📤 404 http://localhost:8000/api/auth/send-magic-link
2025-06-02 at 22:51:47 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/auth/request-link
2025-06-02 at 22:51:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/request-link
2025-06-02 at 22:51:47 | INFO | main:18 - 📥 POST http://localhost:8000/api/auth/request-link
2025-06-02 at 22:51:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/request-link
2025-06-02 at 22:52:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/auth/verify-token?token=b99963c8-2811-4a8f-b936-3a9483a05ef6
2025-06-02 at 22:52:32 | INFO | main:24 - 📤 404 http://localhost:8000/api/auth/verify-token?token=b99963c8-2811-4a8f-b936-3a9483a05ef6
2025-06-02 at 22:52:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/auth/verify-token?token=b99963c8-2811-4a8f-b936-3a9483a05ef6
2025-06-02 at 22:52:32 | INFO | main:24 - 📤 404 http://localhost:8000/api/auth/verify-token?token=b99963c8-2811-4a8f-b936-3a9483a05ef6
2025-06-02 at 22:55:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/auth/verify?token=b99963c8-2811-4a8f-b936-3a9483a05ef6
2025-06-02 at 22:55:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/verify?token=b99963c8-2811-4a8f-b936-3a9483a05ef6
2025-06-02 at 22:55:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/auth/verify?token=b99963c8-2811-4a8f-b936-3a9483a05ef6
2025-06-02 at 22:55:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/verify?token=b99963c8-2811-4a8f-b936-3a9483a05ef6
2025-06-02 at 22:55:07 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-02 at 22:55:07 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-02 at 22:55:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 22:55:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 22:55:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 22:55:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 22:55:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 22:55:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 22:58:11 | INFO | main:18 - 📥 POST http://localhost:8000/api/auth/request-link
2025-06-02 at 22:58:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/request-link
2025-06-02 at 22:58:23 | INFO | main:18 - 📥 GET http://localhost:8000/api/auth/verify?token=22dae262-bc38-45a4-863d-26e7edc009c6
2025-06-02 at 22:58:23 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/verify?token=22dae262-bc38-45a4-863d-26e7edc009c6
2025-06-02 at 22:58:23 | INFO | main:18 - 📥 GET http://localhost:8000/api/auth/verify?token=22dae262-bc38-45a4-863d-26e7edc009c6
2025-06-02 at 22:58:23 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/verify?token=22dae262-bc38-45a4-863d-26e7edc009c6
2025-06-02 at 22:58:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 22:58:24 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 22:58:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 22:58:24 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 22:58:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 22:58:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 22:58:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 22:58:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 22:58:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 22:58:24 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 22:58:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 22:58:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 22:58:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 22:58:59 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 22:58:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 22:58:59 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 22:58:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 22:58:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 22:58:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 22:58:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 22:59:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 22:59:00 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 22:59:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 22:59:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 22:59:22 | INFO | main:18 - 📥 POST http://localhost:8000/api/auth/request-link
2025-06-02 at 22:59:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/request-link
2025-06-02 at 22:59:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 22:59:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 22:59:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/auth/verify?token=781d4b94-e471-4364-bb37-e1dd031beb89
2025-06-02 at 22:59:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/verify?token=781d4b94-e471-4364-bb37-e1dd031beb89
2025-06-02 at 22:59:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 22:59:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/auth/verify?token=781d4b94-e471-4364-bb37-e1dd031beb89
2025-06-02 at 22:59:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/verify?token=781d4b94-e471-4364-bb37-e1dd031beb89
2025-06-02 at 22:59:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 22:59:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 22:59:32 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 22:59:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 22:59:32 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 22:59:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 22:59:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 22:59:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 22:59:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 22:59:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 22:59:32 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 22:59:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 22:59:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 22:59:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 22:59:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 22:59:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 22:59:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 22:59:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 22:59:51 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 22:59:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 22:59:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 22:59:51 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 22:59:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 22:59:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 22:59:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 22:59:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 22:59:51 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 22:59:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 22:59:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 23:01:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:01:05 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:01:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:01:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:05 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:01:05 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:05 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:01:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 23:01:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:01:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:01:06 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:01:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 23:01:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:01:09 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:01:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:01:09 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:01:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:01:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 23:01:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:01:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:01:09 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:01:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:12 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 23:01:12 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:01:12 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 23:01:12 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:01:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:01:13 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:01:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:01:13 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:01:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:01:13 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:01:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:16 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 23:01:16 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:01:16 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:01:16 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:01:16 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:01:16 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:16 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:01:16 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 23:01:16 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:16 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:16 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:01:16 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:16 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:01:16 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:01:16 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:01:16 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:24:44 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-02 at 23:24:44 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-02 at 23:24:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:24:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:24:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 23:24:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:24:44 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:24:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:24:44 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:24:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:24:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 23:24:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:24:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:24:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:24:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:24:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:24:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 23:24:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:24:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 23:24:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:24:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:24:45 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:24:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:24:45 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:32:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:32:01 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:32:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:32:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:32:01 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:32:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:32:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:32:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:32:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:32:01 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:32:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:32:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:32:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-02 at 23:32:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-02 at 23:32:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-02 at 23:32:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-02 at 23:32:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:32:47 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:32:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:32:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:32:47 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:32:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:32:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:32:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:32:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:32:47 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:32:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:32:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:32:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 23:32:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:32:54 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:32:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:32:54 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:32:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:32:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 23:32:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:32:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:32:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:32:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:32:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:32:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:32:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:32:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:32:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:35:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-02 at 23:35:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-02 at 23:35:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-02 at 23:35:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-02 at 23:35:19 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-02 at 23:35:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-02 at 23:35:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:35:19 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-02 at 23:35:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:35:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-02 at 23:35:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-02 at 23:35:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-02 at 23:35:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 23:35:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:35:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 23:35:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:38:12 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:38:12 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:38:12 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:38:12 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:38:12 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:38:12 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:38:12 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:38:12 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:38:12 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:38:12 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:38:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:38:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:38:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-02 at 23:38:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-02 at 23:38:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-02 at 23:38:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-02 at 23:38:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:38:30 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:38:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:38:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:38:30 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:38:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:38:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:38:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:38:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:38:30 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:38:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:38:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:38:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-02 at 23:38:31 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-02 at 23:38:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-02 at 23:38:31 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-02 at 23:39:43 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-02 at 23:39:43 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-02 at 23:39:43 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-02 at 23:39:43 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-02 at 23:41:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 23:41:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:41:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 23:41:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:41:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 23:41:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:41:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 23:41:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:41:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:41:08 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:41:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:41:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:41:08 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:41:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:41:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:41:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:41:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:41:08 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:41:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:41:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:41:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-02 at 23:41:10 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-02 at 23:41:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-02 at 23:41:10 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-02 at 23:42:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 23:42:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:42:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-02 at 23:42:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-02 at 23:42:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:42:08 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:42:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:42:08 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:42:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:42:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:42:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:42:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:42:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:42:10 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:42:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:42:10 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:42:21 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-02 at 23:42:21 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-02 at 23:42:21 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-02 at 23:42:21 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-02 at 23:42:33 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:42:33 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:42:33 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:42:33 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:42:33 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:42:33 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:42:33 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:42:33 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-02 at 23:42:33 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-02 at 23:42:33 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-02 at 23:42:33 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-02 at 23:42:33 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:00:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-03 at 00:00:02 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-03 at 00:00:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-03 at 00:00:02 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-03 at 00:00:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:00:08 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:00:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:00:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:00:08 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:00:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:00:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:00:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:00:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:00:08 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:00:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:00:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:00:14 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-03 at 00:00:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-03 at 00:00:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:00:14 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-03 at 00:00:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-03 at 00:00:14 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:00:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-03 at 00:00:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:00:14 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:00:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-03 at 00:00:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-03 at 00:00:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:00:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-03 at 00:00:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:00:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:00:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:00:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:00:14 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:00:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:00:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:00:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-03 at 00:00:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-03 at 00:00:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-03 at 00:00:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-03 at 00:00:21 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:00:21 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:00:21 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:00:21 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:00:21 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:00:21 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:00:21 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:00:21 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:00:21 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:00:21 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:00:21 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:00:21 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:00:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-03 at 00:00:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-03 at 00:00:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-03 at 00:00:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-03 at 00:02:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-03 at 00:02:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-03 at 00:02:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-03 at 00:02:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-03 at 00:02:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:02:42 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:02:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:02:42 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:02:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:02:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:02:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:02:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:02:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:02:44 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:02:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:02:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:03:26 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-03 at 00:03:26 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-03 at 00:03:26 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-03 at 00:03:26 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-03 at 00:03:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:03:35 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:03:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:03:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:03:35 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:03:35 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:03:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:03:35 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:03:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:03:35 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:03:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:03:35 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:03:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-03 at 00:03:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:03:40 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:03:40 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-03 at 00:03:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:03:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-03 at 00:03:40 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:03:40 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-03 at 00:03:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:03:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:03:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:03:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:03:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:03:41 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:03:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:03:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:03:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-03 at 00:03:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-03 at 00:03:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-03 at 00:03:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-03 at 00:05:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:05:29 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:05:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:05:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:05:29 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:05:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:05:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:05:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:05:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:05:29 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:05:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:05:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:05:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-03 at 00:05:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-03 at 00:05:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-03 at 00:05:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-03 at 00:08:48 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders
2025-06-03 at 00:08:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders
2025-06-03 at 00:08:48 | INFO | main:18 - 📥 POST http://localhost:8000/api/orders
2025-06-03 at 00:08:48 | INFO | main:24 - 📤 307 http://localhost:8000/api/orders
2025-06-03 at 00:08:48 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/
2025-06-03 at 00:08:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/
2025-06-03 at 00:08:48 | INFO | main:18 - 📥 POST http://localhost:8000/api/orders/
2025-06-03 at 00:08:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/
2025-06-03 at 00:08:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:08:50 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:08:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:08:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:08:50 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:08:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:08:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:08:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:08:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 00:08:50 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 00:08:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 00:08:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 00:11:36 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-03 at 00:11:36 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-03 at 00:11:36 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-03 at 00:11:36 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-03 at 00:11:38 | INFO | main:18 - 📥 POST http://localhost:8000/api/orders
2025-06-03 at 00:11:38 | INFO | main:24 - 📤 307 http://localhost:8000/api/orders
2025-06-03 at 00:11:38 | INFO | main:18 - 📥 POST http://localhost:8000/api/orders/
2025-06-03 at 00:11:40 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/
2025-06-03 at 00:11:41 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/2
2025-06-03 at 00:11:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/2
2025-06-03 at 00:11:41 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/2
2025-06-03 at 00:11:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/2
2025-06-03 at 00:11:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/2
2025-06-03 at 00:11:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/2
2025-06-03 at 00:11:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/2
2025-06-03 at 00:11:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/2
2025-06-03 at 21:15:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 21:15:38 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 21:15:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 21:15:38 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 21:15:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 21:15:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 21:15:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 21:15:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 21:15:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 21:15:38 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 21:15:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 21:15:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 21:15:42 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-03 at 21:15:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-03 at 21:15:42 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-03 at 21:15:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-03 at 21:15:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-03 at 21:15:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-03 at 21:15:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-03 at 21:15:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-03 at 21:16:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 21:16:01 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 21:16:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 21:16:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 21:16:01 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 21:16:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 21:16:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 21:16:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-03 at 21:16:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-03 at 21:16:01 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-03 at 21:16:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-03 at 21:16:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 12:36:59 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 12:36:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 12:36:59 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 12:36:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 12:36:59 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 12:36:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 12:36:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 12:36:59 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 12:36:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 12:36:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 12:37:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 12:37:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 12:37:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 12:37:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 12:37:00 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 12:37:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 12:37:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 12:37:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 12:37:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 12:37:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 12:44:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 12:44:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 12:44:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 12:44:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 13:38:19 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 13:38:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 13:38:19 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 13:38:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 13:38:19 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 13:38:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 13:38:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 13:38:19 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 13:38:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 13:38:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 13:38:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 13:38:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 13:38:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 13:38:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 13:38:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 13:38:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 13:38:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 13:38:20 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 13:38:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 13:38:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 13:41:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 13:41:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 13:41:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 13:41:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 13:41:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:41:09 | INFO | main:24 - 📤 404 http://localhost:8000/api/support/my
2025-06-04 at 13:41:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:41:09 | INFO | main:24 - 📤 404 http://localhost:8000/api/support/my
2025-06-04 at 13:44:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 13:44:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 13:44:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 13:44:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 13:44:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:44:49 | INFO | main:24 - 📤 404 http://localhost:8000/api/support/my
2025-06-04 at 13:44:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:44:49 | INFO | main:24 - 📤 404 http://localhost:8000/api/support/my
2025-06-04 at 13:45:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:45:00 | INFO | main:24 - 📤 404 http://localhost:8000/api/support/my
2025-06-04 at 13:45:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:45:10 | INFO | main:24 - 📤 404 http://localhost:8000/api/support/my
2025-06-04 at 13:45:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:45:20 | INFO | main:24 - 📤 404 http://localhost:8000/api/support/my
2025-06-04 at 13:45:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:45:30 | INFO | main:24 - 📤 404 http://localhost:8000/api/support/my
2025-06-04 at 13:45:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:45:40 | INFO | main:24 - 📤 404 http://localhost:8000/api/support/my
2025-06-04 at 13:45:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:45:50 | INFO | main:24 - 📤 404 http://localhost:8000/api/support/my
2025-06-04 at 13:46:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:46:00 | INFO | main:24 - 📤 404 http://localhost:8000/api/support/my
2025-06-04 at 13:46:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:46:50 | INFO | main:24 - 📤 404 http://localhost:8000/api/support/my
2025-06-04 at 13:47:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:47:42 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:47:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 13:47:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 13:47:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 13:47:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 13:47:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:47:47 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:47:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:47:47 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:47:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:47:57 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:48:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:48:07 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:48:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:48:17 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:48:27 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:48:27 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:48:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:48:37 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:48:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:48:47 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:48:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:48:57 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:49:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:49:07 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:49:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:49:17 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:49:27 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:49:27 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:49:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:49:37 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:49:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:49:47 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:50:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:50:07 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:50:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:50:07 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:50:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:50:50 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:51:26 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:51:26 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:51:31 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 13:51:31 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 13:51:31 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 13:51:31 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 13:51:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 13:51:31 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 13:51:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 13:51:31 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 13:51:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:51:31 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:51:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:51:31 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:51:36 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 13:51:36 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 13:51:36 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 13:51:36 | ERROR | main:22 - ❌ Exception during request: (psycopg2.errors.NotNullViolation) null value in column "user_id" of relation "support_messages" violates not-null constraint
DETAIL:  Failing row contains (12, null, Проблема с заказом 😕, t, 2025-06-04 13:51:36.878338, new, null, null).

[SQL: INSERT INTO support_messages (user_id, message, is_from_user, created_at, status, admin_id, thread_id) VALUES (%(user_id)s, %(message)s, %(is_from_user)s, %(created_at)s, %(status)s, %(admin_id)s, %(thread_id)s) RETURNING support_messages.id]
[parameters: {'user_id': None, 'message': 'Проблема с заказом 😕', 'is_from_user': True, 'created_at': datetime.datetime(2025, 6, 4, 13, 51, 36, 878338), 'status': 'new', 'admin_id': None, 'thread_id': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fdae1629bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fdae12970d0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fdadc54afd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'user_id': None, 'message': 'Проблема с заказом 😕', 'is_from_user': True, 'created_at': datetime.datetime(2025, 6, 4, 13, 51...
    │      │       └ 'INSERT INTO support_messages (user_id, message, is_from_user, created_at, status, admin_id, thread_id) VALUES (%(user_id)s, ...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fdaddb2f100; closed: -1>

psycopg2.errors.NotNullViolation: null value in column "user_id" of relation "support_messages" violates not-null constraint
DETAIL:  Failing row contains (12, null, Проблема с заказом 😕, t, 2025-06-04 13:51:36.878338, new, null, null).



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7fdae419e0c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fdae426f6a0>
           └ <SpawnProcess name='SpawnProcess-4' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fdae426ec00>
    └ <SpawnProcess name='SpawnProcess-4' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fdae3f3cbd0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=7 started>
    │    └ <function subprocess_started at 0x7fdae33d6a20>
    └ <SpawnProcess name='SpawnProcess-4' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fdae3335390>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fdae33d5800>
           │       │   └ <uvicorn.server.Server object at 0x7fdae3335390>
           │       └ <function run at 0x7fdae373bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fdae329b4c0>
           │      └ <function Runner.run at 0x7fdae3793060>
           └ <asyncio.runners.Runner object at 0x7fdae3334990>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fdae2ec41e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fdae3334990>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fdade154250>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fdadc5493...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fdadc5...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fdae2dc3410>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fdade154250>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fdadc5493...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fdadc5...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fdadc5493...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fdadc5...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fdade0b1190>
          └ <fastapi.applications.FastAPI object at 0x7fdae2dc3410>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fdaddb45940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fdadc5...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fdade08de10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fdade0b1190>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fdaddb45bc0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fdadc549410>
                     │    └ <function log_requests at 0x7fdaddf67ce0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fdade08de10>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fdadc549410>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fdaddb45bc0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ IntegrityError('(psycopg2.errors.NotNullViolation) null value in column "user_id" of relation "support_messages" violates not...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fdaddb45f80>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fdaddb47600>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fdade5d5dd0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fdade08de10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '53', 'sec-ch-ua-platform': '"macOS"', 'user...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fdaddb45f80>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fdaddb47600>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7fdaddf676a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fdade5d5dd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fdade5d5dd0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fdaddb47600>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fdaddf94fd0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fdade5d5dd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fdade5d5dd0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fdaddb47600>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fdadc549b50>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fdae2daf190>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fdaddf94fd0>
          └ <function wrap_app_handling_exceptions at 0x7fdae21058a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fdaddb47880>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fdaddb47600>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fdae2daf190>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fdaddb47880>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fdaddb47600>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fdae2daf190>>
          └ <fastapi.routing.APIRouter object at 0x7fdae2daf190>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fdaddb47880>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fdaddb47600>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7fdae2106e80>
          └ APIRoute(path='/api/support/message', name='create_support_message', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fdaddb47880>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fdaddb47600>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fdaddfaa020>
          └ APIRoute(path='/api/support/message', name='create_support_message', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fdaddb47880>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fdaddb47600>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fdadc549c50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fdaddb479c0>
          └ <function wrap_app_handling_exceptions at 0x7fdae21058a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fdaddb45800>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fdaddb47600>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fdaddb479c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fdadc549c50>
                     └ <function get_request_handler.<locals>.app at 0x7fdaddfa9f80>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fdae2106980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.Session object at 0x7fdadc548290>, 'data': SupportMessageCreate(message='Проблема с заказом 😕'...
                 │         └ <function create_support_message at 0x7fdade077420>
                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...

  File "/app/app/routers/support.py", line 36, in create_support_message
    db.commit()
    │  └ <function Session.commit at 0x7fdae13062a0>
    └ <sqlalchemy.orm.session.Session object at 0x7fdadc548290>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x7fdae1305260>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7fdaddb3b520>
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7fdaddb3b520>
                └ <function SessionTransaction.commit at 0x7fdae13051c0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x7fdae1305080>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7fdaddb3b520>
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7fdaddb3b520>
                └ <function SessionTransaction._prepare_impl at 0x7fdae1304fe0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x7fdae13091c0>
    │    └ <sqlalchemy.orm.session.Session object at 0x7fdadc548290>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7fdaddb3b520>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x7fdae13093a0>
    └ <sqlalchemy.orm.session.Session object at 0x7fdadc548290>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x7fdadc54b800>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(psycopg2.errors.NotNullViolation) null value in column "user_id" of relation "support_messages" violates not...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x7fdae14ddc60>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fdadc51bf10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fdadc51bf10>
    │   └ <function SaveUpdateAll.execute at 0x7fdae14de7a0>
    └ SaveUpdateAll(Mapper[SupportMessage(support_messages)])
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x7fdae147bce0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py'>
    │    └ <module 'sqlalchemy.util.preloaded' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/preloaded.py'>
    └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x7fdae14ccb80>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0x7fdae176a160>
             └ <sqlalchemy.engine.base.Connection object at 0x7fdadc54afd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fdadc54b110>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fdae176a480>
           └ <sqlalchemy.engine.base.Connection object at 0x7fdadc54afd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fdae176a660>
          └ <sqlalchemy.engine.base.Connection object at 0x7fdadc54afd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7fdae176a700>
           └ <sqlalchemy.engine.base.Connection object at 0x7fdadc54afd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fdae176a980>
    └ <sqlalchemy.engine.base.Connection object at 0x7fdadc54afd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ NotNullViolation('null value in column "user_id" of relation "support_messages" violates not-null constraint\nDETAIL:  Failin...
          │                    │              └ (<class 'psycopg2.errors.NotNullViolation'>, NotNullViolation('null value in column "user_id" of relation "support_messages" ...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(psycopg2.errors.NotNullViolation) null value in column "user_id" of relation "support_messages" violates not...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fdae1629bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fdae12970d0>
    └ <sqlalchemy.engine.base.Connection object at 0x7fdadc54afd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'user_id': None, 'message': 'Проблема с заказом 😕', 'is_from_user': True, 'created_at': datetime.datetime(2025, 6, 4, 13, 51...
    │      │       └ 'INSERT INTO support_messages (user_id, message, is_from_user, created_at, status, admin_id, thread_id) VALUES (%(user_id)s, ...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fdaddb2f100; closed: -1>

sqlalchemy.exc.IntegrityError: (psycopg2.errors.NotNullViolation) null value in column "user_id" of relation "support_messages" violates not-null constraint
DETAIL:  Failing row contains (12, null, Проблема с заказом 😕, t, 2025-06-04 13:51:36.878338, new, null, null).

[SQL: INSERT INTO support_messages (user_id, message, is_from_user, created_at, status, admin_id, thread_id) VALUES (%(user_id)s, %(message)s, %(is_from_user)s, %(created_at)s, %(status)s, %(admin_id)s, %(thread_id)s) RETURNING support_messages.id]
[parameters: {'user_id': None, 'message': 'Проблема с заказом 😕', 'is_from_user': True, 'created_at': datetime.datetime(2025, 6, 4, 13, 51, 36, 878338), 'status': 'new', 'admin_id': None, 'thread_id': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-06-04 at 13:51:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:51:41 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:51:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:51:51 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:52:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:52:01 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:52:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:52:11 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:52:21 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:52:21 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 13:52:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 13:52:31 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:08:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:08:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:08:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:08:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:08:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:08:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:08:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:08:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 14:08:02 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/my
2025-06-04 at 14:08:02 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 14:08:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:08:03 | ERROR | main:22 - ❌ Exception during request: (psycopg2.errors.NotNullViolation) null value in column "user_id" of relation "support_messages" violates not-null constraint
DETAIL:  Failing row contains (13, null, Проблема с заказом 😕, t, 2025-06-04 14:08:03.255351, new, null, null).

[SQL: INSERT INTO support_messages (user_id, message, is_from_user, created_at, status, admin_id, thread_id) VALUES (%(user_id)s, %(message)s, %(is_from_user)s, %(created_at)s, %(status)s, %(admin_id)s, %(thread_id)s) RETURNING support_messages.id]
[parameters: {'user_id': None, 'message': 'Проблема с заказом 😕', 'is_from_user': True, 'created_at': datetime.datetime(2025, 6, 4, 14, 8, 3, 255351), 'status': 'new', 'admin_id': None, 'thread_id': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f33d2e19bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f33d2a87250>
    └ <sqlalchemy.engine.base.Connection object at 0x7f33cf383550>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'user_id': None, 'message': 'Проблема с заказом 😕', 'is_from_user': True, 'created_at': datetime.datetime(2025, 6, 4, 14, 8,...
    │      │       └ 'INSERT INTO support_messages (user_id, message, is_from_user, created_at, status, admin_id, thread_id) VALUES (%(user_id)s, ...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f33cf3206d0; closed: -1>

psycopg2.errors.NotNullViolation: null value in column "user_id" of relation "support_messages" violates not-null constraint
DETAIL:  Failing row contains (13, null, Проблема с заказом 😕, t, 2025-06-04 14:08:03.255351, new, null, null).



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f33d59920c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f33d5a6f6a0>
           └ <SpawnProcess name='SpawnProcess-7' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f33d5a6ec00>
    └ <SpawnProcess name='SpawnProcess-7' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f33d4d68a90>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-7' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-7' parent=7 started>
    │    └ <function subprocess_started at 0x7f33d4bd6a20>
    └ <SpawnProcess name='SpawnProcess-7' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f33d4b35310>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f33d4bd5800>
           │       │   └ <uvicorn.server.Server object at 0x7f33d4b35310>
           │       └ <function run at 0x7f33d4f3bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f33d4a9b4c0>
           │      └ <function Runner.run at 0x7f33d4f93060>
           └ <asyncio.runners.Runner object at 0x7f33d4b34a50>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f33d46b81e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f33d4b34a50>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f33cf948310>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f33cdd058...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f33cdd...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f33d45b01d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f33cf948310>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f33cdd058...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f33cdd...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f33cdd058...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f33cdd...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f33d459eb90>
          └ <fastapi.applications.FastAPI object at 0x7f33d45b01d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f33cdd3f2e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f33cdd...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f33cfdc5e90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f33d459eb90>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f33cdd5c860>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f33cdd93910>
                     │    └ <function log_requests at 0x7f33cf757ce0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f33cfdc5e90>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f33cdd93910>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f33cdd5c860>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ IntegrityError('(psycopg2.errors.NotNullViolation) null value in column "user_id" of relation "support_messages" violates not...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f33cdd5f1a0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f33cdd5c680>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f33cf73b850>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f33cfdc5e90>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '53', 'sec-ch-ua-platform': '"macOS"', 'user...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f33cdd5f1a0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f33cdd5c680>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f33cf7576a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f33cf73b850>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f33cf73b850>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f33cdd5c680>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f33cfdc5ad0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f33cf73b850>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f33cf73b850>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f33cdd5c680>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f33cf383f50>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f33d459f850>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f33cfdc5ad0>
          └ <function wrap_app_handling_exceptions at 0x7f33d37fd8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f33cf364fe0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f33cdd5c680>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f33d459f850>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f33cf364fe0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f33cdd5c680>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f33d459f850>>
          └ <fastapi.routing.APIRouter object at 0x7f33d459f850>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f33cf364fe0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f33cdd5c680>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7f33d37fee80>
          └ APIRoute(path='/api/support/message', name='create_support_message', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f33cf364fe0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f33cdd5c680>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f33cf79a020>
          └ APIRoute(path='/api/support/message', name='create_support_message', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f33cf364fe0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f33cdd5c680>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f33cdd79cd0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f33cf367740>
          └ <function wrap_app_handling_exceptions at 0x7f33d37fd8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f33cdd5fce0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f33cdd5c680>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f33cf367740>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f33cdd79cd0>
                     └ <function get_request_handler.<locals>.app at 0x7f33cf799f80>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f33d37fe980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.Session object at 0x7f33cdd4d690>, 'data': SupportMessageCreate(message='Проблема с заказом 😕'...
                 │         └ <function create_support_message at 0x7f33cf863420>
                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...

  File "/app/app/routers/support.py", line 36, in create_support_message
    db.commit()
    │  └ <function Session.commit at 0x7f33d2cf62a0>
    └ <sqlalchemy.orm.session.Session object at 0x7f33cdd4d690>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x7f33d2cf5260>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f33cdd668a0>
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f33cdd668a0>
                └ <function SessionTransaction.commit at 0x7f33d2cf51c0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x7f33d2cf5080>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f33cdd668a0>
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f33cdd668a0>
                └ <function SessionTransaction._prepare_impl at 0x7f33d2cf4fe0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x7f33d2cf91c0>
    │    └ <sqlalchemy.orm.session.Session object at 0x7f33cdd4d690>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7f33cdd668a0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x7f33d2cf93a0>
    └ <sqlalchemy.orm.session.Session object at 0x7f33cdd4d690>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x7f33cdda0740>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(psycopg2.errors.NotNullViolation) null value in column "user_id" of relation "support_messages" violates not...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x7f33d2ccdc60>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f33cdd89010>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7f33cdd89010>
    │   └ <function SaveUpdateAll.execute at 0x7f33d2cce7a0>
    └ SaveUpdateAll(Mapper[SupportMessage(support_messages)])
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x7f33d2c6bce0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py'>
    │    └ <module 'sqlalchemy.util.preloaded' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/preloaded.py'>
    └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x7f33d2cbcb80>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0x7f33d2f5a160>
             └ <sqlalchemy.engine.base.Connection object at 0x7f33cf383550>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7f33cdd91fd0>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f33d2f5a480>
           └ <sqlalchemy.engine.base.Connection object at 0x7f33cf383550>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f33d2f5a660>
          └ <sqlalchemy.engine.base.Connection object at 0x7f33cf383550>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7f33d2f5a700>
           └ <sqlalchemy.engine.base.Connection object at 0x7f33cf383550>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f33d2f5a980>
    └ <sqlalchemy.engine.base.Connection object at 0x7f33cf383550>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ NotNullViolation('null value in column "user_id" of relation "support_messages" violates not-null constraint\nDETAIL:  Failin...
          │                    │              └ (<class 'psycopg2.errors.NotNullViolation'>, NotNullViolation('null value in column "user_id" of relation "support_messages" ...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(psycopg2.errors.NotNullViolation) null value in column "user_id" of relation "support_messages" violates not...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f33d2e19bc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f33d2a87250>
    └ <sqlalchemy.engine.base.Connection object at 0x7f33cf383550>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'user_id': None, 'message': 'Проблема с заказом 😕', 'is_from_user': True, 'created_at': datetime.datetime(2025, 6, 4, 14, 8,...
    │      │       └ 'INSERT INTO support_messages (user_id, message, is_from_user, created_at, status, admin_id, thread_id) VALUES (%(user_id)s, ...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f33cf3206d0; closed: -1>

sqlalchemy.exc.IntegrityError: (psycopg2.errors.NotNullViolation) null value in column "user_id" of relation "support_messages" violates not-null constraint
DETAIL:  Failing row contains (13, null, Проблема с заказом 😕, t, 2025-06-04 14:08:03.255351, new, null, null).

[SQL: INSERT INTO support_messages (user_id, message, is_from_user, created_at, status, admin_id, thread_id) VALUES (%(user_id)s, %(message)s, %(is_from_user)s, %(created_at)s, %(status)s, %(admin_id)s, %(thread_id)s) RETURNING support_messages.id]
[parameters: {'user_id': None, 'message': 'Проблема с заказом 😕', 'is_from_user': True, 'created_at': datetime.datetime(2025, 6, 4, 14, 8, 3, 255351), 'status': 'new', 'admin_id': None, 'thread_id': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-06-04 at 14:08:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:08:50 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:09:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:09:50 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:10:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:10:19 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:10:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:10:20 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:10:25 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:10:25 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:10:25 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:10:25 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:10:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:10:39 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:10:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:10:39 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:10:42 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 14:10:44 | ERROR | main:22 - ❌ Exception during request: 1 validation errors:
  {'type': 'int_type', 'loc': ('response', 'user_id'), 'msg': 'Input should be a valid integer', 'input': None}

Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7f421509cf40>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f4215f1a0c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f4215feb6a0>
           └ <SpawnProcess name='SpawnProcess-11' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f4215feac00>
    └ <SpawnProcess name='SpawnProcess-11' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f4215321090>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-11' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-11' parent=7 started>
    │    └ <function subprocess_started at 0x7f421518ea20>
    └ <SpawnProcess name='SpawnProcess-11' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f42150c9610>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f421518d800>
           │       │   └ <uvicorn.server.Server object at 0x7f42150c9610>
           │       └ <function run at 0x7f4215517b00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f421502f4c0>
           │      └ <function Runner.run at 0x7f421556f060>
           └ <asyncio.runners.Runner object at 0x7f42150c8550>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f4214c4c1e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f42150c8550>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f42104705d0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f420f9520...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f420f9...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f4214b4f850>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f42104705d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f420f9520...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f420f9...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f420f9520...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f420f9...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f4214b3a490>
          └ <fastapi.applications.FastAPI object at 0x7f4214b4f850>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f420f9474c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f420f9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f42103d5e10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f4214b3a490>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f420f945f80>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f420f9524d0>
                     │    └ <function log_requests at 0x7f420fd67ce0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f42103d5e10>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f420f9524d0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f420f945f80>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ResponseValidationError()
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f420f945800>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f420f946b60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f420fd9f210>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f42103d5e10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '53', 'sec-ch-ua-platform': '"macOS"', 'user...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f420f945800>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f420f946b60>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f420fd676a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f420fd9f210>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f420fd9f210>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f420f946b60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f420fed0310>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f420fd9f210>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f420fd9f210>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f420f946b60>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f420f9535d0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f4213ebda10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f420fed0310>
          └ <function wrap_app_handling_exceptions at 0x7f4213e098a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f420f946ac0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f420f946b60>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f4213ebda10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f420f946ac0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f420f946b60>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f4213ebda10>>
          └ <fastapi.routing.APIRouter object at 0x7f4213ebda10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f420f946ac0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f420f946b60>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7f4213e0ae80>
          └ APIRoute(path='/api/support/message', name='create_support_message', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f420f946ac0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f420f946b60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f420fdaa020>
          └ APIRoute(path='/api/support/message', name='create_support_message', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f420f946ac0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f420f946b60>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f420f953b50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f420f945bc0>
          └ <function wrap_app_handling_exceptions at 0x7f4213e098a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f420f947920>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f420f946b60>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f420f945bc0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f420f953b50>
                     └ <function get_request_handler.<locals>.app at 0x7f420fda9f80>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
                    └ <function serialize_response at 0x7f4213e091c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
          └ <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'int_type', 'loc': ('response', 'user_id'), 'msg': 'Input should be a valid integer', 'input': None}

2025-06-04 at 14:10:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:10:49 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:10:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:10:59 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:11:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:11:09 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:11:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:11:19 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:11:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:11:29 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:11:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:11:39 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:11:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:11:49 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:11:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:11:59 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:12:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:12:09 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:12:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:12:09 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:12:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:12:19 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:12:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:12:29 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:12:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:12:39 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:12:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:12:49 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:12:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:12:59 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:13:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:13:09 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:13:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:13:19 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:13:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:13:50 | INFO | main:24 - 📤 403 http://localhost:8000/api/support/my
2025-06-04 at 14:14:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:14:39 | INFO | main:24 - 📤 401 http://localhost:8000/api/support/my
2025-06-04 at 14:14:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:14:46 | INFO | main:24 - 📤 401 http://localhost:8000/api/support/my
2025-06-04 at 14:14:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:14:46 | INFO | main:24 - 📤 401 http://localhost:8000/api/support/my
2025-06-04 at 14:14:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:14:56 | INFO | main:24 - 📤 401 http://localhost:8000/api/support/my
2025-06-04 at 14:15:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:15:06 | INFO | main:24 - 📤 401 http://localhost:8000/api/support/my
2025-06-04 at 14:15:16 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:15:16 | INFO | main:24 - 📤 401 http://localhost:8000/api/support/my
2025-06-04 at 14:15:26 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:15:26 | INFO | main:24 - 📤 401 http://localhost:8000/api/support/my
2025-06-04 at 14:15:36 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:15:36 | INFO | main:24 - 📤 401 http://localhost:8000/api/support/my
2025-06-04 at 14:15:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:15:46 | INFO | main:24 - 📤 401 http://localhost:8000/api/support/my
2025-06-04 at 14:15:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:15:56 | INFO | main:24 - 📤 401 http://localhost:8000/api/support/my
2025-06-04 at 14:16:43 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 14:16:45 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 14:16:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my
2025-06-04 at 14:16:45 | INFO | main:24 - 📤 401 http://localhost:8000/api/support/my
2025-06-04 at 15:27:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:27:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:27:18 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:27:18 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:27:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:27:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:27:29 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 15:27:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 15:27:29 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 15:27:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 15:27:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:27:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:27:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:27:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:27:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:27:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:27:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:27:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:28:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:28:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:28:18 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:28:18 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:28:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:28:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:28:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:28:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:28:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:28:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:29:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:29:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:30:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:30:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:30:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:30:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:30:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:30:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:30:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:30:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:31:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:31:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:31:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:31:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:31:27 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:31:27 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:31:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:31:37 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:31:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:31:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:32:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:32:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:32:12 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 15:32:12 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 15:32:16 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:32:16 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:32:26 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:32:26 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:32:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:32:37 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:32:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:32:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:32:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:32:56 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:33:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:33:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:33:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:33:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:33:27 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:33:27 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:33:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:33:37 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:33:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:33:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:33:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:33:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:34:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:34:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:35:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:35:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:36:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:36:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:37:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:37:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:38:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:38:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:39:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:39:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:40:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:40:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:41:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:41:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:42:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:42:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:43:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:43:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:44:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:44:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:45:23 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:45:23 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:45:27 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:45:27 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:45:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:45:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:45:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:45:45 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:45:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:45:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:45:57 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 15:45:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 15:45:57 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 15:45:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 15:45:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:45:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:46:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:46:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:46:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:46:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:46:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:46:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:46:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:46:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:46:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:46:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:46:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:46:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:47:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:47:05 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:47:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:47:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:47:25 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:47:25 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:47:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:47:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:47:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:47:45 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:47:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:47:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:48:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:48:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:49:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:49:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:50:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:50:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:50:52 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:50:52 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:50:52 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:50:52 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:50:59 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 15:51:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 15:51:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:51:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:51:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:51:02 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:51:12 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:51:12 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:51:23 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:51:23 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:51:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:51:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:51:43 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:51:43 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:51:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:51:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:52:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:52:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:52:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:52:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:52:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:52:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:52:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:52:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:52:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:52:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:52:33 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 15:52:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 15:52:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:52:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:52:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:52:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:52:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:52:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:52:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:52:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:52:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:52:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:53:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:53:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:53:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:53:10 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:53:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:53:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:53:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:53:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:53:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:53:40 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:53:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:53:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:54:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:54:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:55:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:55:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:56:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:56:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:57:52 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:57:52 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:58:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:58:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:58:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:58:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:58:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:58:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:58:27 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:58:27 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:58:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:58:37 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:58:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:58:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:58:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:58:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:58:57 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 15:58:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 15:58:57 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 15:58:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 15:58:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:58:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:59:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:59:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:59:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:59:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:59:23 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:59:23 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:59:33 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:59:33 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:59:43 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:59:43 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:59:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 15:59:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:00:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:00:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:00:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:00:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:00:23 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:00:23 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:00:33 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:00:33 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:00:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:00:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:01:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:01:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:02:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:02:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:03:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:03:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:04:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:04:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:05:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:05:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:06:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:06:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:07:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:07:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:08:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:08:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:09:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:09:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:10:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:10:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:11:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:11:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:12:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:12:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:17:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:17:45 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:17:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:17:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:18:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:18:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:18:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:18:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:18:18 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:18:18 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:18:23 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 16:18:23 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 16:18:23 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 16:18:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 16:18:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:18:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:18:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:18:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:18:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:18:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:18:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:18:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:18:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:18:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:19:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:19:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:19:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:19:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:19:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:19:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:19:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:19:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:19:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:19:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:23:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:23:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:24:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:24:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:25:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:25:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:26:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:26:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:27:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:27:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:27:21 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:27:21 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:27:24 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 16:27:25 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 16:27:25 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:27:25 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:27:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:27:31 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:27:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:27:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:27:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:27:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:28:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:28:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:28:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:28:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:28:21 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:28:21 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:28:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:28:31 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:28:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:28:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:29:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:29:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:30:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:30:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:31:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:31:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:32:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:32:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:32:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:32:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:32:33 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:32:33 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:32:37 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 16:32:37 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 16:32:37 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 16:32:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 16:32:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:32:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:32:43 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:32:43 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:32:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:32:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:33:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:33:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:33:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:33:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:33:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:33:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:33:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:33:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:33:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:33:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:33:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:33:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:34:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:34:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:34:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:34:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:34:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:34:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:35:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:35:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:36:43 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:36:43 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:36:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:36:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:36:55 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 16:36:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 16:36:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:36:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:36:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:36:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:37:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:37:10 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:37:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:37:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:37:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:37:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:37:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:37:40 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:37:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:37:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:38:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:38:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:38:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:38:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:39:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:39:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:40:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:40:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:41:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:41:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:41:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:41:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:42:01 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 16:42:02 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 16:42:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:42:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:42:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:42:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:42:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:42:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:42:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:42:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:42:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:42:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:42:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:42:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:42:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:42:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:43:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:43:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:43:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:43:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:44:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:44:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:44:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:44:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:44:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:44:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:44:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:44:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:44:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:44:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:44:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:44:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:45:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:45:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:45:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:45:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:46:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:46:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:47:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:47:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:48:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:48:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:48:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:48:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:48:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:48:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:48:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:48:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:48:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:48:40 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:48:45 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 16:48:45 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 16:48:45 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 16:48:45 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 16:48:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:48:45 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:48:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:48:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:49:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:49:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:49:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:49:10 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:49:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:49:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:49:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:49:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:49:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:49:40 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:49:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:49:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:49:50 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 16:49:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 16:49:52 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:49:52 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:50:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:50:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:50:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:50:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:50:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:50:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:50:55 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 16:50:56 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 16:50:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:50:56 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:51:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:51:02 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:51:12 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:51:12 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:51:22 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:51:22 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:51:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:51:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:51:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:51:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:51:52 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:51:52 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:52:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:52:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:54:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:54:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:54:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:54:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:54:23 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 16:54:23 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 16:54:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:54:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:54:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:54:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:54:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:54:40 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:54:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:54:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:55:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:55:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:55:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:55:10 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:55:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:55:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:55:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:55:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:55:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:55:40 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:55:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:55:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:56:01 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/auth/request-link
2025-06-04 at 16:56:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/request-link
2025-06-04 at 16:56:01 | INFO | main:18 - 📥 POST http://localhost:8000/api/auth/request-link
2025-06-04 at 16:56:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/request-link
2025-06-04 at 16:56:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/auth/verify?token=3c035957-4852-4cbb-ad87-1e43781a31ed
2025-06-04 at 16:56:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/verify?token=3c035957-4852-4cbb-ad87-1e43781a31ed
2025-06-04 at 16:56:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/auth/verify?token=3c035957-4852-4cbb-ad87-1e43781a31ed
2025-06-04 at 16:56:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/auth/verify?token=3c035957-4852-4cbb-ad87-1e43781a31ed
2025-06-04 at 16:56:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 16:56:42 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 16:56:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 16:56:42 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 16:56:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 16:56:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 16:56:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 16:56:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 16:56:43 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 16:56:43 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 16:56:43 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 16:56:43 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 16:57:04 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 16:57:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 16:57:04 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 16:57:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 16:57:04 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 16:57:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 16:57:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 16:57:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 16:57:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 16:57:04 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 16:57:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 16:57:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 16:57:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 16:57:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 16:57:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 16:57:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 16:57:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 16:57:05 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 16:57:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 16:57:05 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 16:57:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 16:57:10 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 16:57:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 16:57:10 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 16:57:14 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:57:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:57:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:57:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:57:17 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 16:57:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 16:57:17 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 16:57:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 16:57:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:57:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:57:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:57:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:57:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:57:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:57:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:57:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:57:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:57:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:58:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:58:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:58:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:58:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:58:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:58:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:59:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 16:59:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:00:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:00:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:01:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:01:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:01:02 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 17:01:02 | INFO | support:22 - [support_keyboard] user_id=None | guest_id=None
2025-06-04 at 17:01:02 | INFO | support:54 - [notify] reply_markup: None
2025-06-04 at 17:01:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 17:01:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:01:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:01:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:01:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:01:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:01:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:01:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:01:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:01:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:01:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:01:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:01:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:01:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:01:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:02:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:02:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:02:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:02:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:02:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:02:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:03:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:03:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:04:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:04:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:05:16 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:05:16 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:05:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:05:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:05:31 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 17:05:31 | INFO | support:22 - [support_keyboard] user_id=None | guest_id=None
2025-06-04 at 17:05:31 | INFO | support:54 - [notify] reply_markup: None
2025-06-04 at 17:05:31 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 17:05:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:05:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:05:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:05:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:05:38 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 17:05:38 | INFO | support:22 - [support_keyboard] user_id=None | guest_id=None
2025-06-04 at 17:05:38 | INFO | support:54 - [notify] reply_markup: None
2025-06-04 at 17:05:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 17:05:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:05:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:05:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:05:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:05:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:05:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:06:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:06:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:06:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:06:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:06:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:06:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:06:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:06:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:06:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:06:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:06:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:06:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:07:50 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:07:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:07:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:07:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:08:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:08:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:09:27 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 17:09:27 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 17:09:27 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 17:09:27 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 17:09:27 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 17:09:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 17:09:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 17:09:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 17:09:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:09:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:09:33 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message
2025-06-04 at 17:09:33 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 17:09:33 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 17:09:33 | INFO | support:56 - [notify] incoming: user_id=None | guest_id=None | message='Сотрудничество 🤝'
2025-06-04 at 17:09:33 | INFO | support:26 - [support_keyboard] user_id=None | guest_id=None
2025-06-04 at 17:09:33 | INFO | support:67 - [notify] reply_markup: None
2025-06-04 at 17:09:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message
2025-06-04 at 17:09:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:09:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:09:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:09:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:09:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:09:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:09:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:09:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:10:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:10:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:10:18 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:10:18 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:10:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:10:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:10:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:10:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:10:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:10:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:10:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:10:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:11:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:11:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:12:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:12:31 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:12:32 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message
2025-06-04 at 17:12:32 | ERROR | main:22 - ❌ Exception during request: 'SupportMessageCreate' object has no attribute 'guest_id'
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7f1929204f40>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f192a0920c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f192a16f6a0>
           └ <SpawnProcess name='SpawnProcess-2' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f192a16ec00>
    └ <SpawnProcess name='SpawnProcess-2' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f192946c910>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=7 started>
    │    └ <function subprocess_started at 0x7f19292daa20>
    └ <SpawnProcess name='SpawnProcess-2' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f1929231310>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f19292d9800>
           │       │   └ <uvicorn.server.Server object at 0x7f1929231310>
           │       └ <function run at 0x7f1929b07b00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f19291974c0>
           │      └ <function Runner.run at 0x7f1929b5f060>
           └ <asyncio.runners.Runner object at 0x7f192a2845d0>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f1928db41e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f192a2845d0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1923fb2090>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1922f3b3...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1922f...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1928c9f690>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1923fb2090>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1922f3b3...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1922f...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1922f3b3...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1922f...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1924106dd0>
          └ <fastapi.applications.FastAPI object at 0x7f1928c9f690>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f1922f28900>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f1922f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f19245f30d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1924106dd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f1922f28ae0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f1922f3b350>
                     │    └ <function log_requests at 0x7f1923bbc040>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f19245f30d0>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f1922f3b350>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f1922f28ae0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ AttributeError("'SupportMessageCreate' object has no attribute 'guest_id'")
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f1922f5dd00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f1922f5efc0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f1923b35fd0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f19245f30d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '72', 'sec-ch-ua-platform': '"macOS"', 'auth...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f1922f5dd00>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f1922f5efc0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f1923b7b9c0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f1923b35fd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f1923b35fd0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f1922f5efc0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f1923f9fad0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f1923b35fd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f1923b35fd0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f1922f5efc0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f1922f5afd0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f1923b6d150>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f1923f9fad0>
          └ <function wrap_app_handling_exceptions at 0x7f1927fc98a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f1922f5dbc0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f1922f5efc0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f1923b6d150>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f1922f5dbc0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f1922f5efc0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f1923b6d150>>
          └ <fastapi.routing.APIRouter object at 0x7f1923b6d150>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f1922f5dbc0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f1922f5efc0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7f1927fcae80>
          └ APIRoute(path='/api/support/message', name='create_support_message', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f1922f5dbc0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f1922f5efc0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f1923bbe340>
          └ APIRoute(path='/api/support/message', name='create_support_message', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f1922f5dbc0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f1922f5efc0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f1922f6d210>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f1922f5dc60>
          └ <function wrap_app_handling_exceptions at 0x7f1927fc98a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f1922fcb880>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f1922f5efc0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f1922f5dc60>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f1922f6d210>
                     └ <function get_request_handler.<locals>.app at 0x7f1923bbe2a0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f1927fca980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.Session object at 0x7f1922fd03d0>, 'data': SupportMessageCreate(message='цйцй'), 'request': <s...
                 │         └ <function create_support_message at 0x7f1923f93920>
                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...

  File "/app/app/routers/support.py", line 28, in create_support_message
    guest_id: Optional[str] = data.guest_id
              │               └ SupportMessageCreate(message='цйцй')
              └ typing.Optional

  File "/usr/local/lib/python3.11/site-packages/pydantic/main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')

AttributeError: 'SupportMessageCreate' object has no attribute 'guest_id'
2025-06-04 at 17:12:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:12:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:12:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:12:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:12:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:12:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:13:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:13:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:13:18 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:13:18 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:13:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:13:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:13:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:13:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:13:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:13:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:14:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:14:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:14:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:14:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:14:53 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:14:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:14:53 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:14:53 | INFO | support:56 - [notify] incoming: user_id=None | guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5 | message='гого'
2025-06-04 at 17:14:53 | INFO | support:26 - [support_keyboard] user_id=None | guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:14:53 | INFO | support:67 - [notify] reply_markup: inline_keyboard=[[InlineKeyboardButton(text='✉️ Ответить', url=None, callback_data='support_reply_guest_36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='✅ Закрыть', url=None, callback_data='support_resolve_guest_36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-04 at 17:14:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:14:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:14:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:14:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:14:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:15:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:15:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:15:18 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:15:18 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:15:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:15:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:15:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:15:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:15:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:15:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:15:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:15:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:16:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:16:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:16:18 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:16:18 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:17:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:17:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:17:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 17:17:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 17:17:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 17:17:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 17:17:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:17:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:17:48 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:17:48 | INFO | support:56 - [notify] incoming: user_id=None | guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5 | message='салам'
2025-06-04 at 17:17:48 | INFO | support:26 - [support_keyboard] user_id=None | guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:17:48 | INFO | support:67 - [notify] reply_markup: inline_keyboard=[[InlineKeyboardButton(text='✉️ Ответить', url=None, callback_data='support_reply_guest_36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='✅ Закрыть', url=None, callback_data='support_resolve_guest_36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-04 at 17:17:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:17:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:17:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:17:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:17:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:18:00 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:18:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:18:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:18:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:18:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:18:10 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:18:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:18:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:18:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:18:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:18:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:18:40 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:18:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:18:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:19:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:19:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:20:12 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:20:12 | INFO | support:56 - [notify] incoming: user_id=None | guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5 | message='ау'
2025-06-04 at 17:20:12 | INFO | support:26 - [support_keyboard] user_id=None | guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:20:12 | INFO | support:67 - [notify] reply_markup: inline_keyboard=[[InlineKeyboardButton(text='✉️ Ответить', url=None, callback_data='support_reply_guest_36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='✅ Закрыть', url=None, callback_data='support_resolve_guest_36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-04 at 17:20:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:20:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:20:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:20:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:20:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:20:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:20:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:20:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:20:40 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:20:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:20:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:21:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:21:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:21:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:21:10 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:21:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:21:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:21:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:21:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:24:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:24:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:24:27 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:24:27 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:24:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:24:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:24:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 17:24:37 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 17:24:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 17:24:37 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 17:24:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 17:24:37 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 17:24:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 17:24:37 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 17:24:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 17:24:38 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 17:24:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 17:24:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 17:24:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:24:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:24:57 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/message?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:24:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:24:57 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:24:57 | INFO | support:56 - [notify] incoming: user_id=None | guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5 | message='жм'
2025-06-04 at 17:24:57 | INFO | support:26 - [support_keyboard] user_id=None | guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:24:57 | INFO | support:67 - [notify] reply_markup: inline_keyboard=[[InlineKeyboardButton(text='✉️ Ответить', url=None, callback_data='support_reply_guest_36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='✅ Закрыть', url=None, callback_data='support_resolve_guest_36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-04 at 17:24:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:24:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:24:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:25:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:25:05 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:25:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:25:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:25:21 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:25:21 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:25:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:25:31 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:25:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:25:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:25:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:25:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:26:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:26:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:26:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:26:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:26:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:26:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:27:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:27:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:27:46 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 17:27:46 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 17:27:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 17:27:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 17:27:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 17:27:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 17:27:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 17:27:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 17:27:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:27:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:27:50 | INFO | main:18 - 📥 POST http://localhost:8000/api/support/message?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:27:50 | INFO | support:56 - [notify] incoming: user_id=None | guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5 | message='жма'
2025-06-04 at 17:27:50 | INFO | support:26 - [support_keyboard] user_id=None | guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:27:50 | INFO | support:67 - [notify] reply_markup: inline_keyboard=[[InlineKeyboardButton(text='✉️ Ответить', url=None, callback_data='support_reply_guest_36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='✅ Закрыть', url=None, callback_data='support_resolve_guest_36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-04 at 17:27:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/message?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:27:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:27:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:27:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:27:56 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:28:06 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:28:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:28:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:28:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:28:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:28:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:28:27 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:28:27 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:28:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:28:37 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:28:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:28:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:28:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:28:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:29:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:29:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:29:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:29:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:30:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:30:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:31:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:31:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:32:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:32:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:33:18 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:33:18 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-04 at 17:33:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 17:33:20 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 17:33:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 17:33:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 17:33:20 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 17:33:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 17:33:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 17:33:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 17:33:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 17:33:20 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 17:33:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 17:33:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 17:33:21 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=%D1%83%D1%86%D0%BA
2025-06-04 at 17:33:21 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=%D1%83%D1%86%D0%BA
2025-06-04 at 17:33:21 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=%D1%83%D1%86%D0%BA
2025-06-04 at 17:33:21 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=%D1%83%D1%86%D0%BA
2025-06-04 at 17:33:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 17:33:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 17:33:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 17:33:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:37:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 19:37:06 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 19:37:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 19:37:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 19:37:06 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 19:37:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 19:37:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 19:37:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 19:37:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 19:37:07 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 19:37:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 19:37:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 19:39:51 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 19:39:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:39:51 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 19:39:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:39:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 19:39:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:39:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 19:39:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:39:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 19:39:53 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 19:39:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 19:39:53 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 19:39:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 19:39:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 19:39:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 19:39:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 19:39:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 19:39:53 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 19:39:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 19:39:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 19:40:43 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 19:40:43 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:40:43 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 19:40:43 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:40:43 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 19:40:43 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:40:43 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 19:40:43 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:56:07 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 19:56:07 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 19:56:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:56:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:56:07 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 19:56:07 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 19:56:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 19:56:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:56:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:56:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:56:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 19:56:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:56:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 19:56:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:56:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 19:56:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:56:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 19:56:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:56:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 19:56:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:56:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 19:56:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:56:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 19:56:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:56:13 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games
2025-06-04 at 19:56:13 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games
2025-06-04 at 19:56:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games
2025-06-04 at 19:56:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games
2025-06-04 at 19:56:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-04 at 19:56:13 | INFO | main:24 - 📤 404 http://localhost:8000/api/admin/games
2025-06-04 at 19:56:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-04 at 19:56:14 | INFO | main:24 - 📤 404 http://localhost:8000/api/admin/games
2025-06-04 at 19:56:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 19:56:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:56:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 19:56:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:56:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 19:56:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:56:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 19:56:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:56:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-04 at 19:56:42 | INFO | main:24 - 📤 404 http://localhost:8000/api/admin/games
2025-06-04 at 19:56:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-04 at 19:56:42 | INFO | main:24 - 📤 404 http://localhost:8000/api/admin/games
2025-06-04 at 19:58:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 19:58:45 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:58:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 19:58:45 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:58:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 19:58:45 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:58:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 19:58:45 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 19:58:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-04 at 19:58:45 | INFO | main:24 - 📤 404 http://localhost:8000/api/admin/games
2025-06-04 at 19:58:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-04 at 19:58:45 | INFO | main:24 - 📤 404 http://localhost:8000/api/admin/games
2025-06-04 at 20:01:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:01:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:01:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:01:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:01:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:01:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-04 at 20:01:11 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-04 at 20:01:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-04 at 20:01:11 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-04 at 20:01:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:01:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:01:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:01:11 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games/
2025-06-04 at 20:01:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-04 at 20:01:11 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games/
2025-06-04 at 20:01:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-04 at 20:01:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-04 at 20:01:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-04 at 20:01:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-04 at 20:01:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-04 at 20:02:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:02:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:02:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:02:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:02:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:02:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:02:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:02:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:02:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-04 at 20:02:05 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-04 at 20:02:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-04 at 20:02:05 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-04 at 20:02:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-04 at 20:02:05 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-04 at 20:02:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-04 at 20:02:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-04 at 20:03:56 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games
2025-06-04 at 20:03:56 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games
2025-06-04 at 20:03:56 | INFO | main:18 - 📥 POST http://localhost:8000/api/admin/games
2025-06-04 at 20:03:56 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-04 at 20:03:56 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games/
2025-06-04 at 20:03:56 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-04 at 20:03:56 | INFO | main:18 - 📥 POST http://localhost:8000/api/admin/games/
2025-06-04 at 20:03:56 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-04 at 20:03:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-04 at 20:03:56 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-04 at 20:03:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-04 at 20:03:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-04 at 20:03:56 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-04 at 20:03:56 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-04 at 20:03:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-04 at 20:03:56 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-04 at 20:04:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:04:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 20:04:04 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 20:04:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 20:04:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 20:04:04 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 20:04:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:04:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:04:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:04:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 20:04:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 20:04:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 20:04:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 20:04:04 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 20:04:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 20:04:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 20:04:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:04:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 20:04:37 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 20:04:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 20:04:37 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 20:04:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 20:04:37 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:04:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:04:37 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 20:04:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 20:04:37 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:04:37 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 20:04:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 20:04:38 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 20:04:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 20:04:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 20:04:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/2
2025-06-04 at 20:04:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/2
2025-06-04 at 20:04:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/2
2025-06-04 at 20:04:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/2
2025-06-04 at 20:04:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 20:04:57 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 20:04:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 20:04:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 20:04:57 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 20:04:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 20:04:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 20:04:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 20:04:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 20:04:57 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 20:04:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 20:04:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 20:04:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-04 at 20:04:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-04 at 20:04:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-04 at 20:04:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-04 at 20:05:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 20:05:00 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 20:05:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 20:05:00 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 20:05:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 20:05:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 20:05:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 20:05:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 20:05:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-04 at 20:05:00 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-04 at 20:05:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-04 at 20:05:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-04 at 20:05:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/2
2025-06-04 at 20:05:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/2
2025-06-04 at 20:05:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/2
2025-06-04 at 20:05:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/2
2025-06-04 at 20:11:04 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles
2025-06-04 at 20:11:04 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles
2025-06-04 at 20:11:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles
2025-06-04 at 20:11:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles
2025-06-04 at 20:11:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-04 at 20:11:04 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-04 at 20:11:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-04 at 20:11:04 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles/
2025-06-04 at 20:11:04 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-04 at 20:11:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-04 at 20:11:04 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles/
2025-06-04 at 20:11:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-04 at 20:11:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-04 at 20:11:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-04 at 20:11:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-04 at 20:11:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-04 at 20:11:08 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/products
2025-06-04 at 20:11:08 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/products
2025-06-04 at 20:11:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products
2025-06-04 at 20:11:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products
2025-06-04 at 20:11:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products
2025-06-04 at 20:11:09 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/products
2025-06-04 at 20:11:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products
2025-06-04 at 20:11:09 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/products
2025-06-04 at 20:11:09 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/products/
2025-06-04 at 20:11:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-04 at 20:11:09 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/products/
2025-06-04 at 20:11:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-04 at 20:11:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-04 at 20:11:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-04 at 20:11:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-04 at 20:11:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-04 at 20:13:53 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 20:13:53 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 20:13:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:13:53 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 20:13:53 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 20:13:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:13:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:13:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:13:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:13:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:13:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:13:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:13:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:13:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products
2025-06-04 at 20:13:53 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/products
2025-06-04 at 20:13:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:13:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products
2025-06-04 at 20:13:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:13:53 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/products
2025-06-04 at 20:13:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-04 at 20:13:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:13:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-04 at 20:13:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-04 at 20:13:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-04 at 20:14:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:14:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:14:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:14:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:14:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:14:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:14:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:14:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:14:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products
2025-06-04 at 20:14:01 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/products
2025-06-04 at 20:14:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products
2025-06-04 at 20:14:01 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/products
2025-06-04 at 20:14:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-04 at 20:14:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-04 at 20:14:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-04 at 20:14:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-04 at 20:14:22 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products
2025-06-04 at 20:14:22 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/products
2025-06-04 at 20:14:22 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-04 at 20:14:22 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products
2025-06-04 at 20:14:22 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/products
2025-06-04 at 20:14:22 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-04 at 20:14:22 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-04 at 20:14:22 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-04 at 20:14:27 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:14:27 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:14:27 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:14:27 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:14:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:14:35 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:14:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:14:35 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:14:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:14:35 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:14:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:14:35 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:14:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products
2025-06-04 at 20:14:35 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/products
2025-06-04 at 20:14:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products
2025-06-04 at 20:14:35 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/products
2025-06-04 at 20:14:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-04 at 20:14:35 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-04 at 20:14:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-04 at 20:14:35 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-04 at 20:14:44 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games
2025-06-04 at 20:14:44 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games
2025-06-04 at 20:14:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games
2025-06-04 at 20:14:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games
2025-06-04 at 20:14:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-04 at 20:14:44 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-04 at 20:14:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-04 at 20:14:44 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games/
2025-06-04 at 20:14:44 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-04 at 20:14:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-04 at 20:14:44 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games/
2025-06-04 at 20:14:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-04 at 20:14:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-04 at 20:14:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-04 at 20:14:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-04 at 20:14:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-04 at 20:14:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products
2025-06-04 at 20:14:48 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/products
2025-06-04 at 20:14:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products
2025-06-04 at 20:14:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-04 at 20:14:48 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/products
2025-06-04 at 20:14:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-04 at 20:14:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-04 at 20:14:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-04 at 20:17:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:17:37 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:17:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:17:37 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:17:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:17:37 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:17:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:17:37 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:28:48 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games
2025-06-04 at 20:28:48 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games
2025-06-04 at 20:28:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games
2025-06-04 at 20:28:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games
2025-06-04 at 20:28:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-04 at 20:28:48 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-04 at 20:28:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-04 at 20:28:48 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-04 at 20:28:48 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games/
2025-06-04 at 20:28:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-04 at 20:28:48 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games/
2025-06-04 at 20:28:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-04 at 20:28:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-04 at 20:28:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-04 at 20:28:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-04 at 20:28:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-04 at 20:32:36 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders
2025-06-04 at 20:32:36 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders
2025-06-04 at 20:32:36 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders
2025-06-04 at 20:32:36 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders
2025-06-04 at 20:32:36 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders
2025-06-04 at 20:32:36 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/orders
2025-06-04 at 20:32:36 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders
2025-06-04 at 20:32:36 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/orders
2025-06-04 at 20:32:36 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders/
2025-06-04 at 20:32:36 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/
2025-06-04 at 20:32:36 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders/
2025-06-04 at 20:32:36 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/
2025-06-04 at 20:32:36 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders/
2025-06-04 at 20:32:36 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/
2025-06-04 at 20:32:47 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders?status=pending
2025-06-04 at 20:32:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders?status=pending
2025-06-04 at 20:32:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders?status=pending
2025-06-04 at 20:32:47 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/orders?status=pending
2025-06-04 at 20:32:47 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders/?status=pending
2025-06-04 at 20:32:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/?status=pending
2025-06-04 at 20:32:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders/?status=pending
2025-06-04 at 20:32:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/?status=pending
2025-06-04 at 20:32:50 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders?status=completed
2025-06-04 at 20:32:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders?status=completed
2025-06-04 at 20:32:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders?status=completed
2025-06-04 at 20:32:50 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/orders?status=completed
2025-06-04 at 20:32:50 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders/?status=completed
2025-06-04 at 20:32:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/?status=completed
2025-06-04 at 20:32:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders/?status=completed
2025-06-04 at 20:32:50 | ERROR | main:22 - ❌ Exception during request: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum orderstatus: "completed"
LINE 3: WHERE orders.status = 'completed' ORDER BY orders.created_at...
                              ^

[SQL: SELECT orders.id AS orders_id, orders.user_id AS orders_user_id, orders.game_id AS orders_game_id, orders.product_id AS orders_product_id, orders.manual_game_name AS orders_manual_game_name, orders.amount AS orders_amount, orders.currency AS orders_currency, orders.status AS orders_status, orders.payment_method AS orders_payment_method, orders.transaction_id AS orders_transaction_id, orders.auto_processed AS orders_auto_processed, orders.comment AS orders_comment, orders.created_at AS orders_created_at, orders.updated_at AS orders_updated_at 
FROM orders 
WHERE orders.status = %(status_1)s ORDER BY orders.created_at DESC]
[parameters: {'status_1': 'completed'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f5aaa11dbc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f5aa9d8b410>
    └ <sqlalchemy.engine.base.Connection object at 0x7f5aa4726ad0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'status_1': 'completed'}
    │      │       └ 'SELECT orders.id AS orders_id, orders.user_id AS orders_user_id, orders.game_id AS orders_game_id, orders.product_id AS orde...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f5aa51ce2f0; closed: -1>

psycopg2.errors.InvalidTextRepresentation: invalid input value for enum orderstatus: "completed"
LINE 3: WHERE orders.status = 'completed' ORDER BY orders.created_at...
                              ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f5aacd5e0c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f5aace2f6a0>
           └ <SpawnProcess name='SpawnProcess-11' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f5aace2ec00>
    └ <SpawnProcess name='SpawnProcess-11' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f5aacb0cbd0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-11' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-11' parent=7 started>
    │    └ <function subprocess_started at 0x7f5aabfd6a20>
    └ <SpawnProcess name='SpawnProcess-11' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f5aabf0d390>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f5aabfd5800>
           │       │   └ <uvicorn.server.Server object at 0x7f5aabf0d390>
           │       └ <function run at 0x7f5aac33bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f5aabe734c0>
           │      └ <function Runner.run at 0x7f5aac393060>
           └ <asyncio.runners.Runner object at 0x7f5aabf0c990>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f5aaba901e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f5aabf0c990>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5aaba86690>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5aa51ebb...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5aa51...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5aab993110>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5aaba86690>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5aa51ebb...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5aa51...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5aa51ebb...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5aa51...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5aa6701d10>
          └ <fastapi.applications.FastAPI object at 0x7f5aab993110>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f5aa51a9d00>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5aa51...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f5aa71c9290>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5aa6701d10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f5aa51aafc0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f5aa4715410>
                     │    └ <function log_requests at 0x7f5aa6bb5e40>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f5aa71c9290>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f5aa4715410>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f5aa51aafc0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum orderstatus: "completed"\nLINE 3: WHERE o...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f5aa51fc7c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5aa51aa3e0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5aa6ca2b50>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f5aa71c9290>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'authorization': 'Bearer eyJh...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f5aa51fc7c0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5aa51aa3e0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f5aa6bb58a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5aa6ca2b50>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f5aa6ca2b50>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5aa51aa3e0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f5aa71ca910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5aa6ca2b50>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f5aa6ca2b50>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5aa51aa3e0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f5aa4726150>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f5aa6c8db10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f5aa71ca910>
          └ <function wrap_app_handling_exceptions at 0x7f5aaabfd8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5aa51fc0e0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5aa51aa3e0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f5aa6c8db10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5aa51fc0e0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5aa51aa3e0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f5aa6c8db10>>
          └ <fastapi.routing.APIRouter object at 0x7f5aa6c8db10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5aa51fc0e0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5aa51aa3e0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7f5aaabfee80>
          └ APIRoute(path='/api/admin/orders/', name='list_orders', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5aa51fc0e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5aa51aa3e0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f5aa67094e0>
          └ APIRoute(path='/api/admin/orders/', name='list_orders', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5aa51fc0e0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5aa51aa3e0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f5aa4725b50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f5aa51fd120>
          └ <function wrap_app_handling_exceptions at 0x7f5aaabfd8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5aa51fc360>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5aa51aa3e0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f5aa51fd120>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f5aa4725b50>
                     └ <function get_request_handler.<locals>.app at 0x7f5aa6709300>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f5aaabfe980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f5aa5193d10>, 'admin': <app.models.user.User object at 0x7f5aa4727790>, '...
                 │                 │         └ <function list_orders at 0x7f5aa6cc2a20>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(None), name='status', mode='validation')], header_params=...
                 └ <function run_in_threadpool at 0x7f5aab0eb1a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function list_orders at 0x7f5aa6cc2a20>, db=<sqlalchemy.orm.session.Session object at 0x7f5aa5193d10>, adm...
                 │     │         └ <function run_sync at 0x7f5aac07e160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f5aac0372e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum orderstatus: "...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/admin/orders.py", line 25, in list_orders
    return query.order_by(Order.created_at.desc()).all()
           │     │        │     │          └ <function ColumnOperators.desc at 0x7f5aaa9d0040>
           │     │        │     └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f5aa97a7600>
           │     │        └ <class 'app.models.order.Order'>
           │     └ <function Query.order_by at 0x7f5aa9f5c680>
           └ <sqlalchemy.orm.query.Query object at 0x7f5aa4726790>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           │    └ <function Query._iter at 0x7f5aa9f5eca0>
           └ <sqlalchemy.orm.query.Query object at 0x7f5aa4727810>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
            │                  │    │      │      │    │       └ <function Session.execute at 0x7f5aa9ffaa20>
            │                  │    │      │      │    └ <sqlalchemy.orm.session.Session object at 0x7f5aa5193d10>
            │                  │    │      │      └ <sqlalchemy.orm.query.Query object at 0x7f5aa4727810>
            │                  │    │      └ ~_T
            │                  │    └ <class 'sqlalchemy.engine.result.Result'>
            │                  └ ~_T
            └ typing.Union
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x7f5aa9ffa700>
           └ <sqlalchemy.orm.session.Session object at 0x7f5aa5193d10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x7f5aaa04f920>)>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x7f5aaa25e160>
             └ <sqlalchemy.engine.base.Connection object at 0x7f5aa4726ad0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7f5aa4725150>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f5aaa25e480>
           └ <sqlalchemy.engine.base.Connection object at 0x7f5aa4726ad0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f5aaa25e660>
          └ <sqlalchemy.engine.base.Connection object at 0x7f5aa4726ad0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7f5aaa25e700>
           └ <sqlalchemy.engine.base.Connection object at 0x7f5aa4726ad0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f5aaa25e980>
    └ <sqlalchemy.engine.base.Connection object at 0x7f5aa4726ad0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ InvalidTextRepresentation('invalid input value for enum orderstatus: "completed"\nLINE 3: WHERE orders.status = \'completed\'...
          │                    │              └ (<class 'psycopg2.errors.InvalidTextRepresentation'>, InvalidTextRepresentation('invalid input value for enum orderstatus: "c...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum orderstatus: "completed"\nLINE 3: WHERE o...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f5aaa11dbc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f5aa9d8b410>
    └ <sqlalchemy.engine.base.Connection object at 0x7f5aa4726ad0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'status_1': 'completed'}
    │      │       └ 'SELECT orders.id AS orders_id, orders.user_id AS orders_user_id, orders.game_id AS orders_game_id, orders.product_id AS orde...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f5aa51ce2f0; closed: -1>

sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum orderstatus: "completed"
LINE 3: WHERE orders.status = 'completed' ORDER BY orders.created_at...
                              ^

[SQL: SELECT orders.id AS orders_id, orders.user_id AS orders_user_id, orders.game_id AS orders_game_id, orders.product_id AS orders_product_id, orders.manual_game_name AS orders_manual_game_name, orders.amount AS orders_amount, orders.currency AS orders_currency, orders.status AS orders_status, orders.payment_method AS orders_payment_method, orders.transaction_id AS orders_transaction_id, orders.auto_processed AS orders_auto_processed, orders.comment AS orders_comment, orders.created_at AS orders_created_at, orders.updated_at AS orders_updated_at 
FROM orders 
WHERE orders.status = %(status_1)s ORDER BY orders.created_at DESC]
[parameters: {'status_1': 'completed'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-06-04 at 20:32:51 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders?status=canceled
2025-06-04 at 20:32:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders?status=canceled
2025-06-04 at 20:32:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders?status=canceled
2025-06-04 at 20:32:51 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/orders?status=canceled
2025-06-04 at 20:32:51 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders/?status=canceled
2025-06-04 at 20:32:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/?status=canceled
2025-06-04 at 20:32:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders/?status=canceled
2025-06-04 at 20:32:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/?status=canceled
2025-06-04 at 20:32:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders?status=completed
2025-06-04 at 20:32:53 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/orders?status=completed
2025-06-04 at 20:32:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders/?status=completed
2025-06-04 at 20:32:53 | ERROR | main:22 - ❌ Exception during request: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum orderstatus: "completed"
LINE 3: WHERE orders.status = 'completed' ORDER BY orders.created_at...
                              ^

[SQL: SELECT orders.id AS orders_id, orders.user_id AS orders_user_id, orders.game_id AS orders_game_id, orders.product_id AS orders_product_id, orders.manual_game_name AS orders_manual_game_name, orders.amount AS orders_amount, orders.currency AS orders_currency, orders.status AS orders_status, orders.payment_method AS orders_payment_method, orders.transaction_id AS orders_transaction_id, orders.auto_processed AS orders_auto_processed, orders.comment AS orders_comment, orders.created_at AS orders_created_at, orders.updated_at AS orders_updated_at 
FROM orders 
WHERE orders.status = %(status_1)s ORDER BY orders.created_at DESC]
[parameters: {'status_1': 'completed'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f5aaa11dbc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f5aa9d8b410>
    └ <sqlalchemy.engine.base.Connection object at 0x7f5aa4452910>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'status_1': 'completed'}
    │      │       └ 'SELECT orders.id AS orders_id, orders.user_id AS orders_user_id, orders.game_id AS orders_game_id, orders.product_id AS orde...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f5aa51ce3e0; closed: -1>

psycopg2.errors.InvalidTextRepresentation: invalid input value for enum orderstatus: "completed"
LINE 3: WHERE orders.status = 'completed' ORDER BY orders.created_at...
                              ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f5aacd5e0c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f5aace2f6a0>
           └ <SpawnProcess name='SpawnProcess-11' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f5aace2ec00>
    └ <SpawnProcess name='SpawnProcess-11' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f5aacb0cbd0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-11' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-11' parent=7 started>
    │    └ <function subprocess_started at 0x7f5aabfd6a20>
    └ <SpawnProcess name='SpawnProcess-11' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f5aabf0d390>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f5aabfd5800>
           │       │   └ <uvicorn.server.Server object at 0x7f5aabf0d390>
           │       └ <function run at 0x7f5aac33bb00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f5aabe734c0>
           │      └ <function Runner.run at 0x7f5aac393060>
           └ <asyncio.runners.Runner object at 0x7f5aabf0c990>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f5aaba901e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f5aabf0c990>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5aaba86690>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5aa4423e...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5aa44...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5aab993110>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5aaba86690>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5aa4423e...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5aa44...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5aa4423e...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5aa44...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5aa6701d10>
          └ <fastapi.applications.FastAPI object at 0x7f5aab993110>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f5aa51ff600>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5aa44...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f5aa71c9290>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5aa6701d10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f5aa51ff380>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f5aa44502d0>
                     │    └ <function log_requests at 0x7f5aa6bb5e40>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f5aa71c9290>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f5aa44502d0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f5aa51ff380>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum orderstatus: "completed"\nLINE 3: WHERE o...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f5aa51ff100>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5aa51ff1a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5aa6ca2b50>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f5aa71c9290>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'authorization': 'Bearer eyJh...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f5aa51ff100>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5aa51ff1a0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f5aa6bb58a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5aa6ca2b50>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f5aa6ca2b50>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5aa51ff1a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f5aa71ca910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5aa6ca2b50>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f5aa6ca2b50>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5aa51ff1a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f5aa44504d0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f5aa6c8db10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f5aa71ca910>
          └ <function wrap_app_handling_exceptions at 0x7f5aaabfd8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5aa51ff6a0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5aa51ff1a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f5aa6c8db10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5aa51ff6a0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5aa51ff1a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f5aa6c8db10>>
          └ <fastapi.routing.APIRouter object at 0x7f5aa6c8db10>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5aa51ff6a0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5aa51ff1a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7f5aaabfee80>
          └ APIRoute(path='/api/admin/orders/', name='list_orders', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5aa51ff6a0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5aa51ff1a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f5aa67094e0>
          └ APIRoute(path='/api/admin/orders/', name='list_orders', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5aa51ff6a0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5aa51ff1a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f5aa4450950>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f5aa51ff880>
          └ <function wrap_app_handling_exceptions at 0x7f5aaabfd8a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5aa51ffba0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5aa51ff1a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f5aa51ff880>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f5aa4450950>
                     └ <function get_request_handler.<locals>.app at 0x7f5aa6709300>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f5aaabfe980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7f5aa4717750>, 'admin': <app.models.user.User object at 0x7f5aa4453190>, '...
                 │                 │         └ <function list_orders at 0x7f5aa6cc2a20>
                 │                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(None), name='status', mode='validation')], header_params=...
                 └ <function run_in_threadpool at 0x7f5aab0eb1a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function list_orders at 0x7f5aa6cc2a20>, db=<sqlalchemy.orm.session.Session object at 0x7f5aa4717750>, adm...
                 │     │         └ <function run_sync at 0x7f5aac07e160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7f5aac0372e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum orderstatus: "...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/admin/orders.py", line 25, in list_orders
    return query.order_by(Order.created_at.desc()).all()
           │     │        │     │          └ <function ColumnOperators.desc at 0x7f5aaa9d0040>
           │     │        │     └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7f5aa97a7600>
           │     │        └ <class 'app.models.order.Order'>
           │     └ <function Query.order_by at 0x7f5aa9f5c680>
           └ <sqlalchemy.orm.query.Query object at 0x7f5aa4451f90>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           │    └ <function Query._iter at 0x7f5aa9f5eca0>
           └ <sqlalchemy.orm.query.Query object at 0x7f5aa4453210>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
            │                  │    │      │      │    │       └ <function Session.execute at 0x7f5aa9ffaa20>
            │                  │    │      │      │    └ <sqlalchemy.orm.session.Session object at 0x7f5aa4717750>
            │                  │    │      │      └ <sqlalchemy.orm.query.Query object at 0x7f5aa4453210>
            │                  │    │      └ ~_T
            │                  │    └ <class 'sqlalchemy.engine.result.Result'>
            │                  └ ~_T
            └ typing.Union
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x7f5aa9ffa700>
           └ <sqlalchemy.orm.session.Session object at 0x7f5aa4717750>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x7f5aaa04f920>)>
                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   └ typing.Any
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             │    └ <function Connection.execute at 0x7f5aaa25e160>
             └ <sqlalchemy.engine.base.Connection object at 0x7f5aa4452910>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x7f5aa44515d0>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7f5aaa25e480>
           └ <sqlalchemy.engine.base.Connection object at 0x7f5aa4452910>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7f5aaa25e660>
          └ <sqlalchemy.engine.base.Connection object at 0x7f5aa4452910>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7f5aaa25e700>
           └ <sqlalchemy.engine.base.Connection object at 0x7f5aa4452910>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7f5aaa25e980>
    └ <sqlalchemy.engine.base.Connection object at 0x7f5aa4452910>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ InvalidTextRepresentation('invalid input value for enum orderstatus: "completed"\nLINE 3: WHERE orders.status = \'completed\'...
          │                    │              └ (<class 'psycopg2.errors.InvalidTextRepresentation'>, InvalidTextRepresentation('invalid input value for enum orderstatus: "c...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum orderstatus: "completed"\nLINE 3: WHERE o...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7f5aaa11dbc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7f5aa9d8b410>
    └ <sqlalchemy.engine.base.Connection object at 0x7f5aa4452910>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'status_1': 'completed'}
    │      │       └ 'SELECT orders.id AS orders_id, orders.user_id AS orders_user_id, orders.game_id AS orders_game_id, orders.product_id AS orde...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7f5aa51ce3e0; closed: -1>

sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum orderstatus: "completed"
LINE 3: WHERE orders.status = 'completed' ORDER BY orders.created_at...
                              ^

[SQL: SELECT orders.id AS orders_id, orders.user_id AS orders_user_id, orders.game_id AS orders_game_id, orders.product_id AS orders_product_id, orders.manual_game_name AS orders_manual_game_name, orders.amount AS orders_amount, orders.currency AS orders_currency, orders.status AS orders_status, orders.payment_method AS orders_payment_method, orders.transaction_id AS orders_transaction_id, orders.auto_processed AS orders_auto_processed, orders.comment AS orders_comment, orders.created_at AS orders_created_at, orders.updated_at AS orders_updated_at 
FROM orders 
WHERE orders.status = %(status_1)s ORDER BY orders.created_at DESC]
[parameters: {'status_1': 'completed'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-06-04 at 20:32:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders?status=pending
2025-06-04 at 20:32:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/orders?status=pending
2025-06-04 at 20:32:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders/?status=pending
2025-06-04 at 20:32:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/?status=pending
2025-06-04 at 20:32:59 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders/2/refund
2025-06-04 at 20:32:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/2/refund
2025-06-04 at 20:32:59 | INFO | main:18 - 📥 POST http://localhost:8000/api/admin/orders/2/refund
2025-06-04 at 20:32:59 | INFO | main:24 - 📤 422 http://localhost:8000/api/admin/orders/2/refund
2025-06-04 at 20:33:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-04 at 20:33:14 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-04 at 20:33:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-04 at 20:33:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-04 at 20:33:14 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-04 at 20:33:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-04 at 20:33:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-04 at 20:33:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-04 at 20:33:19 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles
2025-06-04 at 20:33:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles
2025-06-04 at 20:33:19 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles
2025-06-04 at 20:33:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles
2025-06-04 at 20:33:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-04 at 20:33:19 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-04 at 20:33:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-04 at 20:33:19 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles/
2025-06-04 at 20:33:19 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-04 at 20:33:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-04 at 20:33:19 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles/
2025-06-04 at 20:33:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-04 at 20:33:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-04 at 20:33:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-04 at 20:33:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-04 at 20:33:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-04 at 20:33:22 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles
2025-06-04 at 20:33:22 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles
2025-06-04 at 20:33:22 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles
2025-06-04 at 20:33:22 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles
2025-06-04 at 20:33:23 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles
2025-06-04 at 20:33:23 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles
2025-06-04 at 20:33:23 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles
2025-06-04 at 20:33:23 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles
2025-06-04 at 20:33:23 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles/
2025-06-04 at 20:33:23 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles/
2025-06-04 at 20:33:23 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/
2025-06-04 at 20:33:23 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/
2025-06-04 at 20:33:23 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/
2025-06-04 at 20:33:23 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/
2025-06-04 at 20:33:23 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/
2025-06-04 at 20:33:23 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/
2025-06-04 at 20:33:38 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 20:33:38 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 20:33:38 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 20:33:38 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-04 at 20:33:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:33:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:33:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:33:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:33:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:33:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:33:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:33:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:33:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:33:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:33:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-04 at 20:33:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-04 at 20:35:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-04 at 20:35:34 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-04 at 20:35:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-04 at 20:35:34 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-04 at 20:35:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-04 at 20:35:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-04 at 20:35:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-04 at 20:35:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-05 at 10:48:57 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-05 at 10:48:57 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-05 at 10:48:57 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-05 at 10:48:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 10:48:57 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-05 at 10:48:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 10:48:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 10:48:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 10:48:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-05 at 10:48:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 10:48:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-05 at 10:48:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 10:48:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-05 at 10:48:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 10:48:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-05 at 10:48:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 10:49:17 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles
2025-06-05 at 10:49:17 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles
2025-06-05 at 10:49:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles
2025-06-05 at 10:49:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles
2025-06-05 at 10:49:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-05 at 10:49:17 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-05 at 10:49:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-05 at 10:49:17 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-05 at 10:49:17 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles/
2025-06-05 at 10:49:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-05 at 10:49:17 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles/
2025-06-05 at 10:49:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-05 at 10:49:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-05 at 10:49:18 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-05 at 10:49:18 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-05 at 10:49:18 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-05 at 10:50:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-05 at 10:50:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 10:50:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-05 at 10:50:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 10:50:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-05 at 10:50:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 10:50:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-05 at 10:50:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 17:22:20 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games
2025-06-05 at 17:22:20 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games
2025-06-05 at 17:22:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games
2025-06-05 at 17:22:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games
2025-06-05 at 17:22:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-05 at 17:22:20 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-05 at 17:22:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-05 at 17:22:20 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games/
2025-06-05 at 17:22:20 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-05 at 17:22:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-05 at 17:22:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-05 at 17:22:21 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-05 at 17:22:21 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-05 at 17:22:21 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-05 at 17:22:24 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/products
2025-06-05 at 17:22:24 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/products
2025-06-05 at 17:22:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products
2025-06-05 at 17:22:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products
2025-06-05 at 17:22:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products
2025-06-05 at 17:22:24 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/products
2025-06-05 at 17:22:24 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/products/
2025-06-05 at 17:22:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products
2025-06-05 at 17:22:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-05 at 17:22:24 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/products
2025-06-05 at 17:22:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-05 at 17:22:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-05 at 17:22:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-05 at 17:22:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-05 at 17:22:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-05 at 17:22:28 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-05 at 17:22:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-05 at 17:22:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-05 at 17:22:28 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-05 at 17:22:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-05 at 17:22:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-05 at 17:22:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-05 at 17:23:19 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/products
2025-06-05 at 17:23:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products
2025-06-05 at 17:23:19 | INFO | main:18 - 📥 POST http://localhost:8000/api/admin/products
2025-06-05 at 17:23:19 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/products
2025-06-05 at 17:23:19 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/products/
2025-06-05 at 17:23:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-05 at 17:23:19 | INFO | main:18 - 📥 POST http://localhost:8000/api/admin/products/
2025-06-05 at 17:23:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-05 at 17:23:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products
2025-06-05 at 17:23:20 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/products
2025-06-05 at 17:23:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-05 at 17:23:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products
2025-06-05 at 17:23:20 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/products
2025-06-05 at 17:23:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-05 at 17:23:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/products/
2025-06-05 at 17:23:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/products/
2025-06-05 at 17:23:30 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-05 at 17:23:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-05 at 17:23:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 17:23:30 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-05 at 17:23:30 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-05 at 17:23:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 17:23:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-05 at 17:23:30 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-05 at 17:23:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-05 at 17:23:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-05 at 17:23:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 17:23:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-05 at 17:23:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 17:23:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-05 at 17:23:30 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-05 at 17:23:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-05 at 17:23:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-05 at 17:23:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-05 at 17:23:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-05 at 17:23:30 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-05 at 17:23:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/2
2025-06-05 at 17:23:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/2
2025-06-05 at 17:23:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/2
2025-06-05 at 17:23:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/2
2025-06-05 at 17:28:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-05 at 17:28:00 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-05 at 17:28:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-05 at 17:28:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-05 at 17:28:00 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-05 at 17:28:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-05 at 17:28:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-05 at 17:28:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-05 at 17:28:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-05 at 17:28:00 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-05 at 17:28:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-05 at 17:28:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-05 at 17:31:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-05 at 17:31:04 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-05 at 17:31:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-05 at 17:31:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-05 at 17:31:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=D
2025-06-05 at 17:31:05 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=D
2025-06-05 at 17:31:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=D
2025-06-05 at 17:31:05 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=D
2025-06-05 at 17:31:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-05 at 17:31:06 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-05 at 17:31:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-05 at 17:31:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-05 at 17:31:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=d
2025-06-05 at 17:31:06 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=d
2025-06-05 at 17:31:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=d
2025-06-05 at 17:31:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=d
2025-06-05 at 17:31:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=g
2025-06-05 at 17:31:08 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=g
2025-06-05 at 17:31:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=g
2025-06-05 at 17:31:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=g
2025-06-05 at 17:31:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-05 at 17:31:09 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-05 at 17:31:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-05 at 17:31:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-05 at 17:31:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=a
2025-06-05 at 17:31:09 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=a
2025-06-05 at 17:31:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=a
2025-06-05 at 17:31:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=a
2025-06-05 at 17:31:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=got
2025-06-05 at 17:31:13 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=got
2025-06-05 at 17:31:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=got
2025-06-05 at 17:31:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=got
2025-06-05 at 17:31:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=dota
2025-06-05 at 17:31:14 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=dota
2025-06-05 at 17:31:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=dota
2025-06-05 at 17:31:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=dota
2025-06-05 at 17:31:25 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-05 at 17:31:25 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-05 at 17:31:25 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-05 at 17:31:25 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-05 at 17:31:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-05 at 17:31:32 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-05 at 17:31:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-05 at 17:31:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-05 at 17:31:32 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-05 at 17:31:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-05 at 17:31:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-05 at 17:31:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-05 at 17:32:46 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games
2025-06-05 at 17:32:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games
2025-06-05 at 17:32:46 | INFO | main:18 - 📥 POST http://localhost:8000/api/admin/games
2025-06-05 at 17:32:46 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-05 at 17:32:46 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games/
2025-06-05 at 17:32:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-05 at 17:32:46 | INFO | main:18 - 📥 POST http://localhost:8000/api/admin/games/
2025-06-05 at 17:32:46 | ERROR | main:22 - ❌ Exception during request: (psycopg2.errors.StringDataRightTruncation) value too long for type character varying(255)

[SQL: INSERT INTO games (name, banner_url, auto_support, instructions, sort_order) VALUES (%(name)s, %(banner_url)s, %(auto_support)s, %(instructions)s, %(sort_order)s) RETURNING games.id]
[parameters: {'name': 'Genshin Impact', 'banner_url': 'https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fcdn.gamekult.com%2Foptim%2Fimages%2Fgallery%2F34%2F345161%2Fgenshin-impact-and-ip-pc-ps4-switch-4208eabb__1080_900__0-0-1297-1080.jpg&f=1&nofb=1&ipt=868303ebfdf5c8a7d1e88f787a06d97471a423fdcfca6cc205320b153eee6568', 'auto_support': True, 'instructions': '', 'sort_order': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fe74df2dbc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fe74db9b790>
    └ <sqlalchemy.engine.base.Connection object at 0x7fe748dd0f10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'name': 'Genshin Impact', 'banner_url': 'https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fcdn.gamekult.com%2Fopti...
    │      │       └ 'INSERT INTO games (name, banner_url, auto_support, instructions, sort_order) VALUES (%(name)s, %(banner_url)s, %(auto_suppor...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fe748da62f0; closed: -1>

psycopg2.errors.StringDataRightTruncation: value too long for type character varying(255)



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7fe750a7e0c0>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7fe750b4f6a0>
           └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fe750b4ec00>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7fe75082ccd0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
    │    └ <function subprocess_started at 0x7fe74fcdaa20>
    └ <SpawnProcess name='SpawnProcess-1' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7fe74fc31410>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7fe74fcd9800>
           │       │   └ <uvicorn.server.Server object at 0x7fe74fc31410>
           │       └ <function run at 0x7fe750503b00>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7fe74fb974c0>
           │      └ <function Runner.run at 0x7fe75055b060>
           └ <asyncio.runners.Runner object at 0x7fe74fc30310>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7fe74f7b41e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fe74fc30310>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fe74f7aa910>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe748c714...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe748c...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7fe74f6368d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fe74f7aa910>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe748c714...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe748c...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe748c714...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe748c...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fe74a96fc10>
          └ <fastapi.applications.FastAPI object at 0x7fe74f6368d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7fe748df8e00>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7fe748c...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fe74abed290>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fe74a96fc10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fe748dfad40>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7fe748c710d0>
                     │    └ <function log_requests at 0x7fe74a5d9e40>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fe74abed290>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7fe748c710d0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7fe748dfad40>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ DataError('(psycopg2.errors.StringDataRightTruncation) value too long for type character varying(255)\n')
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fe748dfb1a0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fe748dfbba0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fe74a559010>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7fe74abed290>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '367', 'sec-ch-ua-platform': '"macOS"', 'aut...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7fe748dfb1a0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fe748dfbba0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7fe74a5d98a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fe74a559010>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fe74a559010>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fe748dfbba0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fe74a55abd0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fe74a559010>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7fe74a559010>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fe748dfbba0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7fe748c718d0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7fe74f69fc50>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7fe74a55abd0>
          └ <function wrap_app_handling_exceptions at 0x7fe74e9c98a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fe748df9f80>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fe748dfbba0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7fe74f69fc50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fe748df9f80>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fe748dfbba0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7fe74f69fc50>>
          └ <fastapi.routing.APIRouter object at 0x7fe74f69fc50>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fe748df9f80>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fe748dfbba0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7fe74e9cae80>
          └ APIRoute(path='/api/admin/games/', name='create_game', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fe748df9f80>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fe748dfbba0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7fe749930720>
          └ APIRoute(path='/api/admin/games/', name='create_game', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fe748df9f80>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fe748dfbba0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7fe748c71690>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7fe748c68220>
          └ <function wrap_app_handling_exceptions at 0x7fe74e9c98a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7fe748c680e0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7fe748dfbba0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7fe748c68220>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7fe748c71690>
                     └ <function get_request_handler.<locals>.app at 0x7fe749930540>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7fe74e9ca980>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7fe748c519d0>, 'admin': <app.models.user.User object at 0x7fe748c5ef90>, '...
                 │                 │         └ <function create_game at 0x7fe74a9e4a40>
                 │                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...
                 └ <function run_in_threadpool at 0x7fe74eeab1a0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function create_game at 0x7fe74a9e4a40>, db=<sqlalchemy.orm.session.Session object at 0x7fe748c519d0>, adm...
                 │     │         └ <function run_sync at 0x7fe74fd82160>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7fe74fd3b2e0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=DataError('(psycopg2.errors.StringDataRightTruncation) value too long for type character varying(2...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/admin/games.py", line 23, in create_game
    db.commit()
    │  └ <function Session.commit at 0x7fe74dc0a2a0>
    └ <sqlalchemy.orm.session.Session object at 0x7fe748c519d0>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x7fe74dc09260>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7fe748c6c370>
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7fe748c6c370>
                └ <function SessionTransaction.commit at 0x7fe74dc091c0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x7fe74dc09080>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7fe748c6c370>
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7fe748c6c370>
                └ <function SessionTransaction._prepare_impl at 0x7fe74dc08fe0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x7fe74dc0d1c0>
    │    └ <sqlalchemy.orm.session.Session object at 0x7fe748c519d0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7fe748c6c370>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x7fe74dc0d3a0>
    └ <sqlalchemy.orm.session.Session object at 0x7fe748c519d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x7fe748c51a40>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ DataError('(psycopg2.errors.StringDataRightTruncation) value too long for type character varying(255)\n')
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x7fe74ddddc60>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fe748c463d0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7fe748c463d0>
    │   └ <function SaveUpdateAll.execute at 0x7fe74ddde7a0>
    └ SaveUpdateAll(Mapper[Game(games)])
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x7fe74dd7fce0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py'>
    │    └ <module 'sqlalchemy.util.preloaded' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/preloaded.py'>
    └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0x7fe74ddd0b80>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0x7fe74e06e160>
             └ <sqlalchemy.engine.base.Connection object at 0x7fe748dd0f10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x7fe748e08790>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7fe74e06e480>
           └ <sqlalchemy.engine.base.Connection object at 0x7fe748dd0f10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7fe74e06e660>
          └ <sqlalchemy.engine.base.Connection object at 0x7fe748dd0f10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7fe74e06e700>
           └ <sqlalchemy.engine.base.Connection object at 0x7fe748dd0f10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7fe74e06e980>
    └ <sqlalchemy.engine.base.Connection object at 0x7fe748dd0f10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ StringDataRightTruncation('value too long for type character varying(255)\n')
          │                    │              └ (<class 'psycopg2.errors.StringDataRightTruncation'>, StringDataRightTruncation('value too long for type character varying(25...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ DataError('(psycopg2.errors.StringDataRightTruncation) value too long for type character varying(255)\n')
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7fe74df2dbc0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7fe74db9b790>
    └ <sqlalchemy.engine.base.Connection object at 0x7fe748dd0f10>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'name': 'Genshin Impact', 'banner_url': 'https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fcdn.gamekult.com%2Fopti...
    │      │       └ 'INSERT INTO games (name, banner_url, auto_support, instructions, sort_order) VALUES (%(name)s, %(banner_url)s, %(auto_suppor...
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7fe748da62f0; closed: -1>

sqlalchemy.exc.DataError: (psycopg2.errors.StringDataRightTruncation) value too long for type character varying(255)

[SQL: INSERT INTO games (name, banner_url, auto_support, instructions, sort_order) VALUES (%(name)s, %(banner_url)s, %(auto_support)s, %(instructions)s, %(sort_order)s) RETURNING games.id]
[parameters: {'name': 'Genshin Impact', 'banner_url': 'https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fcdn.gamekult.com%2Foptim%2Fimages%2Fgallery%2F34%2F345161%2Fgenshin-impact-and-ip-pc-ps4-switch-4208eabb__1080_900__0-0-1297-1080.jpg&f=1&nofb=1&ipt=868303ebfdf5c8a7d1e88f787a06d97471a423fdcfca6cc205320b153eee6568', 'auto_support': True, 'instructions': '', 'sort_order': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-06-05 at 17:34:42 | INFO | main:18 - 📥 POST http://localhost:8000/api/admin/games
2025-06-05 at 17:34:42 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-05 at 17:34:43 | INFO | main:18 - 📥 POST http://localhost:8000/api/admin/games/
2025-06-05 at 17:34:43 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-05 at 17:34:43 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-05 at 17:34:43 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-05 at 17:34:43 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-05 at 17:34:43 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-05 at 17:34:43 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-05 at 17:34:43 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-05 at 17:34:43 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-05 at 17:34:43 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-05 at 17:34:50 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-05 at 17:34:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-05 at 17:34:50 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-05 at 17:34:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 17:34:50 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-05 at 17:34:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 17:34:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-05 at 17:34:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-05 at 17:34:50 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-05 at 17:34:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-05 at 17:34:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 17:34:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-05 at 17:34:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-05 at 17:34:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-05 at 17:34:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-05 at 17:34:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 17:34:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-05 at 17:34:50 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-05 at 17:34:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-05 at 17:34:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-05 at 17:35:02 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games/1
2025-06-05 at 17:35:02 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/1
2025-06-05 at 17:35:02 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games/1
2025-06-05 at 17:35:02 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/1
2025-06-05 at 17:35:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/1
2025-06-05 at 17:35:02 | INFO | main:24 - 📤 405 http://localhost:8000/api/admin/games/1
2025-06-05 at 17:35:02 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/1
2025-06-05 at 17:35:02 | INFO | main:24 - 📤 405 http://localhost:8000/api/admin/games/1
2025-06-05 at 17:37:26 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-05 at 17:37:26 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-05 at 17:37:26 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-05 at 17:37:26 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-05 at 17:37:26 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-05 at 17:37:26 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-05 at 17:37:26 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-05 at 17:37:26 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-05 at 17:37:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/1
2025-06-05 at 17:37:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/1
2025-06-05 at 17:37:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/1
2025-06-05 at 17:37:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/1
2025-06-05 at 17:37:55 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/games/1
2025-06-05 at 17:37:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/1
2025-06-05 at 17:37:55 | INFO | main:18 - 📥 PUT http://localhost:8000/api/admin/games/1
2025-06-05 at 17:37:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/1
2025-06-05 at 17:37:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-05 at 17:37:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-05 at 17:37:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-05 at 17:37:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games
2025-06-05 at 17:37:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/games
2025-06-05 at 17:37:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-05 at 17:37:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/games/
2025-06-05 at 17:37:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/games/
2025-06-05 at 17:37:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-05 at 17:37:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-05 at 17:37:59 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-05 at 17:37:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-05 at 17:37:59 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-05 at 17:37:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-05 at 17:37:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 17:37:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-05 at 17:37:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 17:37:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-05 at 17:37:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-05 at 17:37:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-05 at 17:38:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-05 at 17:38:00 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-05 at 17:38:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-05 at 17:38:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-05 at 17:40:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-05 at 17:40:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-05 at 17:40:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-05 at 17:40:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 10:18:35 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 10:18:35 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 10:18:35 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 10:18:35 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 10:18:35 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 10:18:35 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 10:18:35 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 10:18:35 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 10:18:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 10:18:35 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 10:18:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 10:18:35 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 10:18:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 10:18:35 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 10:18:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 10:18:35 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 10:30:09 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles
2025-06-06 at 10:30:09 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles
2025-06-06 at 10:30:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles
2025-06-06 at 10:30:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles
2025-06-06 at 10:30:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 10:30:09 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 10:30:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 10:30:09 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 10:30:09 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles/
2025-06-06 at 10:30:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 10:30:09 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles/
2025-06-06 at 10:30:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 10:30:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 10:30:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 10:30:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 10:30:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 10:32:28 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles
2025-06-06 at 10:32:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles
2025-06-06 at 10:32:28 | INFO | main:18 - 📥 POST http://localhost:8000/api/admin/articles
2025-06-06 at 10:32:28 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 10:32:28 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles/
2025-06-06 at 10:32:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 10:32:28 | INFO | main:18 - 📥 POST http://localhost:8000/api/admin/articles/
2025-06-06 at 10:32:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 10:32:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 10:32:28 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 10:32:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 10:32:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 10:32:28 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 10:32:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 10:32:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 10:32:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 10:32:31 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles
2025-06-06 at 10:32:32 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles
2025-06-06 at 10:32:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles
2025-06-06 at 10:32:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles
2025-06-06 at 10:32:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles
2025-06-06 at 10:32:32 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles
2025-06-06 at 10:32:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles
2025-06-06 at 10:32:32 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles
2025-06-06 at 10:32:32 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles/
2025-06-06 at 10:32:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/
2025-06-06 at 10:32:32 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles/
2025-06-06 at 10:32:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/
2025-06-06 at 10:32:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/
2025-06-06 at 10:32:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/
2025-06-06 at 10:32:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/
2025-06-06 at 10:32:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/
2025-06-06 at 10:32:49 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:49 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:49 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles/?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:50 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles?category=%D0%9D%D0%BE%D0%B2%D0%BE%D1%81%D1%82%D0%B8
2025-06-06 at 10:32:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles?category=%D0%9D%D0%BE%D0%B2%D0%BE%D1%81%D1%82%D0%B8
2025-06-06 at 10:32:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles?category=%D0%9D%D0%BE%D0%B2%D0%BE%D1%81%D1%82%D0%B8
2025-06-06 at 10:32:50 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles?category=%D0%9D%D0%BE%D0%B2%D0%BE%D1%81%D1%82%D0%B8
2025-06-06 at 10:32:50 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles/?category=%D0%9D%D0%BE%D0%B2%D0%BE%D1%81%D1%82%D0%B8
2025-06-06 at 10:32:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?category=%D0%9D%D0%BE%D0%B2%D0%BE%D1%81%D1%82%D0%B8
2025-06-06 at 10:32:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/?category=%D0%9D%D0%BE%D0%B2%D0%BE%D1%81%D1%82%D0%B8
2025-06-06 at 10:32:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?category=%D0%9D%D0%BE%D0%B2%D0%BE%D1%81%D1%82%D0%B8
2025-06-06 at 10:32:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:51 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:54 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles?q=%D0%B2&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles?q=%D0%B2&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles?q=%D0%B2&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:54 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles?q=%D0%B2&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:54 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles/?q=%D0%B2&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?q=%D0%B2&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/?q=%D0%B2&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?q=%D0%B2&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:55 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles?q=D&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles?q=D&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles?q=D&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles?q=D&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:55 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles/?q=D&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?q=D&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/?q=D&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?q=D&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:55 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles?q=DO&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles?q=DO&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles?q=DO&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles?q=DO&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:55 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles/?q=DO&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?q=DO&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/?q=DO&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?q=DO&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:56 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles?q=DOT&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:56 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles?q=DOT&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles?q=DOT&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:56 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles?q=DOT&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:56 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles/?q=DOT&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:56 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?q=DOT&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/?q=DOT&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:56 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?q=DOT&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:57 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles?q=DOTe&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles?q=DOTe&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles?q=DOTe&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:57 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles?q=DOTe&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:57 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles/?q=DOTe&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?q=DOTe&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/?q=DOTe&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?q=DOTe&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:57 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles?q=DOTer&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles?q=DOTer&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles?q=DOTer&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:57 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles?q=DOTer&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:57 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles/?q=DOTer&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?q=DOTer&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/?q=DOTer&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?q=DOTer&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles?q=DOTe&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:58 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles?q=DOTe&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/?q=DOTe&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?q=DOTe&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles?q=DOT&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:58 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles?q=DOT&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/?q=DOT&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?q=DOT&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:59 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles?q=DOTa&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles?q=DOTa&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles?q=DOTa&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:59 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles?q=DOTa&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:59 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles/?q=DOTa&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?q=DOTa&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/?q=DOTa&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?q=DOTa&category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:59 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:32:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/?category=%D0%93%D0%B0%D0%B9%D0%B4%D1%8B
2025-06-06 at 10:33:03 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-06 at 10:33:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-06 at 10:33:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-06 at 10:33:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-06 at 10:33:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 10:33:09 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 10:33:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 10:33:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 10:33:09 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 10:33:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 10:33:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 10:33:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 10:33:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 10:33:09 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 10:33:09 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 10:33:09 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 10:44:05 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 10:44:05 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 10:44:05 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 10:44:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 10:44:05 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 10:44:05 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 10:44:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 10:44:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 10:44:05 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 10:44:05 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 10:44:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 10:44:05 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 10:44:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 10:44:05 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 10:44:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 10:44:05 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 10:44:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 10:44:05 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 10:44:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 10:44:05 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 10:45:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 10:45:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 10:45:31 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 10:45:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 10:45:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 10:45:31 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 10:45:31 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 10:45:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 10:45:31 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 10:45:31 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 10:45:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 10:45:31 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 10:45:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 10:45:31 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 10:45:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 10:45:31 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 10:48:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/3
2025-06-06 at 10:48:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/3
2025-06-06 at 10:48:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/3
2025-06-06 at 10:48:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/3
2025-06-06 at 10:48:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 10:48:38 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 10:48:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 10:48:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 10:48:38 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 10:48:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 10:48:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 10:48:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 10:48:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 10:48:38 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 10:48:38 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 10:48:38 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 10:48:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 10:48:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 10:48:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 10:48:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 10:48:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 10:48:54 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 10:48:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 10:48:54 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 10:48:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 10:48:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 10:48:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 10:48:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 10:48:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 10:48:54 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 10:48:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 10:48:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 11:05:17 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 11:05:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 11:05:17 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 11:05:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 11:05:17 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 11:05:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 11:05:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 11:05:17 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 11:05:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 11:05:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 11:05:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 11:05:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 11:05:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 11:05:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 11:05:17 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 11:05:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 11:05:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 11:05:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 11:05:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 11:05:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 11:06:25 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 11:06:25 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 11:06:25 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 11:06:25 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 11:13:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=%D0%B2%D1%89%D0%B5
2025-06-06 at 11:13:46 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=%D0%B2%D1%89%D0%B5
2025-06-06 at 11:13:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=%D0%B2%D1%89%D0%B5
2025-06-06 at 11:13:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=%D0%B2%D1%89%D0%B5
2025-06-06 at 11:13:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 11:13:48 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 11:13:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 11:13:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 11:13:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=%D0%B2
2025-06-06 at 11:13:48 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=%D0%B2
2025-06-06 at 11:13:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=%D0%B2
2025-06-06 at 11:13:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=%D0%B2
2025-06-06 at 11:13:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 11:13:49 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 11:13:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 11:13:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 11:13:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=g
2025-06-06 at 11:13:50 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=g
2025-06-06 at 11:13:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=g
2025-06-06 at 11:13:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=g
2025-06-06 at 11:13:52 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=a
2025-06-06 at 11:13:52 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=a
2025-06-06 at 11:13:52 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=a
2025-06-06 at 11:13:52 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=a
2025-06-06 at 11:13:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 11:13:57 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 11:13:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 11:13:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 11:36:42 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 11:36:42 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 11:36:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 11:36:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 11:36:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 11:36:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 11:36:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 11:36:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 11:36:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 11:36:45 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 11:36:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 11:36:45 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 11:36:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/2
2025-06-06 at 11:36:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/2
2025-06-06 at 11:36:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/2
2025-06-06 at 11:36:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/2
2025-06-06 at 11:45:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 11:45:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 11:45:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 11:45:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 11:45:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 11:45:14 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 11:45:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 11:45:14 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 11:45:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 11:45:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 11:45:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 11:45:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 11:45:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 11:45:14 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 11:45:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 11:45:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:01:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-06 at 12:01:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-06 at 12:01:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-06 at 12:01:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-06 at 12:01:22 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 12:01:22 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 12:01:22 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:01:22 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:01:22 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:01:22 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:01:22 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:01:22 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:01:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:01:24 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:01:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:01:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:01:24 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:01:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:01:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:01:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:01:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:01:24 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:01:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:01:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:01:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/2
2025-06-06 at 12:01:45 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/2
2025-06-06 at 12:01:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/2
2025-06-06 at 12:01:45 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/2
2025-06-06 at 12:04:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:04:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/2
2025-06-06 at 12:04:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/2
2025-06-06 at 12:04:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/2
2025-06-06 at 12:04:40 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/2
2025-06-06 at 12:04:40 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:04:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:04:40 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:09:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:09:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:09:06 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:09:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:09:06 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:09:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:09:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:09:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:09:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:09:06 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:09:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-06 at 12:09:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-06 at 12:09:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-06 at 12:09:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-06 at 12:09:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:09:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:09:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:09:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:09:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:09:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:09:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:09:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:09:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:09:28 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:09:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:09:28 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:09:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:28 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:28 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:09:29 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:09:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/2
2025-06-06 at 12:09:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/2
2025-06-06 at 12:09:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/2
2025-06-06 at 12:09:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/2
2025-06-06 at 12:09:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:09:39 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:09:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:09:39 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:09:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:09:39 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:09:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:40 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/3
2025-06-06 at 12:09:40 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/3
2025-06-06 at 12:09:40 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/3
2025-06-06 at 12:09:40 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/3
2025-06-06 at 12:09:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:09:42 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:09:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:09:42 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:09:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:09:42 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:09:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:09:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-06 at 12:09:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-06 at 12:09:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-06 at 12:09:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-06 at 12:10:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:10:15 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:10:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:10:15 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:10:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:10:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:10:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:10:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:10:16 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:10:16 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:10:16 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:10:16 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:10:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:10:19 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:10:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:10:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:10:19 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:10:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:10:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:10:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:10:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:10:19 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:10:19 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:10:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:25:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-06 at 12:25:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-06 at 12:25:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-06 at 12:25:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-06 at 12:26:23 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:26:23 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:26:23 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:26:23 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:26:23 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:26:23 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:26:23 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:26:23 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:26:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:26:24 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:26:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:26:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:35:25 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 12:35:25 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:35:25 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 12:35:25 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:35:25 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:35:25 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:35:25 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:35:25 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:35:25 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:35:25 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:35:26 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:35:26 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:35:26 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:35:26 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:35:26 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:35:26 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:35:26 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:35:26 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:35:26 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:35:26 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:41:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:41:58 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:41:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:41:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:41:58 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:41:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:41:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:41:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:41:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:41:58 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:41:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:41:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:42:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:42:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:42:03 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:42:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:42:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:42:03 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:42:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:42:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:42:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:42:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:42:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:42:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:42:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:42:03 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:42:03 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:42:03 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:42:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:42:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:42:10 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:42:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:42:10 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:42:10 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:42:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:42:10 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:42:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:42:10 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:42:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:42:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:42:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:42:11 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:42:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:42:11 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:42:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:42:37 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:42:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:42:37 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:44:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:44:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:44:14 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:44:14 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:46:46 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 12:46:46 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 12:46:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:46:46 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/manual/me
2025-06-06 at 12:46:46 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/me
2025-06-06 at 12:46:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:46:46 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/me
2025-06-06 at 12:46:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 12:46:46 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/manual/me
2025-06-06 at 12:46:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-06 at 12:46:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-06 at 12:46:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 12:46:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:46:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 12:46:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 12:46:47 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/me
2025-06-06 at 12:46:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 12:46:47 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/me
2025-06-06 at 12:46:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:46:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:46:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:46:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 12:46:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 12:46:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 12:46:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:51 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:51 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:51 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:53 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:53 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:53 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:53 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:54 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:54 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:54 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:54 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:54 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:46:56 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:46:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:46:56 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:47:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:47:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:47:04 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:47:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:47:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:47:04 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:47:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:47:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 12:47:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:47:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 12:47:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:47:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:47:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:47:04 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:47:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:47:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:47:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:47:07 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:47:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:47:07 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:47:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:47:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:47:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:47:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:47:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:47:07 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:47:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:47:07 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:47:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:47:08 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:47:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:47:08 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:47:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:47:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:47:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:47:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 12:47:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 12:47:08 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 12:47:08 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 12:47:08 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 13:01:59 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/me
2025-06-06 at 13:01:59 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/manual/me
2025-06-06 at 13:01:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-06 at 13:01:59 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/me
2025-06-06 at 13:01:59 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/manual/me
2025-06-06 at 13:01:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 13:01:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-06 at 13:01:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 13:01:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 13:01:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 13:01:59 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/me
2025-06-06 at 13:01:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 13:01:59 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/me
2025-06-06 at 13:01:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 13:01:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 13:01:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 13:02:05 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-06 at 13:02:05 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-06 at 13:02:05 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-06 at 13:02:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-06 at 13:02:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-06 at 13:02:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/support/my?guest_id=36ac8ae4-9561-4d4c-bf0f-2c5bf3429dc5
2025-06-06 at 13:02:15 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles
2025-06-06 at 13:02:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles
2025-06-06 at 13:02:15 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles
2025-06-06 at 13:02:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles
2025-06-06 at 13:02:16 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles
2025-06-06 at 13:02:16 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles
2025-06-06 at 13:02:16 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles
2025-06-06 at 13:02:16 | INFO | main:24 - 📤 307 http://localhost:8000/api/articles
2025-06-06 at 13:02:16 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/articles/
2025-06-06 at 13:02:16 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/
2025-06-06 at 13:02:16 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/
2025-06-06 at 13:02:16 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/
2025-06-06 at 13:02:16 | INFO | main:18 - 📥 GET http://localhost:8000/api/articles/
2025-06-06 at 13:02:16 | INFO | main:24 - 📤 200 http://localhost:8000/api/articles/
2025-06-06 at 13:02:33 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 13:02:33 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 13:02:33 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:02:33 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 13:02:33 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:02:33 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:02:33 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 13:02:33 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:02:33 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 13:02:33 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:02:33 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 13:02:33 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:02:33 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 13:02:33 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:02:33 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 13:02:33 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:02:39 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles
2025-06-06 at 13:02:39 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles
2025-06-06 at 13:02:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles
2025-06-06 at 13:02:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles
2025-06-06 at 13:02:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 13:02:39 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 13:02:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 13:02:39 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 13:02:39 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles/
2025-06-06 at 13:02:39 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles/
2025-06-06 at 13:02:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:02:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:02:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 13:02:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:02:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 13:02:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:02:44 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:02:44 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:02:44 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:02:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:02:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:02:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:02:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:02:44 | INFO | main:24 - 📤 405 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:02:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:02:44 | INFO | main:24 - 📤 405 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:02:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:02:44 | INFO | main:24 - 📤 405 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:08:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 13:08:42 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 13:08:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 13:08:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 13:08:42 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 13:08:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:08:42 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 13:08:42 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:08:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:08:44 | INFO | main:24 - 📤 405 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:08:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:08:44 | INFO | main:24 - 📤 405 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:08:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:08:44 | INFO | main:24 - 📤 405 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:08:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 13:08:46 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 13:08:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 13:08:46 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 13:08:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 13:08:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:08:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 13:08:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:08:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 13:08:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:08:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 13:08:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:08:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 13:08:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:08:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 13:08:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:08:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 13:08:54 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 13:08:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 13:08:54 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 13:08:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 13:08:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:08:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 13:08:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:08:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:08:56 | INFO | main:24 - 📤 405 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:08:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:08:56 | INFO | main:24 - 📤 405 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:08:56 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:08:56 | INFO | main:24 - 📤 405 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:09:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 13:09:47 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 13:09:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 13:09:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 13:09:47 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 13:09:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:09:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 13:09:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:09:48 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/api/admin/articles/1
2025-06-06 at 13:09:48 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/api/admin/articles/1
2025-06-06 at 13:09:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/api/admin/articles/1
2025-06-06 at 13:09:48 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/api/admin/articles/1
2025-06-06 at 13:09:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/api/admin/articles/1
2025-06-06 at 13:09:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/api/admin/articles/1
2025-06-06 at 13:09:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/api/admin/articles/1
2025-06-06 at 13:09:48 | INFO | main:24 - 📤 404 http://localhost:8000/api/api/admin/articles/1
2025-06-06 at 13:09:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/api/admin/articles/1
2025-06-06 at 13:09:48 | INFO | main:24 - 📤 404 http://localhost:8000/api/api/admin/articles/1
2025-06-06 at 13:09:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/api/admin/articles/1
2025-06-06 at 13:09:48 | INFO | main:24 - 📤 404 http://localhost:8000/api/api/admin/articles/1
2025-06-06 at 13:09:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 13:09:51 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 13:09:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 13:09:51 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 13:09:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 13:09:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:09:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 13:09:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:09:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 13:09:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:09:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 13:09:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:09:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 13:09:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:09:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 13:09:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:09:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 13:09:58 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 13:09:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 13:09:58 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 13:09:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 13:09:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:09:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 13:09:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:10:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/api/admin/articles/1
2025-06-06 at 13:10:11 | INFO | main:24 - 📤 404 http://localhost:8000/api/api/admin/articles/1
2025-06-06 at 13:10:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/api/admin/articles/1
2025-06-06 at 13:10:11 | INFO | main:24 - 📤 404 http://localhost:8000/api/api/admin/articles/1
2025-06-06 at 13:10:11 | INFO | main:18 - 📥 GET http://localhost:8000/api/api/admin/articles/1
2025-06-06 at 13:10:11 | INFO | main:24 - 📤 404 http://localhost:8000/api/api/admin/articles/1
2025-06-06 at 13:10:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 13:10:58 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 13:10:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 13:10:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 13:10:58 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 13:10:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:10:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 13:10:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:10:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:10:59 | INFO | main:24 - 📤 405 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:10:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:10:59 | INFO | main:24 - 📤 405 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:10:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:10:59 | INFO | main:24 - 📤 405 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:11:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 13:11:04 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 13:11:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 13:11:04 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 13:11:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 13:11:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 13:11:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 13:11:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 13:11:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 13:11:04 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 13:11:04 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 13:11:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 13:11:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 13:11:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:11:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 13:11:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:11:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 13:11:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:11:17 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 13:11:17 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:11:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 13:11:20 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 13:11:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 13:11:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 13:11:20 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 13:11:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:11:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 13:11:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:11:21 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:11:21 | INFO | main:24 - 📤 405 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:11:21 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:11:21 | INFO | main:24 - 📤 405 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:11:21 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:11:21 | INFO | main:24 - 📤 405 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:11:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 13:11:44 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 13:11:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 13:11:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 13:11:44 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 13:11:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:11:44 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 13:11:44 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:11:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:11:45 | INFO | main:24 - 📤 405 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:11:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:11:45 | INFO | main:24 - 📤 405 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:11:45 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:11:45 | INFO | main:24 - 📤 405 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:13:24 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles
2025-06-06 at 13:13:24 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles
2025-06-06 at 13:13:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles
2025-06-06 at 13:13:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles
2025-06-06 at 13:13:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 13:13:24 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 13:13:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles
2025-06-06 at 13:13:24 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles/
2025-06-06 at 13:13:24 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/articles
2025-06-06 at 13:13:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:13:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 13:13:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:13:24 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/
2025-06-06 at 13:13:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/
2025-06-06 at 13:13:26 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:13:26 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:13:26 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:13:26 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:13:26 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:13:26 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:13:26 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:13:26 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:13:26 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:13:26 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:13:26 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:13:26 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/articles/1
2025-06-06 at 13:15:15 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders
2025-06-06 at 13:15:15 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders
2025-06-06 at 13:15:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders
2025-06-06 at 13:15:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders
2025-06-06 at 13:15:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders
2025-06-06 at 13:15:15 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/orders
2025-06-06 at 13:15:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders
2025-06-06 at 13:15:15 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/orders
2025-06-06 at 13:15:15 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders/
2025-06-06 at 13:15:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/
2025-06-06 at 13:15:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders/
2025-06-06 at 13:15:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/
2025-06-06 at 13:15:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders/
2025-06-06 at 13:15:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/
2025-06-06 at 13:15:19 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders/2
2025-06-06 at 13:15:19 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/2
2025-06-06 at 13:15:19 | INFO | main:18 - 📥 PUT http://localhost:8000/api/admin/orders/2
2025-06-06 at 13:15:19 | ERROR | main:22 - ❌ Exception during request: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum orderstatus: "completed"
LINE 1: UPDATE orders SET status='completed', updated_at='2025-06-06...
                                 ^

[SQL: UPDATE orders SET status=%(status)s, updated_at=%(updated_at)s WHERE orders.id = %(orders_id)s]
[parameters: {'status': <OrderStatus.completed: 'completed'>, 'updated_at': datetime.datetime(2025, 6, 6, 13, 15, 19, 646943), 'orders_id': 2}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7ffbbbb323e0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7ffbbb7a8490>
    └ <sqlalchemy.engine.base.Connection object at 0x7ffbb7fba690>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'status': <OrderStatus.completed: 'completed'>, 'updated_at': datetime.datetime(2025, 6, 6, 13, 15, 19, 646943), 'orders_id'...
    │      │       └ 'UPDATE orders SET status=%(status)s, updated_at=%(updated_at)s WHERE orders.id = %(orders_id)s'
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7ffbb839e110; closed: -1>

psycopg2.errors.InvalidTextRepresentation: invalid input value for enum orderstatus: "completed"
LINE 1: UPDATE orders SET status='completed', updated_at='2025-06-06...
                                 ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7ffbbe67e200>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7ffbbe74f7e0>
           └ <SpawnProcess name='SpawnProcess-5' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7ffbbe74ed40>
    └ <SpawnProcess name='SpawnProcess-5' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7ffbbda6ccd0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=7 started>
    │    └ <function subprocess_started at 0x7ffbbd8dede0>
    └ <SpawnProcess name='SpawnProcess-5' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7ffbbd8f9fd0>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7ffbbd8ddbc0>
           │       │   └ <uvicorn.server.Server object at 0x7ffbbd8f9fd0>
           │       └ <function run at 0x7ffbbe0f3c40>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7ffbbd78bd30>
           │      └ <function Runner.run at 0x7ffbbe14b1a0>
           └ <asyncio.runners.Runner object at 0x7ffbbd821610>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7ffbbd3a81e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7ffbbd821610>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ffbbd3a3310>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7ffbb7faa3...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7ffbb7f...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7ffbbd2a42d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ffbbd3a3310>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7ffbb7faa3...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7ffbb7f...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7ffbb7faa3...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7ffbb7f...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ffbb8471fd0>
          └ <fastapi.applications.FastAPI object at 0x7ffbbd2a42d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7ffbb83cf600>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7ffbb7f...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7ffbb84e76d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ffbb8471fd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7ffbb83ce7a0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7ffbb7faa710>
                     │    └ <function log_requests at 0x7ffbb84bf420>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7ffbb84e76d0>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7ffbb7faa710>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7ffbb83ce7a0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum orderstatus: "completed"\nLINE 1: UPDATE ...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7ffbb83ce8e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7ffbb83cf100>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7ffbb8591990>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7ffbb84e76d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '22', 'sec-ch-ua-platform': '"macOS"', 'auth...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7ffbb83ce8e0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7ffbb83cf100>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7ffbb84bee80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7ffbb8591990>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7ffbb8591990>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7ffbb83cf100>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7ffbb85d4850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7ffbb8591990>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7ffbb8591990>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7ffbb83cf100>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7ffbb7fade90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7ffbb85d4210>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7ffbb85d4850>
          └ <function wrap_app_handling_exceptions at 0x7ffbbc5de0c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7ffbb7f9fb00>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7ffbb83cf100>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7ffbb85d4210>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7ffbb7f9fb00>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7ffbb83cf100>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7ffbb85d4210>>
          └ <fastapi.routing.APIRouter object at 0x7ffbb85d4210>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7ffbb7f9fb00>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7ffbb83cf100>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7ffbbc5df6a0>
          └ APIRoute(path='/api/admin/orders/{order_id}', name='update_order', methods=['PUT'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7ffbb7f9fb00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7ffbb83cf100>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7ffbb8322fc0>
          └ APIRoute(path='/api/admin/orders/{order_id}', name='update_order', methods=['PUT'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7ffbb7f9fb00>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7ffbb83cf100>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7ffbb7fb9c50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7ffbb7f9e660>
          └ <function wrap_app_handling_exceptions at 0x7ffbbc5de0c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7ffbb7f9fc40>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7ffbb83cf100>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7ffbb7f9e660>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7ffbb7fb9c50>
                     └ <function get_request_handler.<locals>.app at 0x7ffbb8322f20>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7ffbbe603560>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7ffbb7fb1c50>, 'admin': <app.models.user.User object at 0x7ffbb7fbb010>, '...
                 │                 │         └ <function update_order at 0x7ffbb85c39c0>
                 │                 └ Dependant(path_params=[ModelField(field_info=Path(PydanticUndefined), name='order_id', mode='validation')], query_params=[], ...
                 └ <function run_in_threadpool at 0x7ffbbcaab9c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function update_order at 0x7ffbb85c39c0>, db=<sqlalchemy.orm.session.Session object at 0x7ffbb7fb1c50>, ad...
                 │     │         └ <function run_sync at 0x7ffbbd96e520>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7ffbbd93b6a0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum orderstatus: "...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/admin/orders.py", line 41, in update_order
    db.commit()
    │  └ <function Session.commit at 0x7ffbbb80eac0>
    └ <sqlalchemy.orm.session.Session object at 0x7ffbb7fb1c50>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x7ffbbb80da80>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7ffbb8306800>
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7ffbb8306800>
                └ <function SessionTransaction.commit at 0x7ffbbb80d9e0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x7ffbbb80d8a0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7ffbb8306800>
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7ffbb8306800>
                └ <function SessionTransaction._prepare_impl at 0x7ffbbb80d800>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x7ffbbb8159e0>
    │    └ <sqlalchemy.orm.session.Session object at 0x7ffbb7fb1c50>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7ffbb8306800>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x7ffbbb815bc0>
    └ <sqlalchemy.orm.session.Session object at 0x7ffbb7fb1c50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x7ffbb7fcd840>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum orderstatus: "completed"\nLINE 1: UPDATE ...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x7ffbbb9ee480>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7ffbb843ae50>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7ffbb843ae50>
    │   └ <function SaveUpdateAll.execute at 0x7ffbbb9eefc0>
    └ SaveUpdateAll(Mapper[Order(orders)])
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x7ffbbb9cc540>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py'>
    │    └ <module 'sqlalchemy.util.preloaded' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/preloaded.py'>
    └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
    └ <function _emit_update_statements at 0x7ffbbb9cd300>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        │          └ <function Connection.execute at 0x7ffbbbc72980>
        └ <sqlalchemy.engine.base.Connection object at 0x7ffbb7fba690>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Update object at 0x7ffbb847b110>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7ffbbbc72ca0>
           └ <sqlalchemy.engine.base.Connection object at 0x7ffbb7fba690>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7ffbbbc72e80>
          └ <sqlalchemy.engine.base.Connection object at 0x7ffbb7fba690>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7ffbbbc72f20>
           └ <sqlalchemy.engine.base.Connection object at 0x7ffbb7fba690>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7ffbbbc731a0>
    └ <sqlalchemy.engine.base.Connection object at 0x7ffbb7fba690>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ InvalidTextRepresentation('invalid input value for enum orderstatus: "completed"\nLINE 1: UPDATE orders SET status=\'complete...
          │                    │              └ (<class 'psycopg2.errors.InvalidTextRepresentation'>, InvalidTextRepresentation('invalid input value for enum orderstatus: "c...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum orderstatus: "completed"\nLINE 1: UPDATE ...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7ffbbbb323e0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7ffbbb7a8490>
    └ <sqlalchemy.engine.base.Connection object at 0x7ffbb7fba690>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'status': <OrderStatus.completed: 'completed'>, 'updated_at': datetime.datetime(2025, 6, 6, 13, 15, 19, 646943), 'orders_id'...
    │      │       └ 'UPDATE orders SET status=%(status)s, updated_at=%(updated_at)s WHERE orders.id = %(orders_id)s'
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7ffbb839e110; closed: -1>

sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum orderstatus: "completed"
LINE 1: UPDATE orders SET status='completed', updated_at='2025-06-06...
                                 ^

[SQL: UPDATE orders SET status=%(status)s, updated_at=%(updated_at)s WHERE orders.id = %(orders_id)s]
[parameters: {'status': <OrderStatus.completed: 'completed'>, 'updated_at': datetime.datetime(2025, 6, 6, 13, 15, 19, 646943), 'orders_id': 2}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-06-06 at 13:15:22 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders/1
2025-06-06 at 13:15:22 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/1
2025-06-06 at 13:15:22 | INFO | main:18 - 📥 PUT http://localhost:8000/api/admin/orders/1
2025-06-06 at 13:15:22 | ERROR | main:22 - ❌ Exception during request: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum orderstatus: "completed"
LINE 1: UPDATE orders SET status='completed', updated_at='2025-06-06...
                                 ^

[SQL: UPDATE orders SET status=%(status)s, updated_at=%(updated_at)s WHERE orders.id = %(orders_id)s]
[parameters: {'status': <OrderStatus.completed: 'completed'>, 'updated_at': datetime.datetime(2025, 6, 6, 13, 15, 22, 430727), 'orders_id': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7ffbbbb323e0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7ffbbb7a8490>
    └ <sqlalchemy.engine.base.Connection object at 0x7ffbb67f5710>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'status': <OrderStatus.completed: 'completed'>, 'updated_at': datetime.datetime(2025, 6, 6, 13, 15, 22, 430727), 'orders_id'...
    │      │       └ 'UPDATE orders SET status=%(status)s, updated_at=%(updated_at)s WHERE orders.id = %(orders_id)s'
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7ffbb7f8b6a0; closed: -1>

psycopg2.errors.InvalidTextRepresentation: invalid input value for enum orderstatus: "completed"
LINE 1: UPDATE orders SET status='completed', updated_at='2025-06-06...
                                 ^



The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7ffbbe67e200>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7ffbbe74f7e0>
           └ <SpawnProcess name='SpawnProcess-5' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7ffbbe74ed40>
    └ <SpawnProcess name='SpawnProcess-5' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7ffbbda6ccd0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=7 started>
    │    └ <function subprocess_started at 0x7ffbbd8dede0>
    └ <SpawnProcess name='SpawnProcess-5' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7ffbbd8f9fd0>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7ffbbd8ddbc0>
           │       │   └ <uvicorn.server.Server object at 0x7ffbbd8f9fd0>
           │       └ <function run at 0x7ffbbe0f3c40>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7ffbbd78bd30>
           │      └ <function Runner.run at 0x7ffbbe14b1a0>
           └ <asyncio.runners.Runner object at 0x7ffbbd821610>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7ffbbd3a81e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7ffbbd821610>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ffbbd3a3310>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7ffbb67cb3...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7ffbb67...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7ffbbd2a42d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ffbbd3a3310>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7ffbb67cb3...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7ffbb67...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7ffbb67cb3...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7ffbb67...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ffbb8471fd0>
          └ <fastapi.applications.FastAPI object at 0x7ffbbd2a42d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7ffbb6860900>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7ffbb67...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7ffbb84e76d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ffbb8471fd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7ffbb6860b80>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7ffbb67cb390>
                     │    └ <function log_requests at 0x7ffbb84bf420>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7ffbb84e76d0>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7ffbb67cb390>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7ffbb6860b80>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum orderstatus: "completed"\nLINE 1: UPDATE ...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7ffbb68609a0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7ffbb6860ae0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7ffbb8591990>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7ffbb84e76d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '22', 'sec-ch-ua-platform': '"macOS"', 'auth...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7ffbb68609a0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7ffbb6860ae0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7ffbb84bee80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7ffbb8591990>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7ffbb8591990>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7ffbb6860ae0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7ffbb85d4850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7ffbb8591990>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7ffbb8591990>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7ffbb6860ae0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7ffbb67cbed0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7ffbb85d4210>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7ffbb85d4850>
          └ <function wrap_app_handling_exceptions at 0x7ffbbc5de0c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7ffbb6860c20>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7ffbb6860ae0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7ffbb85d4210>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7ffbb6860c20>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7ffbb6860ae0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7ffbb85d4210>>
          └ <fastapi.routing.APIRouter object at 0x7ffbb85d4210>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7ffbb6860c20>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7ffbb6860ae0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7ffbbc5df6a0>
          └ APIRoute(path='/api/admin/orders/{order_id}', name='update_order', methods=['PUT'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7ffbb6860c20>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7ffbb6860ae0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7ffbb8322fc0>
          └ APIRoute(path='/api/admin/orders/{order_id}', name='update_order', methods=['PUT'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7ffbb6860c20>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7ffbb6860ae0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7ffbb67f4090>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7ffbb6860ea0>
          └ <function wrap_app_handling_exceptions at 0x7ffbbc5de0c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7ffbb6860fe0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7ffbb6860ae0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7ffbb6860ea0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7ffbb67f4090>
                     └ <function get_request_handler.<locals>.app at 0x7ffbb8322f20>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7ffbbe603560>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7ffbb7fcdbd0>, 'admin': <app.models.user.User object at 0x7ffbb67f6250>, '...
                 │                 │         └ <function update_order at 0x7ffbb85c39c0>
                 │                 └ Dependant(path_params=[ModelField(field_info=Path(PydanticUndefined), name='order_id', mode='validation')], query_params=[], ...
                 └ <function run_in_threadpool at 0x7ffbbcaab9c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function update_order at 0x7ffbb85c39c0>, db=<sqlalchemy.orm.session.Session object at 0x7ffbb7fcdbd0>, ad...
                 │     │         └ <function run_sync at 0x7ffbbd96e520>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7ffbbd93b6a0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum orderstatus: "...
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/admin/orders.py", line 41, in update_order
    db.commit()
    │  └ <function Session.commit at 0x7ffbbb80eac0>
    └ <sqlalchemy.orm.session.Session object at 0x7ffbb7fcdbd0>

  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x7ffbbb80da80>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7ffbb7fb4820>
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7ffbb7fb4820>
                └ <function SessionTransaction.commit at 0x7ffbbb80d9e0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x7ffbbb80d8a0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7ffbb7fb4820>
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x7ffbb7fb4820>
                └ <function SessionTransaction._prepare_impl at 0x7ffbbb80d800>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x7ffbbb8159e0>
    │    └ <sqlalchemy.orm.session.Session object at 0x7ffbb7fcdbd0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x7ffbb7fb4820>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x7ffbbb815bc0>
    └ <sqlalchemy.orm.session.Session object at 0x7ffbb7fcdbd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x7ffbb67f63c0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum orderstatus: "completed"\nLINE 1: UPDATE ...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x7ffbbb9ee480>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7ffbb67c9bd0>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x7ffbb67c9bd0>
    │   └ <function SaveUpdateAll.execute at 0x7ffbbb9eefc0>
    └ SaveUpdateAll(Mapper[Order(orders)])
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x7ffbbb9cc540>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py'>
    │    └ <module 'sqlalchemy.util.preloaded' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/preloaded.py'>
    └ <module 'sqlalchemy.util' from '/usr/local/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
    └ <function _emit_update_statements at 0x7ffbbb9cd300>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        │          └ <function Connection.execute at 0x7ffbbbc72980>
        └ <sqlalchemy.engine.base.Connection object at 0x7ffbb67f5710>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Update object at 0x7ffbb847b110>>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x7ffbbbc72ca0>
           └ <sqlalchemy.engine.base.Connection object at 0x7ffbb67f5710>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x7ffbbbc72e80>
          └ <sqlalchemy.engine.base.Connection object at 0x7ffbb67f5710>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0x7ffbbbc72f20>
           └ <sqlalchemy.engine.base.Connection object at 0x7ffbb67f5710>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x7ffbbbc731a0>
    └ <sqlalchemy.engine.base.Connection object at 0x7ffbb67f5710>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ InvalidTextRepresentation('invalid input value for enum orderstatus: "completed"\nLINE 1: UPDATE orders SET status=\'complete...
          │                    │              └ (<class 'psycopg2.errors.InvalidTextRepresentation'>, InvalidTextRepresentation('invalid input value for enum orderstatus: "c...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ DataError('(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum orderstatus: "completed"\nLINE 1: UPDATE ...
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x7ffbbbb323e0>
    │    └ <sqlalchemy.dialects.postgresql.psycopg2.PGDialect_psycopg2 object at 0x7ffbbb7a8490>
    └ <sqlalchemy.engine.base.Connection object at 0x7ffbb67f5710>
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ {'status': <OrderStatus.completed: 'completed'>, 'updated_at': datetime.datetime(2025, 6, 6, 13, 15, 22, 430727), 'orders_id'...
    │      │       └ 'UPDATE orders SET status=%(status)s, updated_at=%(updated_at)s WHERE orders.id = %(orders_id)s'
    │      └ <method 'execute' of 'psycopg2.extensions.cursor' objects>
    └ <cursor object at 0x7ffbb7f8b6a0; closed: -1>

sqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum orderstatus: "completed"
LINE 1: UPDATE orders SET status='completed', updated_at='2025-06-06...
                                 ^

[SQL: UPDATE orders SET status=%(status)s, updated_at=%(updated_at)s WHERE orders.id = %(orders_id)s]
[parameters: {'status': <OrderStatus.completed: 'completed'>, 'updated_at': datetime.datetime(2025, 6, 6, 13, 15, 22, 430727), 'orders_id': 1}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-06-06 at 13:18:14 | INFO | main:18 - 📥 PUT http://localhost:8000/api/admin/orders/2
2025-06-06 at 13:18:14 | INFO | main:24 - 📤 422 http://localhost:8000/api/admin/orders/2
2025-06-06 at 13:18:27 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 13:18:27 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 13:18:27 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 13:18:27 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 13:18:27 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 13:18:27 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 13:18:27 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 13:18:27 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 13:18:27 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 13:18:27 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 13:18:27 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 13:18:27 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 13:18:36 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 13:18:36 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:18:36 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 13:18:36 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 13:18:36 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 13:18:36 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:18:36 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:18:36 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:18:36 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 13:18:36 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:18:36 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 13:18:36 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:18:36 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 13:18:36 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:18:36 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 13:18:36 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 13:18:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders
2025-06-06 at 13:18:46 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/orders
2025-06-06 at 13:18:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders
2025-06-06 at 13:18:46 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/orders
2025-06-06 at 13:18:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders/
2025-06-06 at 13:18:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/
2025-06-06 at 13:18:46 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders/
2025-06-06 at 13:18:46 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/
2025-06-06 at 13:18:48 | INFO | main:18 - 📥 PUT http://localhost:8000/api/admin/orders/2
2025-06-06 at 13:18:48 | INFO | main:24 - 📤 422 http://localhost:8000/api/admin/orders/2
2025-06-06 at 14:45:05 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders/2
2025-06-06 at 14:45:05 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/2
2025-06-06 at 14:45:05 | INFO | main:18 - 📥 PUT http://localhost:8000/api/admin/orders/2
2025-06-06 at 14:45:05 | INFO | main:24 - 📤 422 http://localhost:8000/api/admin/orders/2
2025-06-06 at 14:46:47 | INFO | main:18 - 📥 PUT http://localhost:8000/api/admin/orders/2
2025-06-06 at 14:46:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/2
2025-06-06 at 14:46:47 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders
2025-06-06 at 14:46:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders
2025-06-06 at 14:46:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders
2025-06-06 at 14:46:47 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/orders
2025-06-06 at 14:46:47 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders/
2025-06-06 at 14:46:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/
2025-06-06 at 14:46:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders/
2025-06-06 at 14:46:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/
2025-06-06 at 14:46:55 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders/1
2025-06-06 at 14:46:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/1
2025-06-06 at 14:46:55 | INFO | main:18 - 📥 PUT http://localhost:8000/api/admin/orders/1
2025-06-06 at 14:46:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/1
2025-06-06 at 14:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders
2025-06-06 at 14:46:55 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/orders
2025-06-06 at 14:46:55 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders/
2025-06-06 at 14:46:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/
2025-06-06 at 14:46:58 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/me
2025-06-06 at 14:46:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-06 at 14:46:58 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/me
2025-06-06 at 14:46:58 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/manual/me
2025-06-06 at 14:46:58 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/manual/me
2025-06-06 at 14:46:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 14:46:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-06 at 14:46:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 14:46:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 14:46:58 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/me
2025-06-06 at 14:46:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 14:46:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 14:46:58 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/me
2025-06-06 at 14:46:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 14:46:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 14:46:58 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 14:47:06 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 14:47:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 14:47:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 14:47:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 14:47:06 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 14:47:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 14:47:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 14:47:06 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/me
2025-06-06 at 14:47:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 14:47:06 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/me
2025-06-06 at 14:47:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 14:47:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 14:47:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 14:47:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 14:47:06 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 14:47:06 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 14:47:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 14:47:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 14:47:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 14:47:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 14:47:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 14:47:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 14:47:20 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 14:47:20 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 14:58:26 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 14:58:26 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 14:58:26 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 14:58:26 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 14:58:26 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 14:58:26 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 14:58:26 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 14:58:26 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 14:58:27 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 14:58:27 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 14:58:27 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 14:58:27 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 14:58:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-06 at 14:58:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-06 at 14:58:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/1
2025-06-06 at 14:58:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/1
2025-06-06 at 14:58:37 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/bulk
2025-06-06 at 14:58:37 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/bulk
2025-06-06 at 14:58:37 | INFO | main:18 - 📥 POST http://localhost:8000/api/orders/bulk
2025-06-06 at 14:58:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/bulk
2025-06-06 at 14:58:41 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/3
2025-06-06 at 14:58:41 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/3
2025-06-06 at 14:58:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/3
2025-06-06 at 14:58:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/3
2025-06-06 at 14:58:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/3
2025-06-06 at 14:58:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/3
2025-06-06 at 14:58:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/3
2025-06-06 at 14:58:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/3
2025-06-06 at 14:59:00 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 14:59:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 14:59:00 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 14:59:00 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/me
2025-06-06 at 14:59:00 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/me
2025-06-06 at 14:59:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 14:59:00 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/manual/me
2025-06-06 at 14:59:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-06 at 14:59:00 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/manual/me
2025-06-06 at 14:59:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-06 at 14:59:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 14:59:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 14:59:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 14:59:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 14:59:00 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/me
2025-06-06 at 14:59:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 14:59:00 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/me
2025-06-06 at 14:59:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 14:59:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 14:59:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 14:59:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 14:59:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 14:59:00 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 14:59:00 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 15:05:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 15:05:15 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 15:05:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 15:05:15 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 15:05:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 15:05:15 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 15:05:15 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 15:05:16 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 15:05:16 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 15:05:16 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 15:05:16 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 15:05:16 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 15:08:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 15:08:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 15:08:13 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/me
2025-06-06 at 15:08:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 15:08:13 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/me
2025-06-06 at 15:08:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 15:08:13 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 15:08:13 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 15:08:18 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 15:08:18 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 15:08:18 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 15:08:18 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/me
2025-06-06 at 15:08:18 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 15:08:18 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 15:08:18 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/me
2025-06-06 at 15:08:18 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 15:08:18 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 15:08:18 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 15:08:18 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 15:08:18 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 15:09:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 15:09:47 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 15:09:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 15:09:47 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 15:09:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 15:09:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 15:09:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 15:09:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 15:09:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 15:09:47 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 15:09:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 15:09:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 15:09:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/2
2025-06-06 at 15:09:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/2
2025-06-06 at 15:09:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/2
2025-06-06 at 15:09:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/2
2025-06-06 at 15:09:55 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/bulk
2025-06-06 at 15:09:55 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/bulk
2025-06-06 at 15:09:55 | INFO | main:18 - 📥 POST http://localhost:8000/api/orders/bulk
2025-06-06 at 15:09:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/bulk
2025-06-06 at 15:09:57 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/4
2025-06-06 at 15:09:57 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/4
2025-06-06 at 15:09:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/4
2025-06-06 at 15:09:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/4
2025-06-06 at 15:09:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/4
2025-06-06 at 15:09:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/4
2025-06-06 at 15:09:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/4
2025-06-06 at 15:09:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/4
2025-06-06 at 15:15:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 15:15:30 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 15:15:30 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 15:15:30 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 15:15:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 15:15:31 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 15:15:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 15:15:31 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 15:15:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 15:15:31 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 15:15:31 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 15:15:31 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 15:15:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/2
2025-06-06 at 15:15:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/2
2025-06-06 at 15:15:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/2
2025-06-06 at 15:15:32 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/2
2025-06-06 at 15:15:38 | INFO | main:18 - 📥 POST http://localhost:8000/api/orders/bulk
2025-06-06 at 15:15:40 | ERROR | main:22 - ❌ Exception during request: 1 validation errors:
  {'type': 'enum', 'loc': ('response', 'payment_method'), 'msg': "Input should be 'ton', 'xgen', 'usdt' or 'manual'", 'input': <PaymentMethod.auto: 'auto'>, 'ctx': {'expected': "'ton', 'xgen', 'usdt' or 'manual'"}}

Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7f5a0a4d18a0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7f5a0b35a200>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f5a0b42b7e0>
           └ <SpawnProcess name='SpawnProcess-11' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f5a0b42ad40>
    └ <SpawnProcess name='SpawnProcess-11' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f5a0a744bd0>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-11' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-11' parent=7 started>
    │    └ <function subprocess_started at 0x7f5a0a5b6de0>
    └ <SpawnProcess name='SpawnProcess-11' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f5a0a4edf90>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f5a0a5b5bc0>
           │       │   └ <uvicorn.server.Server object at 0x7f5a0a4edf90>
           │       └ <function run at 0x7f5a0a93bc40>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f5a0a45bd30>
           │      └ <function Runner.run at 0x7f5a0a9931a0>
           └ <asyncio.runners.Runner object at 0x7f5a0a4ed5d0>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f5a0a0741e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f5a0a4ed5d0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5a0a06f690>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5a02dc1f...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5a02d...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5a09f80450>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5a0a06f690>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5a02dc1f...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5a02d...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5a02dc1f...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5a02d...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5a04d38c10>
          └ <fastapi.applications.FastAPI object at 0x7f5a09f80450>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f5a02d584a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5a02d...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f5a052c5b50>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5a04d38c10>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f5a02d5ad40>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7f5a037de250>
                     │    └ <function log_requests at 0x7f5a051b34c0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f5a052c5b50>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7f5a037de250>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f5a02d5ad40>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ResponseValidationError()
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f5a02d5bd80>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5a02d5aac0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5a0512a850>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f5a052c5b50>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '109', 'sec-ch-ua-platform': '"macOS"', 'aut...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f5a02d5bd80>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5a02d5aac0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7f5a051b2f20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5a0512a850>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f5a0512a850>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5a02d5aac0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f5a04d53b90>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5a0512a850>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7f5a0512a850>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5a02d5aac0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7f5a022238d0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7f5a09f70910>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f5a04d53b90>
          └ <function wrap_app_handling_exceptions at 0x7f5a0921a0c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5a02d5bc40>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5a02d5aac0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7f5a09f70910>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5a02d5bc40>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5a02d5aac0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7f5a09f70910>>
          └ <fastapi.routing.APIRouter object at 0x7f5a09f70910>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5a02d5bc40>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5a02d5aac0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7f5a0921b6a0>
          └ APIRoute(path='/api/orders/bulk', name='create_bulk_order', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5a02d5bc40>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5a02d5aac0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f5a04d18540>
          └ APIRoute(path='/api/orders/bulk', name='create_bulk_order', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5a02d5bc40>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5a02d5aac0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7f5a02221e10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7f5a02d5ac00>
          └ <function wrap_app_handling_exceptions at 0x7f5a0921a0c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7f5a037fd580>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5a02d5aac0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7f5a02d5ac00>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7f5a02221e10>
                     └ <function get_request_handler.<locals>.app at 0x7f5a04d184a0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
                    └ <function serialize_response at 0x7f5a09601bc0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
          └ <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'enum', 'loc': ('response', 'payment_method'), 'msg': "Input should be 'ton', 'xgen', 'usdt' or 'manual'", 'input': <PaymentMethod.auto: 'auto'>, 'ctx': {'expected': "'ton', 'xgen', 'usdt' or 'manual'"}}

2025-06-06 at 15:16:46 | INFO | main:18 - 📥 POST http://localhost:8000/api/orders/bulk
2025-06-06 at 15:16:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/bulk
2025-06-06 at 15:16:49 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/6
2025-06-06 at 15:16:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/6
2025-06-06 at 15:16:49 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/6
2025-06-06 at 15:16:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/6
2025-06-06 at 15:16:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/6
2025-06-06 at 15:16:49 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/6
2025-06-06 at 15:16:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/6
2025-06-06 at 15:16:49 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/6
2025-06-06 at 15:16:52 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/me
2025-06-06 at 15:16:52 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-06 at 15:16:52 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/manual/me
2025-06-06 at 15:16:52 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/manual/me
2025-06-06 at 15:16:52 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 15:16:52 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/me
2025-06-06 at 15:16:52 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 15:16:52 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 15:16:52 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-06 at 15:16:52 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 15:16:52 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/me
2025-06-06 at 15:16:52 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 15:16:52 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 15:16:52 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 15:16:52 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/me
2025-06-06 at 15:16:53 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 16:33:39 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 16:33:39 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 16:33:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 16:33:39 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/me
2025-06-06 at 16:33:39 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/manual/me
2025-06-06 at 16:33:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 16:33:39 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/manual/me
2025-06-06 at 16:33:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-06 at 16:33:39 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/me
2025-06-06 at 16:33:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 16:33:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 16:33:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 16:33:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-06 at 16:33:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 16:33:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 16:33:39 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/me
2025-06-06 at 16:33:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 16:33:39 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/me
2025-06-06 at 16:33:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 16:33:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 16:33:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 16:33:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 16:33:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 16:33:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 16:33:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 16:33:51 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 16:33:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 16:33:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 16:33:51 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 16:33:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 16:33:51 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 16:33:51 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 16:33:52 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 16:33:52 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 16:33:52 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 16:33:52 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 17:00:22 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/me
2025-06-06 at 17:00:22 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:00:22 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-06 at 17:00:22 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/me
2025-06-06 at 17:00:22 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:00:22 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:00:22 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-06 at 17:00:22 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:00:22 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 17:00:22 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/me
2025-06-06 at 17:00:22 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:00:22 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 17:00:22 | INFO | main:24 - 📤 422 http://localhost:8000/api/orders/me
2025-06-06 at 17:00:22 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:00:22 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:00:22 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:12:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 17:12:54 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 17:12:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 17:12:54 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 17:12:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 17:12:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-06 at 17:12:54 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-06 at 17:12:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 17:12:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 17:12:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 17:12:54 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-06 at 17:12:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-06 at 17:13:01 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/me
2025-06-06 at 17:13:01 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:13:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-06 at 17:13:01 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/me
2025-06-06 at 17:13:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:13:01 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:13:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-06 at 17:13:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 17:13:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:13:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:13:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-06 at 17:13:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:13:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 17:13:01 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:13:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-06 at 17:13:01 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:13:10 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/6
2025-06-06 at 17:13:10 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/6
2025-06-06 at 17:13:10 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/6
2025-06-06 at 17:13:10 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/6
2025-06-06 at 17:13:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/6
2025-06-06 at 17:13:10 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/6
2025-06-06 at 17:13:10 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/6
2025-06-06 at 17:13:10 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/6
2025-06-06 at 17:13:29 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 17:13:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 17:13:29 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 17:13:29 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 17:13:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 17:13:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 17:13:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 17:13:29 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-06 at 17:13:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 17:13:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 17:13:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 17:13:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 17:13:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 17:13:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 17:13:29 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 17:13:29 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 17:13:34 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders
2025-06-06 at 17:13:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders
2025-06-06 at 17:13:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders
2025-06-06 at 17:13:34 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders
2025-06-06 at 17:13:34 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/orders
2025-06-06 at 17:13:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders
2025-06-06 at 17:13:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders
2025-06-06 at 17:13:34 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders/
2025-06-06 at 17:13:34 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/orders
2025-06-06 at 17:13:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/
2025-06-06 at 17:13:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders/
2025-06-06 at 17:13:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/
2025-06-06 at 17:13:34 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders/
2025-06-06 at 17:13:34 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/
2025-06-06 at 17:13:36 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders/6
2025-06-06 at 17:13:36 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/6
2025-06-06 at 17:13:36 | INFO | main:18 - 📥 PUT http://localhost:8000/api/admin/orders/6
2025-06-06 at 17:13:36 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/6
2025-06-06 at 17:13:36 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders
2025-06-06 at 17:13:36 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/orders
2025-06-06 at 17:13:36 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders/
2025-06-06 at 17:13:36 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/
2025-06-06 at 17:13:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 17:13:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:13:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-06 at 17:13:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:13:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 17:13:39 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:13:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-06 at 17:13:39 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:13:41 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/5
2025-06-06 at 17:13:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/5
2025-06-06 at 17:13:41 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/5
2025-06-06 at 17:13:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/5
2025-06-06 at 17:13:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/5
2025-06-06 at 17:13:41 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/5
2025-06-06 at 17:13:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/5
2025-06-06 at 17:13:41 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/5
2025-06-06 at 17:13:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:13:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 17:13:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-06 at 17:13:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/me
2025-06-06 at 17:13:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:13:47 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:13:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/manual/me
2025-06-06 at 17:13:47 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/me
2025-06-06 at 17:13:48 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/5
2025-06-06 at 17:13:48 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/orders/5
2025-06-06 at 17:13:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/5
2025-06-06 at 17:13:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/5
2025-06-06 at 17:13:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/5
2025-06-06 at 17:13:48 | INFO | main:18 - 📥 GET http://localhost:8000/api/orders/5
2025-06-06 at 17:13:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/5
2025-06-06 at 17:13:48 | INFO | main:24 - 📤 200 http://localhost:8000/api/orders/5
2025-06-06 at 17:13:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 17:13:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 17:13:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 17:13:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 17:13:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 17:13:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 17:13:57 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-06 at 17:13:57 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-06 at 17:13:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders
2025-06-06 at 17:13:58 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/orders
2025-06-06 at 17:13:58 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders
2025-06-06 at 17:13:58 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/orders
2025-06-06 at 17:13:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders/
2025-06-06 at 17:13:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/
2025-06-06 at 17:13:59 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders/
2025-06-06 at 17:13:59 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/
2025-06-06 at 17:14:04 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders/5/refund
2025-06-06 at 17:14:04 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/5/refund
2025-06-06 at 17:14:04 | INFO | main:18 - 📥 POST http://localhost:8000/api/admin/orders/5/refund
2025-06-06 at 17:14:04 | INFO | main:24 - 📤 422 http://localhost:8000/api/admin/orders/5/refund
2025-06-06 at 17:50:54 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders/5/refund
2025-06-06 at 17:50:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/5/refund
2025-06-06 at 17:50:54 | INFO | main:18 - 📥 POST http://localhost:8000/api/admin/orders/5/refund
2025-06-06 at 17:50:55 | INFO | main:24 - 📤 400 http://localhost:8000/api/admin/orders/5/refund
2025-06-06 at 18:03:54 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders/5/refund
2025-06-06 at 18:03:54 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/5/refund
2025-06-06 at 18:03:54 | INFO | main:18 - 📥 POST http://localhost:8000/api/admin/orders/5/refund
2025-06-06 at 18:03:54 | ERROR | main:22 - ❌ Exception during request: name 'OrderStatus' is not defined
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7efdc61298a0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7efdc6fba200>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7efdc708b7e0>
           └ <SpawnProcess name='SpawnProcess-18' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7efdc708ad40>
    └ <SpawnProcess name='SpawnProcess-18' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7efdc636cf50>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=7 started>
    │    └ <function subprocess_started at 0x7efdc61dede0>
    └ <SpawnProcess name='SpawnProcess-18' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7efdc6145ed0>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7efdc61ddbc0>
           │       │   └ <uvicorn.server.Server object at 0x7efdc6145ed0>
           │       └ <function run at 0x7efdc653fc40>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7efdc60b3d30>
           │      └ <function Runner.run at 0x7efdc65971a0>
           └ <asyncio.runners.Runner object at 0x7efdc6145510>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7efdc5cdc1e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7efdc6145510>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7efdc0e1e3d0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7efdc096ed...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7efdc09...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7efdc5be0450>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7efdc0e1e3d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7efdc096ed...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7efdc09...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7efdc096ed...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7efdc09...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7efdc0ec8ed0>
          └ <fastapi.applications.FastAPI object at 0x7efdc5be0450>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7efdc09bff60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7efdc09...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7efdc0deb450>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7efdc0ec8ed0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7efdc09bfec0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7efdc096eed0>
                     │    └ <function log_requests at 0x7efdc0da3740>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7efdc0deb450>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7efdc096eed0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7efdc09bfec0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ NameError("name 'OrderStatus' is not defined")
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7efdc09bed40>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdc09beca0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7efdc091a610>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7efdc0deb450>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '21', 'sec-ch-ua-platform': '"macOS"', 'auth...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7efdc09bed40>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdc09beca0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7efdc0da31a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7efdc091a610>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7efdc091a610>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdc09beca0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7efdc13ca210>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7efdc091a610>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7efdc091a610>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdc09beca0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7efdc09c1fd0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7efdc0ebccd0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7efdc13ca210>
          └ <function wrap_app_handling_exceptions at 0x7efdc4f120c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7efdc09bf1a0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdc09beca0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7efdc0ebccd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7efdc09bf1a0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdc09beca0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7efdc0ebccd0>>
          └ <fastapi.routing.APIRouter object at 0x7efdc0ebccd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7efdc09bf1a0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdc09beca0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7efdc4f136a0>
          └ APIRoute(path='/api/admin/orders/{order_id}/refund', name='refund_order', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7efdc09bf1a0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdc09beca0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7efdc09034c0>
          └ APIRoute(path='/api/admin/orders/{order_id}/refund', name='refund_order', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7efdc09bf1a0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdc09beca0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7efdc0ebe690>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7efdc09bf380>
          └ <function wrap_app_handling_exceptions at 0x7efdc4f120c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7efdc09bf560>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdc09beca0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7efdc09bf380>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7efdc0ebe690>
                     └ <function get_request_handler.<locals>.app at 0x7efdc0903420>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7efdc6f3f560>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7efdc0e7e910>, 'admin': <app.models.user.User object at 0x7efdc09c2f10>, '...
                 │                 │         └ <function refund_order at 0x7efdc0d4c040>
                 │                 └ Dependant(path_params=[ModelField(field_info=Path(PydanticUndefined), name='order_id', mode='validation')], query_params=[], ...
                 └ <function run_in_threadpool at 0x7efdc53ef9c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function refund_order at 0x7efdc0d4c040>, db=<sqlalchemy.orm.session.Session object at 0x7efdc0e7e910>, ad...
                 │     │         └ <function run_sync at 0x7efdc626e520>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7efdc623b6a0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=NameError("name 'OrderStatus' is not defined")>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/admin/orders.py", line 91, in refund_order
    if order.status != OrderStatus.pending:
       │     └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7efdc39a3ba0>
       └ <app.models.order.Order object at 0x7efdbf3988d0>

NameError: name 'OrderStatus' is not defined
2025-06-06 at 18:26:24 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders/5/refund
2025-06-06 at 18:26:24 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/5/refund
2025-06-06 at 18:26:24 | INFO | main:18 - 📥 POST http://localhost:8000/api/admin/orders/5/refund
2025-06-06 at 18:26:24 | ERROR | main:22 - ❌ Exception during request: name 'OrderStatus' is not defined
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7efdc61298a0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7efdc6fba200>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7efdc708b7e0>
           └ <SpawnProcess name='SpawnProcess-18' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7efdc708ad40>
    └ <SpawnProcess name='SpawnProcess-18' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7efdc636cf50>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=7 started>
    │    └ <function subprocess_started at 0x7efdc61dede0>
    └ <SpawnProcess name='SpawnProcess-18' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7efdc6145ed0>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7efdc61ddbc0>
           │       │   └ <uvicorn.server.Server object at 0x7efdc6145ed0>
           │       └ <function run at 0x7efdc653fc40>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7efdc60b3d30>
           │      └ <function Runner.run at 0x7efdc65971a0>
           └ <asyncio.runners.Runner object at 0x7efdc6145510>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7efdc5cdc1e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7efdc6145510>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7efdc0e1e3d0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7efdbf1253...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7efdbf1...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7efdc5be0450>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7efdc0e1e3d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7efdbf1253...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7efdbf1...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7efdbf1253...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7efdbf1...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7efdc0ec8ed0>
          └ <fastapi.applications.FastAPI object at 0x7efdc5be0450>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7efdbf259d00>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7efdbf1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7efdc0deb450>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7efdc0ec8ed0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7efdbf2599e0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7efdbf125b50>
                     │    └ <function log_requests at 0x7efdc0da3740>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7efdc0deb450>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7efdbf125b50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7efdbf2599e0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ NameError("name 'OrderStatus' is not defined")
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7efdbf259b20>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdbf259bc0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7efdc091a610>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7efdc0deb450>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '21', 'sec-ch-ua-platform': '"macOS"', 'auth...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7efdbf259b20>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdbf259bc0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7efdc0da31a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7efdc091a610>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7efdc091a610>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdbf259bc0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7efdc13ca210>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7efdc091a610>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7efdc091a610>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdbf259bc0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7efdbf125f50>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7efdc0ebccd0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7efdc13ca210>
          └ <function wrap_app_handling_exceptions at 0x7efdc4f120c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7efdbf259e40>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdbf259bc0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7efdc0ebccd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7efdbf259e40>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdbf259bc0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7efdc0ebccd0>>
          └ <fastapi.routing.APIRouter object at 0x7efdc0ebccd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7efdbf259e40>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdbf259bc0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7efdc4f136a0>
          └ APIRoute(path='/api/admin/orders/{order_id}/refund', name='refund_order', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7efdbf259e40>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdbf259bc0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7efdc09034c0>
          └ APIRoute(path='/api/admin/orders/{order_id}/refund', name='refund_order', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7efdbf259e40>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdbf259bc0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7efdbf125c90>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7efdbf259ee0>
          └ <function wrap_app_handling_exceptions at 0x7efdc4f120c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7efdbf25a020>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdbf259bc0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7efdbf259ee0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7efdbf125c90>
                     └ <function get_request_handler.<locals>.app at 0x7efdc0903420>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7efdc6f3f560>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7efdbf371090>, 'admin': <app.models.user.User object at 0x7efdbf1278d0>, '...
                 │                 │         └ <function refund_order at 0x7efdc0d4c040>
                 │                 └ Dependant(path_params=[ModelField(field_info=Path(PydanticUndefined), name='order_id', mode='validation')], query_params=[], ...
                 └ <function run_in_threadpool at 0x7efdc53ef9c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function refund_order at 0x7efdc0d4c040>, db=<sqlalchemy.orm.session.Session object at 0x7efdbf371090>, ad...
                 │     │         └ <function run_sync at 0x7efdc626e520>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7efdc623b6a0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=NameError("name 'OrderStatus' is not defined")>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/admin/orders.py", line 91, in refund_order
    if order.status != OrderStatus.pending:
       │     └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7efdc39a3ba0>
       └ <app.models.order.Order object at 0x7efdbf127e10>

NameError: name 'OrderStatus' is not defined
2025-06-07 at 11:04:26 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders/5/refund
2025-06-07 at 11:04:26 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/5/refund
2025-06-07 at 11:04:26 | INFO | main:18 - 📥 POST http://localhost:8000/api/admin/orders/5/refund
2025-06-07 at 11:04:26 | ERROR | main:22 - ❌ Exception during request: name 'OrderStatus' is not defined
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x7efdc61298a0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 10
               └ <function _main at 0x7efdc6fba200>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7efdc708b7e0>
           └ <SpawnProcess name='SpawnProcess-18' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7efdc708ad40>
    └ <SpawnProcess name='SpawnProcess-18' parent=7 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7efdc636cf50>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-18' parent=7 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-18' parent=7 started>
    │    └ <function subprocess_started at 0x7efdc61dede0>
    └ <SpawnProcess name='SpawnProcess-18' parent=7 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7efdc6145ed0>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7efdc61ddbc0>
           │       │   └ <uvicorn.server.Server object at 0x7efdc6145ed0>
           │       └ <function run at 0x7efdc653fc40>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7efdc60b3d30>
           │      └ <function Runner.run at 0x7efdc65971a0>
           └ <asyncio.runners.Runner object at 0x7efdc6145510>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:70> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7efdc5cdc1e0>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7efdc6145510>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7efdc0e1e3d0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7efdbf12ce...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7efdbf1...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7efdc5be0450>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7efdc0e1e3d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7efdbf12ce...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7efdbf1...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7efdbf12ce...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7efdbf1...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7efdc0ec8ed0>
          └ <fastapi.applications.FastAPI object at 0x7efdc5be0450>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7efdbf25a200>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7efdbf1...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7efdc0deb450>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7efdc0ec8ed0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7efdbf25a3e0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x7efdbf12d450>
                     │    └ <function log_requests at 0x7efdc0da3740>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7efdc0deb450>

> File "/app/app/main.py", line 20, in log_requests
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x7efdbf12d450>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7efdbf25a3e0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ NameError("name 'OrderStatus' is not defined")
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7efdbf25a5c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdbf259940>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7efdc091a610>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7efdc0deb450>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '21', 'sec-ch-ua-platform': '"macOS"', 'auth...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7efdbf25a5c0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdbf259940>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0x7efdc0da31a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7efdc091a610>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7efdc091a610>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdbf259940>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7efdc13ca210>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7efdc091a610>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7efdc091a610>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdbf259940>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0x7efdbf12dad0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x7efdc0ebccd0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7efdc13ca210>
          └ <function wrap_app_handling_exceptions at 0x7efdc4f120c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7efdbf25aa20>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdbf259940>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0x7efdc0ebccd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7efdbf25aa20>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdbf259940>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7efdc0ebccd0>>
          └ <fastapi.routing.APIRouter object at 0x7efdc0ebccd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7efdbf25aa20>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdbf259940>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │     └ <function Route.handle at 0x7efdc4f136a0>
          └ APIRoute(path='/api/admin/orders/{order_id}/refund', name='refund_order', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7efdbf25aa20>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdbf259940>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7efdc09034c0>
          └ APIRoute(path='/api/admin/orders/{order_id}/refund', name='refund_order', methods=['POST'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7efdbf25aa20>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdbf259940>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0x7efdbf12d910>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7efdbf25aac0>
          └ <function wrap_app_handling_exceptions at 0x7efdc4f120c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7efdbf25ac00>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7efdbf259940>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.18.0.4', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0x7efdbf25aac0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x7efdbf12d910>
                     └ <function get_request_handler.<locals>.app at 0x7efdc0903420>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7efdc6f3f560>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x7efdbf2da850>, 'admin': <app.models.user.User object at 0x7efdbf2db410>, '...
                 │                 │         └ <function refund_order at 0x7efdc0d4c040>
                 │                 └ Dependant(path_params=[ModelField(field_info=Path(PydanticUndefined), name='order_id', mode='validation')], query_params=[], ...
                 └ <function run_in_threadpool at 0x7efdc53ef9c0>
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function refund_order at 0x7efdc0d4c040>, db=<sqlalchemy.orm.session.Session object at 0x7efdbf2da850>, ad...
                 │     │         └ <function run_sync at 0x7efdc626e520>
                 │     └ <module 'anyio.to_thread' from '/usr/local/lib/python3.11/site-packages/anyio/to_thread.py'>
                 └ <module 'anyio' from '/usr/local/lib/python3.11/site-packages/anyio/__init__.py'>
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x7efdc623b6a0>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=NameError("name 'OrderStatus' is not defined")>
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)

  File "/app/app/routers/admin/orders.py", line 91, in refund_order
    if order.status != OrderStatus.pending:
       │     └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x7efdc39a3ba0>
       └ <app.models.order.Order object at 0x7efdbf126a90>

NameError: name 'OrderStatus' is not defined
2025-06-07 at 11:06:10 | INFO | main:18 - 📥 POST http://localhost:8000/api/admin/orders/5/refund
2025-06-07 at 11:06:12 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/5/refund
2025-06-07 at 11:06:12 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders
2025-06-07 at 11:06:12 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders
2025-06-07 at 11:06:12 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders
2025-06-07 at 11:06:12 | INFO | main:24 - 📤 307 http://localhost:8000/api/admin/orders
2025-06-07 at 11:06:12 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/admin/orders/
2025-06-07 at 11:06:12 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/
2025-06-07 at 11:06:12 | INFO | main:18 - 📥 GET http://localhost:8000/api/admin/orders/
2025-06-07 at 11:06:12 | INFO | main:24 - 📤 200 http://localhost:8000/api/admin/orders/
2025-06-07 at 11:06:36 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-07 at 11:06:36 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-07 at 11:06:36 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-07 at 11:06:36 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-07 at 11:06:36 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-07 at 11:06:36 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-07 at 11:06:36 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-07 at 11:06:36 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-07 at 11:06:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-07 at 11:06:37 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-07 at 11:06:37 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-07 at 11:06:37 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-07 at 11:07:50 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-07 at 11:07:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-07 at 11:07:50 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/users/me
2025-06-07 at 11:07:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-07 at 11:07:50 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-07 at 11:07:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-07 at 11:07:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-07 at 11:07:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-07 at 11:07:50 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-07 at 11:07:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-07 at 11:07:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-07 at 11:07:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/users/me
2025-06-07 at 11:07:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-07 at 11:07:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-07 at 11:07:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-07 at 11:07:50 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-07 at 11:07:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-07 at 11:07:50 | INFO | main:18 - 📥 GET http://localhost:8000/api/games/?q=
2025-06-07 at 11:07:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/games/?q=
2025-06-07 at 11:07:50 | INFO | main:24 - 📤 200 http://localhost:8000/api/users/me
2025-06-07 at 11:15:32 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/games?q=
2025-06-07 at 11:15:32 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/games?q=
2025-06-07 at 11:15:32 | INFO | main:24 - 📤 400 http://localhost:8000/api/games?q=
2025-06-07 at 11:15:32 | INFO | main:24 - 📤 400 http://localhost:8000/api/games?q=
2025-06-07 at 11:15:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-07 at 11:15:32 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-07 at 11:15:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-07 at 11:15:32 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-07 at 11:15:32 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/games?q=
2025-06-07 at 11:15:32 | INFO | main:24 - 📤 400 http://localhost:8000/api/games?q=
2025-06-07 at 11:15:32 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-07 at 11:15:32 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-07 at 11:17:35 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/games?q=
2025-06-07 at 11:17:35 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/games?q=
2025-06-07 at 11:17:35 | INFO | main:24 - 📤 400 http://localhost:8000/api/games?q=
2025-06-07 at 11:17:35 | INFO | main:24 - 📤 400 http://localhost:8000/api/games?q=
2025-06-07 at 11:17:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-07 at 11:17:35 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-07 at 11:17:35 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-07 at 11:17:35 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-07 at 11:17:36 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/games?q=
2025-06-07 at 11:17:36 | INFO | main:24 - 📤 400 http://localhost:8000/api/games?q=
2025-06-07 at 11:17:36 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-07 at 11:17:36 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-07 at 11:20:07 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/games?q=
2025-06-07 at 11:20:07 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/games?q=
2025-06-07 at 11:20:07 | INFO | main:24 - 📤 400 http://localhost:8000/api/games?q=
2025-06-07 at 11:20:07 | INFO | main:24 - 📤 400 http://localhost:8000/api/games?q=
2025-06-07 at 11:20:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-07 at 11:20:07 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-07 at 11:20:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-07 at 11:20:07 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-07 at 11:20:07 | INFO | main:18 - 📥 OPTIONS http://localhost:8000/api/games?q=
2025-06-07 at 11:20:07 | INFO | main:24 - 📤 400 http://localhost:8000/api/games?q=
2025-06-07 at 11:20:07 | INFO | main:18 - 📥 GET http://localhost:8000/api/games?q=
2025-06-07 at 11:20:07 | INFO | main:24 - 📤 307 http://localhost:8000/api/games?q=
2025-06-07 at 11:28:06 | INFO | main:18 - 📥 GET http://backend:8000/api/games?q=
2025-06-07 at 11:28:06 | INFO | main:24 - 📤 307 http://backend:8000/api/games?q=
2025-06-07 at 11:28:06 | INFO | main:18 - 📥 GET http://backend:8000/api/games?q=
2025-06-07 at 11:28:06 | INFO | main:24 - 📤 307 http://backend:8000/api/games?q=
2025-06-07 at 11:28:07 | INFO | main:18 - 📥 GET http://backend:8000/api/games?q=
2025-06-07 at 11:28:07 | INFO | main:24 - 📤 307 http://backend:8000/api/games?q=
2025-06-07 at 11:33:41 | INFO | main:18 - 📥 GET http://backend:8000/api/games?q=
2025-06-07 at 11:33:41 | INFO | main:24 - 📤 307 http://backend:8000/api/games?q=
2025-06-07 at 11:33:41 | INFO | main:18 - 📥 GET http://backend:8000/api/games?q=
2025-06-07 at 11:33:41 | INFO | main:24 - 📤 307 http://backend:8000/api/games?q=
2025-06-07 at 11:33:42 | INFO | main:18 - 📥 GET http://backend:8000/api/games?q=
2025-06-07 at 11:33:42 | INFO | main:24 - 📤 307 http://backend:8000/api/games?q=
2025-06-07 at 11:41:15 | INFO | main:18 - 📥 GET http://backend:8000/api/games?q=
2025-06-07 at 11:41:15 | INFO | main:24 - 📤 307 http://backend:8000/api/games?q=
2025-06-07 at 11:41:15 | INFO | main:18 - 📥 GET http://backend:8000/api/games?q=
2025-06-07 at 11:41:15 | INFO | main:24 - 📤 307 http://backend:8000/api/games?q=
2025-06-07 at 11:41:16 | INFO | main:18 - 📥 GET http://backend:8000/api/games?q=
2025-06-07 at 11:41:16 | INFO | main:24 - 📤 307 http://backend:8000/api/games?q=
2025-06-07 at 11:46:08 | INFO | main:18 - 📥 GET http://backend:8000/api/games?q=
2025-06-07 at 11:46:08 | INFO | main:24 - 📤 307 http://backend:8000/api/games?q=
2025-06-07 at 11:46:08 | INFO | main:18 - 📥 GET http://backend:8000/api/games?q=
2025-06-07 at 11:46:08 | INFO | main:24 - 📤 307 http://backend:8000/api/games?q=
2025-06-07 at 11:46:09 | INFO | main:18 - 📥 GET http://backend:8000/api/games?q=
2025-06-07 at 11:46:09 | INFO | main:24 - 📤 307 http://backend:8000/api/games?q=
2025-06-07 at 11:59:33 | INFO | main:18 - 📥 GET http://77da-81-19-137-222.ngrok-free.app/games?q=
2025-06-07 at 11:59:33 | INFO | main:24 - 📤 404 http://77da-81-19-137-222.ngrok-free.app/games?q=
2025-06-07 at 11:59:33 | INFO | main:18 - 📥 GET http://77da-81-19-137-222.ngrok-free.app/games?q=
2025-06-07 at 11:59:33 | INFO | main:24 - 📤 404 http://77da-81-19-137-222.ngrok-free.app/games?q=
2025-06-07 at 11:59:33 | INFO | main:18 - 📥 GET http://77da-81-19-137-222.ngrok-free.app/games?q=
2025-06-07 at 11:59:33 | INFO | main:24 - 📤 404 http://77da-81-19-137-222.ngrok-free.app/games?q=
2025-06-07 at 12:04:01 | INFO | main:18 - 📥 GET http://77da-81-19-137-222.ngrok-free.app/api/games?q=
2025-06-07 at 12:04:01 | INFO | main:24 - 📤 307 http://77da-81-19-137-222.ngrok-free.app/api/games?q=
2025-06-07 at 12:04:01 | INFO | main:18 - 📥 GET http://77da-81-19-137-222.ngrok-free.app/api/games?q=
2025-06-07 at 12:04:01 | INFO | main:24 - 📤 307 http://77da-81-19-137-222.ngrok-free.app/api/games?q=
2025-06-07 at 12:04:02 | INFO | main:18 - 📥 GET http://77da-81-19-137-222.ngrok-free.app/api/games?q=
2025-06-07 at 12:04:02 | INFO | main:24 - 📤 307 http://77da-81-19-137-222.ngrok-free.app/api/games?q=
